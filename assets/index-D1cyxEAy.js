(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function c(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(f){if(f.ep)return;f.ep=!0;const m=c(f);fetch(f.href,m)}})();function Hh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rc={exports:{}},Ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function jg(){if(Wm)return Ws;Wm=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function c(i,f,m){var h=null;if(m!==void 0&&(h=""+m),f.key!==void 0&&(h=""+f.key),"key"in f){m={};for(var y in f)y!=="key"&&(m[y]=f[y])}else m=f;return f=m.ref,{$$typeof:s,type:i,key:h,ref:f!==void 0?f:null,props:m}}return Ws.Fragment=r,Ws.jsx=c,Ws.jsxs=c,Ws}var Pm;function Ng(){return Pm||(Pm=1,Rc.exports=jg()),Rc.exports}var n=Ng(),Hc={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function Sg(){if(eh)return qe;eh=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),S=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function P(b,O,$){this.props=b,this.context=O,this.refs=ee,this.updater=$||V}P.prototype.isReactComponent={},P.prototype.setState=function(b,O){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,O,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function M(){}M.prototype=P.prototype;function Z(b,O,$){this.props=b,this.context=O,this.refs=ee,this.updater=$||V}var T=Z.prototype=new M;T.constructor=Z,J(T,P.prototype),T.isPureReactComponent=!0;var B=Array.isArray;function C(){}var L={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function we(b,O,$){var _=$.ref;return{$$typeof:s,type:b,key:O,ref:_!==void 0?_:null,props:$}}function Se(b,O){return we(b.type,O,b.props)}function z(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function ue(b){var O={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function($){return O[$]})}var ce=/\/+/g;function Ce(b,O){return typeof b=="object"&&b!==null&&b.key!=null?ue(""+b.key):O.toString(36)}function Te(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(C,C):(b.status="pending",b.then(function(O){b.status==="pending"&&(b.status="fulfilled",b.value=O)},function(O){b.status==="pending"&&(b.status="rejected",b.reason=O)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function D(b,O,$,_,Q){var W=typeof b;(W==="undefined"||W==="boolean")&&(b=null);var ae=!1;if(b===null)ae=!0;else switch(W){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(b.$$typeof){case s:case r:ae=!0;break;case N:return ae=b._init,D(ae(b._payload),O,$,_,Q)}}if(ae)return Q=Q(b),ae=_===""?"."+Ce(b,0):_,B(Q)?($="",ae!=null&&($=ae.replace(ce,"$&/")+"/"),D(Q,O,$,"",function(le){return le})):Q!=null&&(z(Q)&&(Q=Se(Q,$+(Q.key==null||b&&b.key===Q.key?"":(""+Q.key).replace(ce,"$&/")+"/")+ae)),O.push(Q)),1;ae=0;var te=_===""?".":_+":";if(B(b))for(var me=0;me<b.length;me++)_=b[me],W=te+Ce(_,me),ae+=D(_,O,$,W,Q);else if(me=A(b),typeof me=="function")for(b=me.call(b),me=0;!(_=b.next()).done;)_=_.value,W=te+Ce(_,me++),ae+=D(_,O,$,W,Q);else if(W==="object"){if(typeof b.then=="function")return D(Te(b),O,$,_,Q);throw O=String(b),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ae}function U(b,O,$){if(b==null)return b;var _=[],Q=0;return D(b,_,"","",function(W){return O.call($,W,Q++)}),_}function G(b){if(b._status===-1){var O=b._result;O=O(),O.then(function($){(b._status===0||b._status===-1)&&(b._status=1,b._result=$)},function($){(b._status===0||b._status===-1)&&(b._status=2,b._result=$)}),b._status===-1&&(b._status=0,b._result=O)}if(b._status===1)return b._result.default;throw b._result}var be=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},H={map:U,forEach:function(b,O,$){U(b,function(){O.apply(this,arguments)},$)},count:function(b){var O=0;return U(b,function(){O++}),O},toArray:function(b){return U(b,function(O){return O})||[]},only:function(b){if(!z(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return qe.Activity=j,qe.Children=H,qe.Component=P,qe.Fragment=c,qe.Profiler=f,qe.PureComponent=Z,qe.StrictMode=i,qe.Suspense=w,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,qe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return L.H.useMemoCache(b)}},qe.cache=function(b){return function(){return b.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(b,O,$){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var _=J({},b.props),Q=b.key;if(O!=null)for(W in O.key!==void 0&&(Q=""+O.key),O)!se.call(O,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&O.ref===void 0||(_[W]=O[W]);var W=arguments.length-2;if(W===1)_.children=$;else if(1<W){for(var ae=Array(W),te=0;te<W;te++)ae[te]=arguments[te+2];_.children=ae}return we(b.type,Q,_)},qe.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:m,_context:b},b},qe.createElement=function(b,O,$){var _,Q={},W=null;if(O!=null)for(_ in O.key!==void 0&&(W=""+O.key),O)se.call(O,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(Q[_]=O[_]);var ae=arguments.length-2;if(ae===1)Q.children=$;else if(1<ae){for(var te=Array(ae),me=0;me<ae;me++)te[me]=arguments[me+2];Q.children=te}if(b&&b.defaultProps)for(_ in ae=b.defaultProps,ae)Q[_]===void 0&&(Q[_]=ae[_]);return we(b,W,Q)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(b){return{$$typeof:y,render:b}},qe.isValidElement=z,qe.lazy=function(b){return{$$typeof:N,_payload:{_status:-1,_result:b},_init:G}},qe.memo=function(b,O){return{$$typeof:x,type:b,compare:O===void 0?null:O}},qe.startTransition=function(b){var O=L.T,$={};L.T=$;try{var _=b(),Q=L.S;Q!==null&&Q($,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(C,be)}catch(W){be(W)}finally{O!==null&&$.types!==null&&(O.types=$.types),L.T=O}},qe.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},qe.use=function(b){return L.H.use(b)},qe.useActionState=function(b,O,$){return L.H.useActionState(b,O,$)},qe.useCallback=function(b,O){return L.H.useCallback(b,O)},qe.useContext=function(b){return L.H.useContext(b)},qe.useDebugValue=function(){},qe.useDeferredValue=function(b,O){return L.H.useDeferredValue(b,O)},qe.useEffect=function(b,O){return L.H.useEffect(b,O)},qe.useEffectEvent=function(b){return L.H.useEffectEvent(b)},qe.useId=function(){return L.H.useId()},qe.useImperativeHandle=function(b,O,$){return L.H.useImperativeHandle(b,O,$)},qe.useInsertionEffect=function(b,O){return L.H.useInsertionEffect(b,O)},qe.useLayoutEffect=function(b,O){return L.H.useLayoutEffect(b,O)},qe.useMemo=function(b,O){return L.H.useMemo(b,O)},qe.useOptimistic=function(b,O){return L.H.useOptimistic(b,O)},qe.useReducer=function(b,O,$){return L.H.useReducer(b,O,$)},qe.useRef=function(b){return L.H.useRef(b)},qe.useState=function(b){return L.H.useState(b)},qe.useSyncExternalStore=function(b,O,$){return L.H.useSyncExternalStore(b,O,$)},qe.useTransition=function(){return L.H.useTransition()},qe.version="19.2.4",qe}var th;function au(){return th||(th=1,Hc.exports=Sg()),Hc.exports}var v=au();const or=Hh(v);var Lc={exports:{}},Ps={},zc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function kg(){return nh||(nh=1,(function(s){function r(D,U){var G=D.length;D.push(U);e:for(;0<G;){var be=G-1>>>1,H=D[be];if(0<f(H,U))D[be]=U,D[G]=H,G=be;else break e}}function c(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],G=D.pop();if(G!==U){D[0]=G;e:for(var be=0,H=D.length,b=H>>>1;be<b;){var O=2*(be+1)-1,$=D[O],_=O+1,Q=D[_];if(0>f($,G))_<H&&0>f(Q,$)?(D[be]=Q,D[_]=G,be=_):(D[be]=$,D[O]=G,be=O);else if(_<H&&0>f(Q,G))D[be]=Q,D[_]=G,be=_;else break e}}return U}function f(D,U){var G=D.sortIndex-U.sortIndex;return G!==0?G:D.id-U.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;s.unstable_now=function(){return m.now()}}else{var h=Date,y=h.now();s.unstable_now=function(){return h.now()-y}}var w=[],x=[],N=1,j=null,S=3,A=!1,V=!1,J=!1,ee=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function T(D){for(var U=c(x);U!==null;){if(U.callback===null)i(x);else if(U.startTime<=D)i(x),U.sortIndex=U.expirationTime,r(w,U);else break;U=c(x)}}function B(D){if(J=!1,T(D),!V)if(c(w)!==null)V=!0,C||(C=!0,ue());else{var U=c(x);U!==null&&Te(B,U.startTime-D)}}var C=!1,L=-1,se=5,we=-1;function Se(){return ee?!0:!(s.unstable_now()-we<se)}function z(){if(ee=!1,C){var D=s.unstable_now();we=D;var U=!0;try{e:{V=!1,J&&(J=!1,M(L),L=-1),A=!0;var G=S;try{t:{for(T(D),j=c(w);j!==null&&!(j.expirationTime>D&&Se());){var be=j.callback;if(typeof be=="function"){j.callback=null,S=j.priorityLevel;var H=be(j.expirationTime<=D);if(D=s.unstable_now(),typeof H=="function"){j.callback=H,T(D),U=!0;break t}j===c(w)&&i(w),T(D)}else i(w);j=c(w)}if(j!==null)U=!0;else{var b=c(x);b!==null&&Te(B,b.startTime-D),U=!1}}break e}finally{j=null,S=G,A=!1}U=void 0}}finally{U?ue():C=!1}}}var ue;if(typeof Z=="function")ue=function(){Z(z)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Ce=ce.port2;ce.port1.onmessage=z,ue=function(){Ce.postMessage(null)}}else ue=function(){P(z,0)};function Te(D,U){L=P(function(){D(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(D){switch(S){case 1:case 2:case 3:var U=3;break;default:U=S}var G=S;S=U;try{return D()}finally{S=G}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=S;S=D;try{return U()}finally{S=G}},s.unstable_scheduleCallback=function(D,U,G){var be=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?be+G:be):G=be,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:N++,callback:U,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>be?(D.sortIndex=G,r(x,D),c(w)===null&&D===c(x)&&(J?(M(L),L=-1):J=!0,Te(B,G-be))):(D.sortIndex=H,r(w,D),V||A||(V=!0,C||(C=!0,ue()))),D},s.unstable_shouldYield=Se,s.unstable_wrapCallback=function(D){var U=S;return function(){var G=S;S=U;try{return D.apply(this,arguments)}finally{S=G}}}})(Uc)),Uc}var ah;function Tg(){return ah||(ah=1,zc.exports=kg()),zc.exports}var Ic={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function _g(){if(lh)return tn;lh=1;var s=au();function r(w){var x="https://react.dev/errors/"+w;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)x+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+w+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var i={d:{f:c,r:function(){throw Error(r(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},f=Symbol.for("react.portal");function m(w,x,N){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:j==null?null:""+j,children:w,containerInfo:x,implementation:N}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(w,x){if(w==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(w,x){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return m(w,x,null,N)},tn.flushSync=function(w){var x=h.T,N=i.p;try{if(h.T=null,i.p=2,w)return w()}finally{h.T=x,i.p=N,i.d.f()}},tn.preconnect=function(w,x){typeof w=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(w,x))},tn.prefetchDNS=function(w){typeof w=="string"&&i.d.D(w)},tn.preinit=function(w,x){if(typeof w=="string"&&x&&typeof x.as=="string"){var N=x.as,j=y(N,x.crossOrigin),S=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;N==="style"?i.d.S(w,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:j,integrity:S,fetchPriority:A}):N==="script"&&i.d.X(w,{crossOrigin:j,integrity:S,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},tn.preinitModule=function(w,x){if(typeof w=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var N=y(x.as,x.crossOrigin);i.d.M(w,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(w)},tn.preload=function(w,x){if(typeof w=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var N=x.as,j=y(N,x.crossOrigin);i.d.L(w,N,{crossOrigin:j,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},tn.preloadModule=function(w,x){if(typeof w=="string")if(x){var N=y(x.as,x.crossOrigin);i.d.m(w,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(w)},tn.requestFormReset=function(w){i.d.r(w)},tn.unstable_batchedUpdates=function(w,x){return w(x)},tn.useFormState=function(w,x,N){return h.H.useFormState(w,x,N)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var sh;function Bg(){if(sh)return Ic.exports;sh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ic.exports=_g(),Ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function Eg(){if(rh)return Ps;rh=1;var s=Tg(),r=au(),c=Bg();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(m(e)!==e)throw Error(i(188))}function x(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return w(o),e;if(u===l)return w(o),t;u=u.sibling}throw Error(i(188))}if(a.return!==l.return)a=o,l=u;else{for(var d=!1,g=o.child;g;){if(g===a){d=!0,a=o,l=u;break}if(g===l){d=!0,l=o,a=u;break}g=g.sibling}if(!d){for(g=u.child;g;){if(g===a){d=!0,a=u,l=o;break}if(g===l){d=!0,l=u,a=o;break}g=g.sibling}if(!d)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case P:return"Profiler";case ee:return"StrictMode";case B:return"Suspense";case C:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case Z:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}var Te=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},be=[],H=-1;function b(e){return{current:e}}function O(e){0>H||(e.current=be[H],be[H]=null,H--)}function $(e,t){H++,be[H]=e.current,e.current=t}var _=b(null),Q=b(null),W=b(null),ae=b(null);function te(e,t){switch($(W,t),$(Q,e),$(_,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wm(t),e=jm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(_),$(_,e)}function me(){O(_),O(Q),O(W)}function le(e){e.memoizedState!==null&&$(ae,e);var t=_.current,a=jm(t,e.type);t!==a&&($(Q,e),$(_,a))}function p(e){Q.current===e&&(O(_),O(Q)),ae.current===e&&(O(ae),Qs._currentValue=G)}var ye,fe;function ge(e){if(ye===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||"",fe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+e+fe}var de=!1;function De(e,t){if(!e||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(X){Y=X}e.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),d=u[0],g=u[1];if(d&&g){var k=d.split(`
`),q=g.split(`
`);for(o=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;o<q.length&&!q[o].includes("DetermineComponentFrameRoot");)o++;if(l===k.length||o===q.length)for(l=k.length-1,o=q.length-1;1<=l&&0<=o&&k[l]!==q[o];)o--;for(;1<=l&&0<=o;l--,o--)if(k[l]!==q[o]){if(l!==1||o!==1)do if(l--,o--,0>o||k[l]!==q[o]){var ne=`
`+k[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=o);break}}}finally{de=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ge(a):""}function Ue(e,t){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==t&&t!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return De(e.type,!1);case 11:return De(e.type.render,!1);case 1:return De(e.type,!0);case 31:return ge("Activity");default:return""}}function Be(e){try{var t="",a=null;do t+=Ue(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xe=Object.prototype.hasOwnProperty,Ee=s.unstable_scheduleCallback,Ae=s.unstable_cancelCallback,oe=s.unstable_shouldYield,I=s.unstable_requestPaint,he=s.unstable_now,Fe=s.unstable_getCurrentPriorityLevel,Le=s.unstable_ImmediatePriority,Xe=s.unstable_UserBlockingPriority,Ie=s.unstable_NormalPriority,it=s.unstable_LowPriority,zt=s.unstable_IdlePriority,Tt=s.log,an=s.unstable_setDisableYieldValue,dt=null,jt=null;function Kt(e){if(typeof Tt=="function"&&an(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(dt,e)}catch{}}var St=Math.clz32?Math.clz32:Vt,ta=Math.log,hn=Math.LN2;function Vt(e){return e>>>=0,e===0?32:31-(ta(e)/hn|0)|0}var Nn=256,Sn=262144,kn=4194304;function qt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tn(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~u,l!==0?o=qt(l):(d&=g,d!==0?o=qt(d):a||(a=g&~e,a!==0&&(o=qt(a))))):(g=l&~u,g!==0?o=qt(g):d!==0?o=qt(d):a||(a=l&~e,a!==0&&(o=qt(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function ln(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _e(){var e=kn;return kn<<=1,(kn&62914560)===0&&(kn=4194304),e}function st(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function pt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pt(e,t,a,l,o,u){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,k=e.expirationTimes,q=e.hiddenUpdates;for(a=d&~a;0<a;){var ne=31-St(a),ie=1<<ne;g[ne]=0,k[ne]=-1;var Y=q[ne];if(Y!==null)for(q[ne]=null,ne=0;ne<Y.length;ne++){var X=Y[ne];X!==null&&(X.lane&=-536870913)}a&=~ie}l!==0&&$t(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~t))}function $t(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-St(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function _n(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-St(a),o=1<<l;o&t|e[l]&t&&(e[l]|=t),a&=~o}}function na(e,t){var a=t&-t;return a=(a&42)!==0?1:Yt(a),(a&(e.suspendedLanes|t))!==0?0:a}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ot(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Ym(e.type))}function Mt(e,t){var a=U.p;try{return U.p=e,t()}finally{U.p=a}}var Dt=Math.random().toString(36).slice(2),bt="__reactFiber$"+Dt,Ut="__reactProps$"+Dt,Ln="__reactContainer$"+Dt,_a="__reactEvents$"+Dt,Nl="__reactListeners$"+Dt,Sl="__reactHandles$"+Dt,tl="__reactResources$"+Dt,Zn="__reactMarker$"+Dt;function Ba(e){delete e[bt],delete e[Ut],delete e[_a],delete e[Nl],delete e[Sl]}function zn(e){var t=e[bt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ln]||a[bt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Em(e);e!==null;){if(a=e[bt])return a;e=Em(e)}return t}e=a,a=e.parentNode}return null}function Un(e){if(e=e[bt]||e[Ln]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function pn(e){var t=e[tl];return t||(t=e[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function kt(e){e[Zn]=!0}var nl=new Set,al={};function Bn(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(al[e]=t,e=0;e<t.length;e++)nl.add(t[e])}var aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ea={},K={};function ve(e){return xe.call(K,e)?!0:xe.call(Ea,e)?!1:aa.test(e)?K[e]=!0:(Ea[e]=!0,!1)}function je(e,t,a){if(ve(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function pe(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ke(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function He(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $e(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tt(e){if(!e._valueTracker){var t=He(e)?"checked":"value";e._valueTracker=$e(e,t,""+e[t])}}function rt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=He(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ve(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yt=/[\n"\\]/g;function gt(e){return e.replace(yt,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function en(e,t,a,l,o,u,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ne(t)):e.value!==""+Ne(t)&&(e.value=""+Ne(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?sa(e,d,Ne(t)):a!=null?sa(e,d,Ne(a)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Ne(g):e.removeAttribute("name")}function la(e,t,a,l,o,u,d,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){tt(e);return}a=a!=null?""+Ne(a):"",t=t!=null?""+Ne(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),tt(e)}function sa(e,t,a){t==="number"&&Ve(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function sn(e,t,a,l){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ne(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function kl(e,t,a){if(t!=null&&(t=""+Ne(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ne(a):""}function Tl(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(Te(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ne(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),tt(e)}function _l(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var x0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||x0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function bu(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&a[o]!==l&&xu(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&xu(e,u,t[u])}function $i(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(e){return y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ra(){}var Mi=null;function Di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bl=null,El=null;function yu(e){var t=Un(e);if(t&&(e=t.stateNode)){var a=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(en(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var o=l[Ut]||null;if(!o)throw Error(i(90));en(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&rt(l)}break e;case"textarea":kl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&sn(e,!!a.multiple,t,!1)}}}var Oi=!1;function vu(e,t,a){if(Oi)return e(t,a);Oi=!0;try{var l=e(t);return l}finally{if(Oi=!1,(Bl!==null||El!==null)&&(Kr(),Bl&&(t=Bl,e=El,El=Bl=null,yu(t),e)))for(t=0;t<e.length;t++)yu(e[t])}}function ds(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(ia)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Ci=!1}var Aa=null,Ri=null,dr=null;function wu(){if(dr)return dr;var e,t=Ri,a=t.length,l,o="value"in Aa?Aa.value:Aa.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var d=a-e;for(l=1;l<=d&&t[a-l]===o[u-l];l++);return dr=o.slice(e,1<l?1-l:void 0)}function fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function ju(){return!1}function rn(e){function t(a,l,o,u,d){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?mr:ju,this.isPropagationStopped=ju,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=rn(ll),ms=j({},ll,{view:0,detail:0}),v0=rn(ms),Hi,Li,hs,pr=j({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(Hi=e.screenX-hs.screenX,Li=e.screenY-hs.screenY):Li=Hi=0,hs=e),Hi)},movementY:function(e){return"movementY"in e?e.movementY:Li}}),Nu=rn(pr),w0=j({},pr,{dataTransfer:0}),j0=rn(w0),N0=j({},ms,{relatedTarget:0}),zi=rn(N0),S0=j({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=rn(S0),T0=j({},ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_0=rn(T0),B0=j({},ll,{data:0}),Su=rn(B0),E0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$0[e])?!!t[e]:!1}function Ui(){return M0}var D0=j({},ms,{key:function(e){if(e.key){var t=E0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=rn(D0),C0=j({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=rn(C0),R0=j({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),H0=rn(R0),L0=j({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=rn(L0),U0=j({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I0=rn(U0),F0=j({},ll,{newState:0,oldState:0}),V0=rn(F0),q0=[9,13,27,32],Ii=ia&&"CompositionEvent"in window,ps=null;ia&&"documentMode"in document&&(ps=document.documentMode);var Y0=ia&&"TextEvent"in window&&!ps,Tu=ia&&(!Ii||ps&&8<ps&&11>=ps),_u=" ",Bu=!1;function Eu(e,t){switch(e){case"keyup":return q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Al=!1;function G0(e,t){switch(e){case"compositionend":return Au(t);case"keypress":return t.which!==32?null:(Bu=!0,_u);case"textInput":return e=t.data,e===_u&&Bu?null:e;default:return null}}function Z0(e,t){if(Al)return e==="compositionend"||!Ii&&Eu(e,t)?(e=wu(),dr=Ri=Aa=null,Al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tu&&t.locale!=="ko"?null:t.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q0[e.type]:t==="textarea"}function Mu(e,t,a,l){Bl?El?El.push(l):El=[l]:Bl=l,t=li(t,"onChange"),0<t.length&&(a=new hr("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var gs=null,xs=null;function X0(e){pm(e,0)}function gr(e){var t=Qn(e);if(rt(t))return e}function Du(e,t){if(e==="change")return t}var Ou=!1;if(ia){var Fi;if(ia){var Vi="oninput"in document;if(!Vi){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),Vi=typeof Cu.oninput=="function"}Fi=Vi}else Fi=!1;Ou=Fi&&(!document.documentMode||9<document.documentMode)}function Ru(){gs&&(gs.detachEvent("onpropertychange",Hu),xs=gs=null)}function Hu(e){if(e.propertyName==="value"&&gr(xs)){var t=[];Mu(t,xs,e,Di(e)),vu(X0,t)}}function J0(e,t,a){e==="focusin"?(Ru(),gs=t,xs=a,gs.attachEvent("onpropertychange",Hu)):e==="focusout"&&Ru()}function K0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(xs)}function W0(e,t){if(e==="click")return gr(t)}function P0(e,t){if(e==="input"||e==="change")return gr(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:ep;function bs(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!xe.call(t,o)||!gn(e[o],t[o]))return!1}return!0}function Lu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var a=Lu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lu(a)}}function Uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ve(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ve(e.document)}return t}function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tp=ia&&"documentMode"in document&&11>=document.documentMode,$l=null,Yi=null,ys=null,Gi=!1;function Fu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gi||$l==null||$l!==Ve(l)||(l=$l,"selectionStart"in l&&qi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ys&&bs(ys,l)||(ys=l,l=li(Yi,"onSelect"),0<l.length&&(t=new hr("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=$l)))}function sl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ml={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},Zi={},Vu={};ia&&(Vu=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function rl(e){if(Zi[e])return Zi[e];if(!Ml[e])return e;var t=Ml[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Vu)return Zi[e]=t[a];return e}var qu=rl("animationend"),Yu=rl("animationiteration"),Gu=rl("animationstart"),np=rl("transitionrun"),ap=rl("transitionstart"),lp=rl("transitioncancel"),Zu=rl("transitionend"),Qu=new Map,Qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qi.push("scrollEnd");function Fn(e,t){Qu.set(e,t),Bn(t,[e])}var xr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},En=[],Dl=0,Xi=0;function br(){for(var e=Dl,t=Xi=Dl=0;t<e;){var a=En[t];En[t++]=null;var l=En[t];En[t++]=null;var o=En[t];En[t++]=null;var u=En[t];if(En[t++]=null,l!==null&&o!==null){var d=l.pending;d===null?o.next=o:(o.next=d.next,d.next=o),l.pending=o}u!==0&&Xu(a,o,u)}}function yr(e,t,a,l){En[Dl++]=e,En[Dl++]=t,En[Dl++]=a,En[Dl++]=l,Xi|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ji(e,t,a,l){return yr(e,t,a,l),vr(e)}function il(e,t){return yr(e,null,null,t),vr(e)}function Xu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,l=u.alternate,l!==null&&(l.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-St(a),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=a|536870912),u):null}function vr(e){if(50<Is)throw Is=0,rc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ol={};function sp(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,a,l){return new sp(e,t,a,l)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oa(e,t){var a=e.alternate;return a===null?(a=xn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ju(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wr(e,t,a,l,o,u){var d=0;if(l=e,typeof e=="function")Ki(e)&&(d=1);else if(typeof e=="string")d=ug(e,a,_.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=xn(31,a,t,o),e.elementType=we,e.lanes=u,e;case J:return ol(a.children,o,u,t);case ee:d=8,o|=24;break;case P:return e=xn(12,a,t,o|2),e.elementType=P,e.lanes=u,e;case B:return e=xn(13,a,t,o),e.elementType=B,e.lanes=u,e;case C:return e=xn(19,a,t,o),e.elementType=C,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:d=10;break e;case M:d=9;break e;case T:d=11;break e;case L:d=14;break e;case se:d=16,l=null;break e}d=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=xn(d,a,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function ol(e,t,a,l){return e=xn(7,e,l,t),e.lanes=a,e}function Wi(e,t,a){return e=xn(6,e,null,t),e.lanes=a,e}function Ku(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function Pi(e,t,a){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wu=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var a=Wu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Be(t)},Wu.set(e,t),t)}return{value:e,source:t,stack:Be(t)}}var Cl=[],Rl=0,jr=null,vs=0,$n=[],Mn=0,$a=null,Xn=1,Jn="";function ca(e,t){Cl[Rl++]=vs,Cl[Rl++]=jr,jr=e,vs=t}function Pu(e,t,a){$n[Mn++]=Xn,$n[Mn++]=Jn,$n[Mn++]=$a,$a=e;var l=Xn;e=Jn;var o=32-St(l)-1;l&=~(1<<o),a+=1;var u=32-St(t)+o;if(30<u){var d=o-o%5;u=(l&(1<<d)-1).toString(32),l>>=d,o-=d,Xn=1<<32-St(t)+o|a<<o|l,Jn=u+e}else Xn=1<<u|a<<o|l,Jn=e}function eo(e){e.return!==null&&(ca(e,1),Pu(e,1,0))}function to(e){for(;e===jr;)jr=Cl[--Rl],Cl[Rl]=null,vs=Cl[--Rl],Cl[Rl]=null;for(;e===$a;)$a=$n[--Mn],$n[Mn]=null,Jn=$n[--Mn],$n[Mn]=null,Xn=$n[--Mn],$n[Mn]=null}function ed(e,t){$n[Mn++]=Xn,$n[Mn++]=Jn,$n[Mn++]=$a,Xn=t.id,Jn=t.overflow,$a=e}var Zt=null,vt=null,Pe=!1,Ma=null,Dn=!1,no=Error(i(519));function Da(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(An(t,e)),no}function td(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[bt]=e,t[Ut]=l,a){case"dialog":Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":case"embed":Qe("load",t);break;case"video":case"audio":for(a=0;a<Vs.length;a++)Qe(Vs[a],t);break;case"source":Qe("error",t);break;case"img":case"image":case"link":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"input":Qe("invalid",t),la(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Qe("invalid",t);break;case"textarea":Qe("invalid",t),Tl(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||ym(t.textContent,a)?(l.popover!=null&&(Qe("beforetoggle",t),Qe("toggle",t)),l.onScroll!=null&&Qe("scroll",t),l.onScrollEnd!=null&&Qe("scrollend",t),l.onClick!=null&&(t.onclick=ra),t=!0):t=!1,t||Da(e,!0)}function nd(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Zt=Zt.return}}function Hl(e){if(e!==Zt)return!1;if(!Pe)return nd(e),Pe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wc(e.type,e.memoizedProps)),a=!a),a&&vt&&Da(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));vt=Bm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));vt=Bm(e)}else t===27?(t=vt,Za(e.type)?(e=Tc,Tc=null,vt=e):vt=t):vt=Zt?Cn(e.stateNode.nextSibling):null;return!0}function cl(){vt=Zt=null,Pe=!1}function ao(){var e=Ma;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ma=null),e}function ws(e){Ma===null?Ma=[e]:Ma.push(e)}var lo=b(null),ul=null,ua=null;function Oa(e,t,a){$(lo,t._currentValue),t._currentValue=a}function da(e){e._currentValue=lo.current,O(lo)}function so(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function ro(e,t,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var d=o.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=o;for(var k=0;k<t.length;k++)if(g.context===t[k]){u.lanes|=a,g=u.alternate,g!==null&&(g.lanes|=a),so(u.return,a,e),l||(d=null);break e}u=g.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(i(341));d.lanes|=a,u=d.alternate,u!==null&&(u.lanes|=a),so(d,a,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Ll(e,t,a,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(i(387));if(d=d.memoizedProps,d!==null){var g=o.type;gn(o.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(o===ae.current){if(d=o.alternate,d===null)throw Error(i(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Qs):e=[Qs])}o=o.return}e!==null&&ro(t,e,a,l),t.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dl(e){ul=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return ad(ul,e)}function Sr(e,t){return ul===null&&dl(e),ad(e,t)}function ad(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(i(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var rp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ip=s.unstable_scheduleCallback,op=s.unstable_NormalPriority,Ot={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function io(){return{controller:new rp,data:new Map,refCount:0}}function js(e){e.refCount--,e.refCount===0&&ip(op,function(){e.controller.abort()})}var Ns=null,oo=0,zl=0,Ul=null;function cp(e,t){if(Ns===null){var a=Ns=[];oo=0,zl=fc(),Ul={status:"pending",value:void 0,then:function(l){a.push(l)}}}return oo++,t.then(ld,ld),t}function ld(){if(--oo===0&&Ns!==null){Ul!==null&&(Ul.status="fulfilled");var e=Ns;Ns=null,zl=0,Ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function up(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var sd=D.S;D.S=function(e,t){Vf=he(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cp(e,t),sd!==null&&sd(e,t)};var fl=b(null);function co(){var e=fl.current;return e!==null?e:xt.pooledCache}function kr(e,t){t===null?$(fl,fl.current):$(fl,t.pool)}function rd(){var e=co();return e===null?null:{parent:Ot._currentValue,pool:e}}var Il=Error(i(460)),uo=Error(i(474)),Tr=Error(i(542)),_r={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function od(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ra,ra),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e;default:if(typeof t.status=="string")t.then(ra,ra);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e}throw hl=t,Il}}function ml(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hl=a,Il):a}}var hl=null;function cd(){if(hl===null)throw Error(i(459));var e=hl;return hl=null,e}function ud(e){if(e===Il||e===Tr)throw Error(i(483))}var Fl=null,Ss=0;function Br(e){var t=Ss;return Ss+=1,Fl===null&&(Fl=[]),od(Fl,e,t)}function ks(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Er(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dd(e){function t(R,E){if(e){var F=R.deletions;F===null?(R.deletions=[E],R.flags|=16):F.push(E)}}function a(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function l(R){for(var E=new Map;R!==null;)R.key!==null?E.set(R.key,R):E.set(R.index,R),R=R.sibling;return E}function o(R,E){return R=oa(R,E),R.index=0,R.sibling=null,R}function u(R,E,F){return R.index=F,e?(F=R.alternate,F!==null?(F=F.index,F<E?(R.flags|=67108866,E):F):(R.flags|=67108866,E)):(R.flags|=1048576,E)}function d(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function g(R,E,F,re){return E===null||E.tag!==6?(E=Wi(F,R.mode,re),E.return=R,E):(E=o(E,F),E.return=R,E)}function k(R,E,F,re){var Re=F.type;return Re===J?ne(R,E,F.props.children,re,F.key):E!==null&&(E.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===se&&ml(Re)===E.type)?(E=o(E,F.props),ks(E,F),E.return=R,E):(E=wr(F.type,F.key,F.props,null,R.mode,re),ks(E,F),E.return=R,E)}function q(R,E,F,re){return E===null||E.tag!==4||E.stateNode.containerInfo!==F.containerInfo||E.stateNode.implementation!==F.implementation?(E=Pi(F,R.mode,re),E.return=R,E):(E=o(E,F.children||[]),E.return=R,E)}function ne(R,E,F,re,Re){return E===null||E.tag!==7?(E=ol(F,R.mode,re,Re),E.return=R,E):(E=o(E,F),E.return=R,E)}function ie(R,E,F){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Wi(""+E,R.mode,F),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case A:return F=wr(E.type,E.key,E.props,null,R.mode,F),ks(F,E),F.return=R,F;case V:return E=Pi(E,R.mode,F),E.return=R,E;case se:return E=ml(E),ie(R,E,F)}if(Te(E)||ue(E))return E=ol(E,R.mode,F,null),E.return=R,E;if(typeof E.then=="function")return ie(R,Br(E),F);if(E.$$typeof===Z)return ie(R,Sr(R,E),F);Er(R,E)}return null}function Y(R,E,F,re){var Re=E!==null?E.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Re!==null?null:g(R,E,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===Re?k(R,E,F,re):null;case V:return F.key===Re?q(R,E,F,re):null;case se:return F=ml(F),Y(R,E,F,re)}if(Te(F)||ue(F))return Re!==null?null:ne(R,E,F,re,null);if(typeof F.then=="function")return Y(R,E,Br(F),re);if(F.$$typeof===Z)return Y(R,E,Sr(R,F),re);Er(R,F)}return null}function X(R,E,F,re,Re){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return R=R.get(F)||null,g(E,R,""+re,Re);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return R=R.get(re.key===null?F:re.key)||null,k(E,R,re,Re);case V:return R=R.get(re.key===null?F:re.key)||null,q(E,R,re,Re);case se:return re=ml(re),X(R,E,F,re,Re)}if(Te(re)||ue(re))return R=R.get(F)||null,ne(E,R,re,Re,null);if(typeof re.then=="function")return X(R,E,F,Br(re),Re);if(re.$$typeof===Z)return X(R,E,F,Sr(E,re),Re);Er(E,re)}return null}function Me(R,E,F,re){for(var Re=null,nt=null,Oe=E,Ge=E=0,Ke=null;Oe!==null&&Ge<F.length;Ge++){Oe.index>Ge?(Ke=Oe,Oe=null):Ke=Oe.sibling;var at=Y(R,Oe,F[Ge],re);if(at===null){Oe===null&&(Oe=Ke);break}e&&Oe&&at.alternate===null&&t(R,Oe),E=u(at,E,Ge),nt===null?Re=at:nt.sibling=at,nt=at,Oe=Ke}if(Ge===F.length)return a(R,Oe),Pe&&ca(R,Ge),Re;if(Oe===null){for(;Ge<F.length;Ge++)Oe=ie(R,F[Ge],re),Oe!==null&&(E=u(Oe,E,Ge),nt===null?Re=Oe:nt.sibling=Oe,nt=Oe);return Pe&&ca(R,Ge),Re}for(Oe=l(Oe);Ge<F.length;Ge++)Ke=X(Oe,R,Ge,F[Ge],re),Ke!==null&&(e&&Ke.alternate!==null&&Oe.delete(Ke.key===null?Ge:Ke.key),E=u(Ke,E,Ge),nt===null?Re=Ke:nt.sibling=Ke,nt=Ke);return e&&Oe.forEach(function(Wa){return t(R,Wa)}),Pe&&ca(R,Ge),Re}function ze(R,E,F,re){if(F==null)throw Error(i(151));for(var Re=null,nt=null,Oe=E,Ge=E=0,Ke=null,at=F.next();Oe!==null&&!at.done;Ge++,at=F.next()){Oe.index>Ge?(Ke=Oe,Oe=null):Ke=Oe.sibling;var Wa=Y(R,Oe,at.value,re);if(Wa===null){Oe===null&&(Oe=Ke);break}e&&Oe&&Wa.alternate===null&&t(R,Oe),E=u(Wa,E,Ge),nt===null?Re=Wa:nt.sibling=Wa,nt=Wa,Oe=Ke}if(at.done)return a(R,Oe),Pe&&ca(R,Ge),Re;if(Oe===null){for(;!at.done;Ge++,at=F.next())at=ie(R,at.value,re),at!==null&&(E=u(at,E,Ge),nt===null?Re=at:nt.sibling=at,nt=at);return Pe&&ca(R,Ge),Re}for(Oe=l(Oe);!at.done;Ge++,at=F.next())at=X(Oe,R,Ge,at.value,re),at!==null&&(e&&at.alternate!==null&&Oe.delete(at.key===null?Ge:at.key),E=u(at,E,Ge),nt===null?Re=at:nt.sibling=at,nt=at);return e&&Oe.forEach(function(wg){return t(R,wg)}),Pe&&ca(R,Ge),Re}function ht(R,E,F,re){if(typeof F=="object"&&F!==null&&F.type===J&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var Re=F.key;E!==null;){if(E.key===Re){if(Re=F.type,Re===J){if(E.tag===7){a(R,E.sibling),re=o(E,F.props.children),re.return=R,R=re;break e}}else if(E.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===se&&ml(Re)===E.type){a(R,E.sibling),re=o(E,F.props),ks(re,F),re.return=R,R=re;break e}a(R,E);break}else t(R,E);E=E.sibling}F.type===J?(re=ol(F.props.children,R.mode,re,F.key),re.return=R,R=re):(re=wr(F.type,F.key,F.props,null,R.mode,re),ks(re,F),re.return=R,R=re)}return d(R);case V:e:{for(Re=F.key;E!==null;){if(E.key===Re)if(E.tag===4&&E.stateNode.containerInfo===F.containerInfo&&E.stateNode.implementation===F.implementation){a(R,E.sibling),re=o(E,F.children||[]),re.return=R,R=re;break e}else{a(R,E);break}else t(R,E);E=E.sibling}re=Pi(F,R.mode,re),re.return=R,R=re}return d(R);case se:return F=ml(F),ht(R,E,F,re)}if(Te(F))return Me(R,E,F,re);if(ue(F)){if(Re=ue(F),typeof Re!="function")throw Error(i(150));return F=Re.call(F),ze(R,E,F,re)}if(typeof F.then=="function")return ht(R,E,Br(F),re);if(F.$$typeof===Z)return ht(R,E,Sr(R,F),re);Er(R,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,E!==null&&E.tag===6?(a(R,E.sibling),re=o(E,F),re.return=R,R=re):(a(R,E),re=Wi(F,R.mode,re),re.return=R,R=re),d(R)):a(R,E)}return function(R,E,F,re){try{Ss=0;var Re=ht(R,E,F,re);return Fl=null,Re}catch(Oe){if(Oe===Il||Oe===Tr)throw Oe;var nt=xn(29,Oe,null,R.mode);return nt.lanes=re,nt.return=R,nt}finally{}}}var pl=dd(!0),fd=dd(!1),Ca=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=vr(e),Xu(e,null,a),t}return yr(e,l,t,a),vr(e)}function Ts(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,_n(e,a)}}function ho(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=d:u=u.next=d,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var po=!1;function _s(){if(po){var e=Ul;if(e!==null)throw e}}function Bs(e,t,a,l){po=!1;var o=e.updateQueue;Ca=!1;var u=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var k=g,q=k.next;k.next=null,d===null?u=q:d.next=q,d=k;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,g=ne.lastBaseUpdate,g!==d&&(g===null?ne.firstBaseUpdate=q:g.next=q,ne.lastBaseUpdate=k))}if(u!==null){var ie=o.baseState;d=0,ne=q=k=null,g=u;do{var Y=g.lane&-536870913,X=Y!==g.lane;if(X?(Je&Y)===Y:(l&Y)===Y){Y!==0&&Y===zl&&(po=!0),ne!==null&&(ne=ne.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Me=e,ze=g;Y=t;var ht=a;switch(ze.tag){case 1:if(Me=ze.payload,typeof Me=="function"){ie=Me.call(ht,ie,Y);break e}ie=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=ze.payload,Y=typeof Me=="function"?Me.call(ht,ie,Y):Me,Y==null)break e;ie=j({},ie,Y);break e;case 2:Ca=!0}}Y=g.callback,Y!==null&&(e.flags|=64,X&&(e.flags|=8192),X=o.callbacks,X===null?o.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:g.tag,payload:g.payload,callback:g.callback,next:null},ne===null?(q=ne=X,k=ie):ne=ne.next=X,d|=Y;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;X=g,g=X.next,X.next=null,o.lastBaseUpdate=X,o.shared.pending=null}}while(!0);ne===null&&(k=ie),o.baseState=k,o.firstBaseUpdate=q,o.lastBaseUpdate=ne,u===null&&(o.shared.lanes=0),Fa|=d,e.lanes=d,e.memoizedState=ie}}function md(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function hd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)md(a[e],t)}var Vl=b(null),Ar=b(0);function pd(e,t){e=va,$(Ar,e),$(Vl,t),va=e|t.baseLanes}function go(){$(Ar,va),$(Vl,Vl.current)}function xo(){va=Ar.current,O(Vl),O(Ar)}var bn=b(null),On=null;function La(e){var t=e.alternate;$(Et,Et.current&1),$(bn,e),On===null&&(t===null||Vl.current!==null||t.memoizedState!==null)&&(On=e)}function bo(e){$(Et,Et.current),$(bn,e),On===null&&(On=e)}function gd(e){e.tag===22?($(Et,Et.current),$(bn,e),On===null&&(On=e)):za()}function za(){$(Et,Et.current),$(bn,bn.current)}function yn(e){O(bn),On===e&&(On=null),O(Et)}var Et=b(0);function $r(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sc(a)||kc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=0,Ye=null,ft=null,Ct=null,Mr=!1,ql=!1,gl=!1,Dr=0,Es=0,Yl=null,dp=0;function _t(){throw Error(i(321))}function yo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!gn(e[a],t[a]))return!1;return!0}function vo(e,t,a,l,o,u){return fa=u,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Pd:Co,gl=!1,u=a(l,o),gl=!1,ql&&(u=bd(t,a,l,o)),xd(e),u}function xd(e){D.H=Ms;var t=ft!==null&&ft.next!==null;if(fa=0,Ct=ft=Ye=null,Mr=!1,Es=0,Yl=null,t)throw Error(i(300));e===null||Rt||(e=e.dependencies,e!==null&&Nr(e)&&(Rt=!0))}function bd(e,t,a,l){Ye=e;var o=0;do{if(ql&&(Yl=null),Es=0,ql=!1,25<=o)throw Error(i(301));if(o+=1,Ct=ft=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=ef,u=t(a,l)}while(ql);return u}function fp(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?As(t):t,e=e.useState()[0],(ft!==null?ft.memoizedState:null)!==e&&(Ye.flags|=1024),t}function wo(){var e=Dr!==0;return Dr=0,e}function jo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function No(e){if(Mr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mr=!1}fa=0,Ct=ft=Ye=null,ql=!1,Es=Dr=0,Yl=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ye.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function At(){if(ft===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=Ct===null?Ye.memoizedState:Ct.next;if(t!==null)Ct=t,ft=e;else{if(e===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Ct===null?Ye.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function As(e){var t=Es;return Es+=1,Yl===null&&(Yl=[]),e=od(Yl,e,t),t=Ye,(Ct===null?t.memoizedState:Ct.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Pd:Co),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return As(e);if(e.$$typeof===Z)return Qt(e)}throw Error(i(438,String(e)))}function So(e){var t=null,a=Ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Or(),Ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Se;return t.index++,a}function ma(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=At();return ko(t,ft,e)}function ko(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var d=o.next;o.next=u.next,u.next=d}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var g=d=null,k=null,q=t,ne=!1;do{var ie=q.lane&-536870913;if(ie!==q.lane?(Je&ie)===ie:(fa&ie)===ie){var Y=q.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ie===zl&&(ne=!0);else if((fa&Y)===Y){q=q.next,Y===zl&&(ne=!0);continue}else ie={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(g=k=ie,d=u):k=k.next=ie,Ye.lanes|=Y,Fa|=Y;ie=q.action,gl&&a(u,ie),u=q.hasEagerState?q.eagerState:a(u,ie)}else Y={lane:ie,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(g=k=Y,d=u):k=k.next=Y,Ye.lanes|=ie,Fa|=ie;q=q.next}while(q!==null&&q!==t);if(k===null?d=u:k.next=g,!gn(u,e.memoizedState)&&(Rt=!0,ne&&(a=Ul,a!==null)))throw a;e.memoizedState=u,e.baseState=d,e.baseQueue=k,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function To(e){var t=At(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var d=o=o.next;do u=e(u,d.action),d=d.next;while(d!==o);gn(u,t.memoizedState)||(Rt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,l]}function yd(e,t,a){var l=Ye,o=At(),u=Pe;if(u){if(a===void 0)throw Error(i(407));a=a()}else a=t();var d=!gn((ft||o).memoizedState,a);if(d&&(o.memoizedState=a,Rt=!0),o=o.queue,Eo(jd.bind(null,l,o,e),[e]),o.getSnapshot!==t||d||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Gl(9,{destroy:void 0},wd.bind(null,l,o,a,t),null),xt===null)throw Error(i(349));u||(fa&127)!==0||vd(l,t,a)}return a}function vd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ye.updateQueue,t===null?(t=Or(),Ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function wd(e,t,a,l){t.value=a,t.getSnapshot=l,Nd(t)&&Sd(e)}function jd(e,t,a){return a(function(){Nd(t)&&Sd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!gn(e,a)}catch{return!0}}function Sd(e){var t=il(e,2);t!==null&&fn(t,e,2)}function _o(e){var t=nn();if(typeof e=="function"){var a=e;if(e=a(),gl){Kt(!0);try{a()}finally{Kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function kd(e,t,a,l){return e.baseState=a,ko(e,ft,typeof l=="function"?l:ma)}function mp(e,t,a,l,o){if(zr(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};D.T!==null?a(!0):u.isTransition=!1,l(u),a=t.pending,a===null?(u.next=t.pending=u,Td(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Td(e,t){var a=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=D.T,d={};D.T=d;try{var g=a(o,l),k=D.S;k!==null&&k(d,g),_d(e,t,g)}catch(q){Bo(e,t,q)}finally{u!==null&&d.types!==null&&(u.types=d.types),D.T=u}}else try{u=a(o,l),_d(e,t,u)}catch(q){Bo(e,t,q)}}function _d(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bd(e,t,l)},function(l){return Bo(e,t,l)}):Bd(e,t,a)}function Bd(e,t,a){t.status="fulfilled",t.value=a,Ed(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Td(e,a)))}function Bo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Ed(t),t=t.next;while(t!==l)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ad(e,t){return t}function $d(e,t){if(Pe){var a=xt.formState;if(a!==null){e:{var l=Ye;if(Pe){if(vt){t:{for(var o=vt,u=Dn;o.nodeType!==8;){if(!u){o=null;break t}if(o=Cn(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){vt=Cn(o.nextSibling),l=o.data==="F!";break e}}Da(l)}l=!1}l&&(t=a[0])}}return a=nn(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:t},a.queue=l,a=Jd.bind(null,Ye,l),l.dispatch=a,l=_o(!1),u=Oo.bind(null,Ye,!1,l.queue),l=nn(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,a=mp.bind(null,Ye,o,u,a),o.dispatch=a,l.memoizedState=e,[t,a,!1]}function Md(e){var t=At();return Dd(t,ft,e)}function Dd(e,t,a){if(t=ko(e,t,Ad)[0],e=Rr(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=As(t)}catch(d){throw d===Il?Tr:d}else l=t;t=At();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(Ye.flags|=2048,Gl(9,{destroy:void 0},hp.bind(null,o,a),null)),[l,u,e]}function hp(e,t){e.action=t}function Od(e){var t=At(),a=ft;if(a!==null)return Dd(t,a,e);At(),t=t.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Gl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ye.updateQueue,t===null&&(t=Or(),Ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Cd(){return At().memoizedState}function Hr(e,t,a,l){var o=nn();Ye.flags|=e,o.memoizedState=Gl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Lr(e,t,a,l){var o=At();l=l===void 0?null:l;var u=o.memoizedState.inst;ft!==null&&l!==null&&yo(l,ft.memoizedState.deps)?o.memoizedState=Gl(t,u,a,l):(Ye.flags|=e,o.memoizedState=Gl(1|t,u,a,l))}function Rd(e,t){Hr(8390656,8,e,t)}function Eo(e,t){Lr(2048,8,e,t)}function pp(e){Ye.flags|=4;var t=Ye.updateQueue;if(t===null)t=Or(),Ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Hd(e){var t=At().memoizedState;return pp({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Ld(e,t){return Lr(4,2,e,t)}function zd(e,t){return Lr(4,4,e,t)}function Ud(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,a){a=a!=null?a.concat([e]):null,Lr(4,4,Ud.bind(null,t,e),a)}function Ao(){}function Fd(e,t){var a=At();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&yo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Vd(e,t){var a=At();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&yo(t,l[1]))return l[0];if(l=e(),gl){Kt(!0);try{e()}finally{Kt(!1)}}return a.memoizedState=[l,t],l}function $o(e,t,a){return a===void 0||(fa&1073741824)!==0&&(Je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Yf(),Ye.lanes|=e,Fa|=e,a)}function qd(e,t,a,l){return gn(a,t)?a:Vl.current!==null?(e=$o(e,a,l),gn(e,t)||(Rt=!0),e):(fa&42)===0||(fa&1073741824)!==0&&(Je&261930)===0?(Rt=!0,e.memoizedState=a):(e=Yf(),Ye.lanes|=e,Fa|=e,t)}function Yd(e,t,a,l,o){var u=U.p;U.p=u!==0&&8>u?u:8;var d=D.T,g={};D.T=g,Oo(e,!1,t,a);try{var k=o(),q=D.S;if(q!==null&&q(g,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ne=up(k,l);$s(e,t,ne,jn(e))}else $s(e,t,l,jn(e))}catch(ie){$s(e,t,{then:function(){},status:"rejected",reason:ie},jn())}finally{U.p=u,d!==null&&g.types!==null&&(d.types=g.types),D.T=d}}function gp(){}function Mo(e,t,a,l){if(e.tag!==5)throw Error(i(476));var o=Gd(e).queue;Yd(e,o,t,G,a===null?gp:function(){return Zd(e),a(l)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:G},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Gd(e);t.next===null&&(t=e.alternate.memoizedState),$s(e,t.next.queue,{},jn())}function Do(){return Qt(Qs)}function Qd(){return At().memoizedState}function Xd(){return At().memoizedState}function xp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jn();e=Ra(a);var l=Ha(t,e,a);l!==null&&(fn(l,t,a),Ts(l,t,a)),t={cache:io()},e.payload=t;return}t=t.return}}function bp(e,t,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zr(e)?Kd(t,a):(a=Ji(e,t,a,l),a!==null&&(fn(a,e,l),Wd(a,t,l)))}function Jd(e,t,a){var l=jn();$s(e,t,a,l)}function $s(e,t,a,l){var o={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zr(e))Kd(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,g=u(d,a);if(o.hasEagerState=!0,o.eagerState=g,gn(g,d))return yr(e,t,o,0),xt===null&&br(),!1}catch{}finally{}if(a=Ji(e,t,o,l),a!==null)return fn(a,e,l),Wd(a,t,l),!0}return!1}function Oo(e,t,a,l){if(l={lane:2,revertLane:fc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zr(e)){if(t)throw Error(i(479))}else t=Ji(e,a,l,2),t!==null&&fn(t,e,2)}function zr(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Kd(e,t){ql=Mr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Wd(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,_n(e,a)}}var Ms={readContext:Qt,use:Cr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ms.useEffectEvent=_t;var Pd={readContext:Qt,use:Cr,useCallback:function(e,t){return nn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Rd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Hr(4194308,4,Ud.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hr(4194308,4,e,t)},useInsertionEffect:function(e,t){Hr(4,2,e,t)},useMemo:function(e,t){var a=nn();t=t===void 0?null:t;var l=e();if(gl){Kt(!0);try{e()}finally{Kt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=nn();if(a!==void 0){var o=a(t);if(gl){Kt(!0);try{a(t)}finally{Kt(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=bp.bind(null,Ye,e),[l.memoizedState,e]},useRef:function(e){var t=nn();return e={current:e},t.memoizedState=e},useState:function(e){e=_o(e);var t=e.queue,a=Jd.bind(null,Ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ao,useDeferredValue:function(e,t){var a=nn();return $o(a,e,t)},useTransition:function(){var e=_o(!1);return e=Yd.bind(null,Ye,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ye,o=nn();if(Pe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),xt===null)throw Error(i(349));(Je&127)!==0||vd(l,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Rd(jd.bind(null,l,u,e),[e]),l.flags|=2048,Gl(9,{destroy:void 0},wd.bind(null,l,u,a,t),null),a},useId:function(){var e=nn(),t=xt.identifierPrefix;if(Pe){var a=Jn,l=Xn;a=(l&~(1<<32-St(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Dr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=dp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:$d,useActionState:$d,useOptimistic:function(e){var t=nn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Oo.bind(null,Ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return nn().memoizedState=xp.bind(null,Ye)},useEffectEvent:function(e){var t=nn(),a={impl:e};return t.memoizedState=a,function(){if((lt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Co={readContext:Qt,use:Cr,useCallback:Fd,useContext:Qt,useEffect:Eo,useImperativeHandle:Id,useInsertionEffect:Ld,useLayoutEffect:zd,useMemo:Vd,useReducer:Rr,useRef:Cd,useState:function(){return Rr(ma)},useDebugValue:Ao,useDeferredValue:function(e,t){var a=At();return qd(a,ft.memoizedState,e,t)},useTransition:function(){var e=Rr(ma)[0],t=At().memoizedState;return[typeof e=="boolean"?e:As(e),t]},useSyncExternalStore:yd,useId:Qd,useHostTransitionStatus:Do,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var a=At();return kd(a,ft,e,t)},useMemoCache:So,useCacheRefresh:Xd};Co.useEffectEvent=Hd;var ef={readContext:Qt,use:Cr,useCallback:Fd,useContext:Qt,useEffect:Eo,useImperativeHandle:Id,useInsertionEffect:Ld,useLayoutEffect:zd,useMemo:Vd,useReducer:To,useRef:Cd,useState:function(){return To(ma)},useDebugValue:Ao,useDeferredValue:function(e,t){var a=At();return ft===null?$o(a,e,t):qd(a,ft.memoizedState,e,t)},useTransition:function(){var e=To(ma)[0],t=At().memoizedState;return[typeof e=="boolean"?e:As(e),t]},useSyncExternalStore:yd,useId:Qd,useHostTransitionStatus:Do,useFormState:Od,useActionState:Od,useOptimistic:function(e,t){var a=At();return ft!==null?kd(a,ft,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:Xd};ef.useEffectEvent=Hd;function Ro(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ho={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=jn(),o=Ra(l);o.payload=t,a!=null&&(o.callback=a),t=Ha(e,o,l),t!==null&&(fn(t,e,l),Ts(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=jn(),o=Ra(l);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ha(e,o,l),t!==null&&(fn(t,e,l),Ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jn(),l=Ra(a);l.tag=2,t!=null&&(l.callback=t),t=Ha(e,l,a),t!==null&&(fn(t,e,a),Ts(t,e,a))}};function tf(e,t,a,l,o,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,d):t.prototype&&t.prototype.isPureReactComponent?!bs(a,l)||!bs(o,u):!0}function nf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function xl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function af(e){xr(e)}function lf(e){console.error(e)}function sf(e){xr(e)}function Ur(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function rf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Lo(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){Ur(e,t)},a}function of(e){return e=Ra(e),e.tag=3,e}function cf(e,t,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){rf(t,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){rf(t,a,l),typeof o!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function yp(e,t,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Ll(t,a,o,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?Wr():a.alternate===null&&Bt===0&&(Bt=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===_r?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),cc(e,l,o)),!1;case 22:return a.flags|=65536,l===_r?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),cc(e,l,o)),!1}throw Error(i(435,a.tag))}return cc(e,l,o),Wr(),!1}if(Pe)return t=bn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==no&&(e=Error(i(422),{cause:l}),ws(An(e,a)))):(l!==no&&(t=Error(i(423),{cause:l}),ws(An(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=An(l,a),o=Lo(e.stateNode,l,o),ho(e,o),Bt!==4&&(Bt=2)),!1;var u=Error(i(520),{cause:l});if(u=An(u,a),Us===null?Us=[u]:Us.push(u),Bt!==4&&(Bt=2),t===null)return!0;l=An(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Lo(a.stateNode,l,e),ho(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Va===null||!Va.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=of(o),cf(o,e,a,l),ho(a,o),!1}a=a.return}while(a!==null);return!1}var zo=Error(i(461)),Rt=!1;function Xt(e,t,a,l){t.child=e===null?fd(t,null,a,l):pl(t,e.child,a,l)}function uf(e,t,a,l,o){a=a.render;var u=t.ref;if("ref"in l){var d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}else d=l;return dl(t),l=vo(e,t,a,d,u,o),g=wo(),e!==null&&!Rt?(jo(e,t,o),ha(e,t,o)):(Pe&&g&&eo(t),t.flags|=1,Xt(e,t,l,o),t.child)}function df(e,t,a,l,o){if(e===null){var u=a.type;return typeof u=="function"&&!Ki(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,ff(e,t,u,l,o)):(e=wr(a.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Zo(e,o)){var d=u.memoizedProps;if(a=a.compare,a=a!==null?a:bs,a(d,l)&&e.ref===t.ref)return ha(e,t,o)}return t.flags|=1,e=oa(u,l),e.ref=t.ref,e.return=t,t.child=e}function ff(e,t,a,l,o){if(e!==null){var u=e.memoizedProps;if(bs(u,l)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=l=u,Zo(e,o))(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,ha(e,t,o)}return Uo(e,t,a,l,o)}function mf(e,t,a,l){var o=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~u}else l=0,t.child=null;return hf(e,t,u,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kr(t,u!==null?u.cachePool:null),u!==null?pd(t,u):go(),gd(t);else return l=t.lanes=536870912,hf(e,t,u!==null?u.baseLanes|a:a,a,l)}else u!==null?(kr(t,u.cachePool),pd(t,u),za(),t.memoizedState=null):(e!==null&&kr(t,null),go(),za());return Xt(e,t,o,a),t.child}function Ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function hf(e,t,a,l,o){var u=co();return u=u===null?null:{parent:Ot._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&kr(t,null),go(),gd(t),e!==null&&Ll(e,t,l,!0),t.childLanes=o,null}function Ir(e,t){return t=Vr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pf(e,t,a){return pl(t,e.child,null,a),e=Ir(t,t.pendingProps),e.flags|=2,yn(t),t.memoizedState=null,e}function vp(e,t,a){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(l.mode==="hidden")return e=Ir(t,l),t.lanes=536870912,Ds(null,e);if(bo(t),(e=vt)?(e=_m(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$a!==null?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=Ku(e),a.return=t,t.child=a,Zt=t,vt=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return Ir(t,l)}var u=e.memoizedState;if(u!==null){var d=u.dehydrated;if(bo(t),o)if(t.flags&256)t.flags&=-257,t=pf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Rt||Ll(e,t,a,!1),o=(a&e.childLanes)!==0,Rt||o){if(l=xt,l!==null&&(d=na(l,a),d!==0&&d!==u.retryLane))throw u.retryLane=d,il(e,d),fn(l,e,d),zo;Wr(),t=pf(e,t,a)}else e=u.treeContext,vt=Cn(d.nextSibling),Zt=t,Pe=!0,Ma=null,Dn=!1,e!==null&&ed(t,e),t=Ir(t,l),t.flags|=4096;return t}return e=oa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Fr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Uo(e,t,a,l,o){return dl(t),a=vo(e,t,a,l,void 0,o),l=wo(),e!==null&&!Rt?(jo(e,t,o),ha(e,t,o)):(Pe&&l&&eo(t),t.flags|=1,Xt(e,t,a,o),t.child)}function gf(e,t,a,l,o,u){return dl(t),t.updateQueue=null,a=bd(t,l,a,o),xd(e),l=wo(),e!==null&&!Rt?(jo(e,t,u),ha(e,t,u)):(Pe&&l&&eo(t),t.flags|=1,Xt(e,t,a,u),t.child)}function xf(e,t,a,l,o){if(dl(t),t.stateNode===null){var u=Ol,d=a.contextType;typeof d=="object"&&d!==null&&(u=Qt(d)),u=new a(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ho,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},fo(t),d=a.contextType,u.context=typeof d=="object"&&d!==null?Qt(d):Ol,u.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(Ro(t,a,d,l),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&Ho.enqueueReplaceState(u,u.state,null),Bs(t,l,u,o),_s(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,k=xl(a,g);u.props=k;var q=u.context,ne=a.contextType;d=Ol,typeof ne=="object"&&ne!==null&&(d=Qt(ne));var ie=a.getDerivedStateFromProps;ne=typeof ie=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,ne||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||q!==d)&&nf(t,u,l,d),Ca=!1;var Y=t.memoizedState;u.state=Y,Bs(t,l,u,o),_s(),q=t.memoizedState,g||Y!==q||Ca?(typeof ie=="function"&&(Ro(t,a,ie,l),q=t.memoizedState),(k=Ca||tf(t,a,k,l,Y,q,d))?(ne||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),u.props=l,u.state=q,u.context=d,l=k):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,mo(e,t),d=t.memoizedProps,ne=xl(a,d),u.props=ne,ie=t.pendingProps,Y=u.context,q=a.contextType,k=Ol,typeof q=="object"&&q!==null&&(k=Qt(q)),g=a.getDerivedStateFromProps,(q=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==ie||Y!==k)&&nf(t,u,l,k),Ca=!1,Y=t.memoizedState,u.state=Y,Bs(t,l,u,o),_s();var X=t.memoizedState;d!==ie||Y!==X||Ca||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof g=="function"&&(Ro(t,a,g,l),X=t.memoizedState),(ne=Ca||tf(t,a,ne,l,Y,X,k)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,X,k),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,X,k)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=X),u.props=l,u.state=X,u.context=k,l=ne):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Fr(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=pl(t,e.child,null,o),t.child=pl(t,null,a,o)):Xt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=ha(e,t,o),e}function bf(e,t,a,l){return cl(),t.flags|=256,Xt(e,t,a,l),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fo(e){return{baseLanes:e,cachePool:rd()}}function Vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=wn),e}function yf(e,t,a){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(Et.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(o?La(t):za(),(e=vt)?(e=_m(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$a!==null?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=Ku(e),a.return=t,t.child=a,Zt=t,vt=null)):e=null,e===null)throw Da(t);return kc(e)?t.lanes=32:t.lanes=536870912,null}var g=l.children;return l=l.fallback,o?(za(),o=t.mode,g=Vr({mode:"hidden",children:g},o),l=ol(l,o,a,null),g.return=t,l.return=t,g.sibling=l,t.child=g,l=t.child,l.memoizedState=Fo(a),l.childLanes=Vo(e,d,a),t.memoizedState=Io,Ds(null,l)):(La(t),qo(t,g))}var k=e.memoizedState;if(k!==null&&(g=k.dehydrated,g!==null)){if(u)t.flags&256?(La(t),t.flags&=-257,t=Yo(e,t,a)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),g=l.fallback,o=t.mode,l=Vr({mode:"visible",children:l.children},o),g=ol(g,o,a,null),g.flags|=2,l.return=t,g.return=t,l.sibling=g,t.child=l,pl(t,e.child,null,a),l=t.child,l.memoizedState=Fo(a),l.childLanes=Vo(e,d,a),t.memoizedState=Io,t=Ds(null,l));else if(La(t),kc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var q=d.dgst;d=q,l=Error(i(419)),l.stack="",l.digest=d,ws({value:l,source:null,stack:null}),t=Yo(e,t,a)}else if(Rt||Ll(e,t,a,!1),d=(a&e.childLanes)!==0,Rt||d){if(d=xt,d!==null&&(l=na(d,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,il(e,l),fn(d,e,l),zo;Sc(g)||Wr(),t=Yo(e,t,a)}else Sc(g)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,vt=Cn(g.nextSibling),Zt=t,Pe=!0,Ma=null,Dn=!1,e!==null&&ed(t,e),t=qo(t,l.children),t.flags|=4096);return t}return o?(za(),g=l.fallback,o=t.mode,k=e.child,q=k.sibling,l=oa(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,q!==null?g=oa(q,g):(g=ol(g,o,a,null),g.flags|=2),g.return=t,l.return=t,l.sibling=g,t.child=l,Ds(null,l),l=t.child,g=e.child.memoizedState,g===null?g=Fo(a):(o=g.cachePool,o!==null?(k=Ot._currentValue,o=o.parent!==k?{parent:k,pool:k}:o):o=rd(),g={baseLanes:g.baseLanes|a,cachePool:o}),l.memoizedState=g,l.childLanes=Vo(e,d,a),t.memoizedState=Io,Ds(e.child,l)):(La(t),a=e.child,e=a.sibling,a=oa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function qo(e,t){return t=Vr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vr(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function Yo(e,t,a){return pl(t,e.child,null,a),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),so(e.return,t,a)}function Go(e,t,a,l,o,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o,treeForkCount:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=o,d.treeForkCount=u)}function wf(e,t,a){var l=t.pendingProps,o=l.revealOrder,u=l.tail;l=l.children;var d=Et.current,g=(d&2)!==0;if(g?(d=d&1|2,t.flags|=128):d&=1,$(Et,d),Xt(e,t,l,a),l=Pe?vs:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vf(e,a,t);else if(e.tag===19)vf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&$r(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Go(t,!1,o,a,u,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$r(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Go(t,!0,a,null,u,l);break;case"together":Go(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ha(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Fa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ll(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=oa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=oa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Zo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function wp(e,t,a){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),Oa(t,Ot,e.memoizedState.cache),cl();break;case 27:case 5:le(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(La(t),t.flags|=128,null):(a&t.child.childLanes)!==0?yf(e,t,a):(La(t),e=ha(e,t,a),e!==null?e.sibling:null);La(t);break;case 19:var o=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Ll(e,t,a,!1),l=(a&t.childLanes)!==0),o){if(l)return wf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$(Et,Et.current),l)break;return null;case 22:return t.lanes=0,mf(e,t,a,t.pendingProps);case 24:Oa(t,Ot,e.memoizedState.cache)}return ha(e,t,a)}function jf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Rt=!0;else{if(!Zo(e,a)&&(t.flags&128)===0)return Rt=!1,wp(e,t,a);Rt=(e.flags&131072)!==0}else Rt=!1,Pe&&(t.flags&1048576)!==0&&Pu(t,vs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ml(t.elementType),t.type=e,typeof e=="function")Ki(e)?(l=xl(e,l),t.tag=1,t=xf(null,t,e,l,a)):(t.tag=0,t=Uo(null,t,e,l,a));else{if(e!=null){var o=e.$$typeof;if(o===T){t.tag=11,t=uf(null,t,e,l,a);break e}else if(o===L){t.tag=14,t=df(null,t,e,l,a);break e}}throw t=Ce(e)||e,Error(i(306,t,""))}}return t;case 0:return Uo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,o=xl(l,t.pendingProps),xf(e,t,l,o,a);case 3:e:{if(te(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,mo(e,t),Bs(t,l,null,a);var d=t.memoizedState;if(l=d.cache,Oa(t,Ot,l),l!==u.cache&&ro(t,[Ot],a,!0),_s(),l=d.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=bf(e,t,l,a);break e}else if(l!==o){o=An(Error(i(424)),t),ws(o),t=bf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(vt=Cn(e.firstChild),Zt=t,Pe=!0,Ma=null,Dn=!0,a=fd(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cl(),l===o){t=ha(e,t,a);break e}Xt(e,t,l,a)}t=t.child}return t;case 26:return Fr(e,t),e===null?(a=Dm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Pe||(a=t.type,e=t.pendingProps,l=si(W.current).createElement(a),l[bt]=t,l[Ut]=e,Jt(l,a,e),kt(l),t.stateNode=l):t.memoizedState=Dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return le(t),e===null&&Pe&&(l=t.stateNode=Am(t.type,t.pendingProps,W.current),Zt=t,Dn=!0,o=vt,Za(t.type)?(Tc=o,vt=Cn(l.firstChild)):vt=o),Xt(e,t,t.pendingProps.children,a),Fr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((o=l=vt)&&(l=Kp(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Zt=t,vt=Cn(l.firstChild),Dn=!1,o=!0):o=!1),o||Da(t)),le(t),o=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,l=u.children,wc(o,u)?l=null:d!==null&&wc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=vo(e,t,fp,null,null,a),Qs._currentValue=o),Fr(e,t),Xt(e,t,l,a),t.child;case 6:return e===null&&Pe&&((e=a=vt)&&(a=Wp(a,t.pendingProps,Dn),a!==null?(t.stateNode=a,Zt=t,vt=null,e=!0):e=!1),e||Da(t)),null;case 13:return yf(e,t,a);case 4:return te(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=pl(t,null,l,a):Xt(e,t,l,a),t.child;case 11:return uf(e,t,t.type,t.pendingProps,a);case 7:return Xt(e,t,t.pendingProps,a),t.child;case 8:return Xt(e,t,t.pendingProps.children,a),t.child;case 12:return Xt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Oa(t,t.type,l.value),Xt(e,t,l.children,a),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,dl(t),o=Qt(o),l=l(o),t.flags|=1,Xt(e,t,l,a),t.child;case 14:return df(e,t,t.type,t.pendingProps,a);case 15:return ff(e,t,t.type,t.pendingProps,a);case 19:return wf(e,t,a);case 31:return vp(e,t,a);case 22:return mf(e,t,a,t.pendingProps);case 24:return dl(t),l=Qt(Ot),e===null?(o=co(),o===null&&(o=xt,u=io(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:l,cache:o},fo(t),Oa(t,Ot,o)):((e.lanes&a)!==0&&(mo(e,t),Bs(t,null,null,a),_s()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Oa(t,Ot,l)):(l=u.cache,Oa(t,Ot,l),l!==o.cache&&ro(t,[Ot],a,!0))),Xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function pa(e){e.flags|=4}function Qo(e,t,a,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Xf())e.flags|=8192;else throw hl=_r,uo}else e.flags&=-16777217}function Nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lm(t))if(Xf())e.flags|=8192;else throw hl=_r,uo}function qr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_e():536870912,e.lanes|=t,Jl|=t)}function Os(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function jp(e,t,a){var l=t.pendingProps;switch(to(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return wt(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),da(Ot),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hl(t)?pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ao())),wt(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(pa(t),u!==null?(wt(t),Nf(t,u)):(wt(t),Qo(t,o,null,l,a))):u?u!==e.memoizedState?(pa(t),wt(t),Nf(t,u)):(wt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pa(t),wt(t),Qo(t,o,e,l,a)),null;case 27:if(p(t),a=W.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return wt(t),null}e=_.current,Hl(t)?td(t):(e=Am(o,l,a),t.stateNode=e,pa(t))}return wt(t),null;case 5:if(p(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return wt(t),null}if(u=_.current,Hl(t))td(t);else{var d=si(W.current);switch(u){case 1:u=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=d.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?d.createElement(o,{is:l.is}):d.createElement(o)}}u[bt]=t,u[Ut]=l;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)u.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=u;e:switch(Jt(u,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pa(t)}}return wt(t),Qo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=W.current,Hl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,o=Zt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[bt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ym(e.nodeValue,a)),e||Da(t,!0)}else e=si(e).createTextNode(l),e[bt]=t,t.stateNode=e}return wt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Hl(t),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[bt]=t}else cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),e=!1}else a=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(yn(t),t):(yn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return wt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Hl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[bt]=t}else cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),o=!1}else o=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(yn(t),t):(yn(t),null)}return yn(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),qr(t,t.updateQueue),wt(t),null);case 4:return me(),e===null&&gc(t.stateNode.containerInfo),wt(t),null;case 10:return da(t.type),wt(t),null;case 19:if(O(Et),l=t.memoizedState,l===null)return wt(t),null;if(o=(t.flags&128)!==0,u=l.rendering,u===null)if(o)Os(l,!1);else{if(Bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=$r(e),u!==null){for(t.flags|=128,Os(l,!1),e=u.updateQueue,t.updateQueue=e,qr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ju(a,e),a=a.sibling;return $(Et,Et.current&1|2),Pe&&ca(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&he()>Xr&&(t.flags|=128,o=!0,Os(l,!1),t.lanes=4194304)}else{if(!o)if(e=$r(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,qr(t,e),Os(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Pe)return wt(t),null}else 2*he()-l.renderingStartTime>Xr&&a!==536870912&&(t.flags|=128,o=!0,Os(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=he(),e.sibling=null,a=Et.current,$(Et,o?a&1|2:a&1),Pe&&ca(t,l.treeForkCount),e):(wt(t),null);case 22:case 23:return yn(t),xo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),a=t.updateQueue,a!==null&&qr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&O(fl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(Ot),wt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Np(e,t){switch(to(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(Ot),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return p(t),null;case 31:if(t.memoizedState!==null){if(yn(t),t.alternate===null)throw Error(i(340));cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(Et),null;case 4:return me(),null;case 10:return da(t.type),null;case 22:case 23:return yn(t),xo(),e!==null&&O(fl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(Ot),null;case 25:return null;default:return null}}function Sf(e,t){switch(to(t),t.tag){case 3:da(Ot),me();break;case 26:case 27:case 5:p(t);break;case 4:me();break;case 31:t.memoizedState!==null&&yn(t);break;case 13:yn(t);break;case 19:O(Et);break;case 10:da(t.type);break;case 22:case 23:yn(t),xo(),e!==null&&O(fl);break;case 24:da(Ot)}}function Cs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var u=a.create,d=a.inst;l=u(),d.destroy=l}a=a.next}while(a!==o)}}catch(g){ut(t,t.return,g)}}function Ua(e,t,a){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var d=l.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,o=t;var k=a,q=g;try{q()}catch(ne){ut(o,k,ne)}}}l=l.next}while(l!==u)}}catch(ne){ut(t,t.return,ne)}}function kf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{hd(t,a)}catch(l){ut(e,e.return,l)}}}function Tf(e,t,a){a.props=xl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ut(e,t,l)}}function Rs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(o){ut(e,t,o)}}function Kn(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){ut(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ut(e,t,o)}else a.current=null}function _f(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){ut(e,e.return,o)}}function Xo(e,t,a){try{var l=e.stateNode;Yp(l,e.type,a,t),l[Ut]=t}catch(o){ut(e,e.return,o)}}function Bf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ra));else if(l!==4&&(l===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ko(e,t,a),e=e.sibling;e!==null;)Ko(e,t,a),e=e.sibling}function Yr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yr(e,t,a),e=e.sibling;e!==null;)Yr(e,t,a),e=e.sibling}function Ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Jt(t,l,a),t[bt]=e,t[Ut]=a}catch(u){ut(e,e.return,u)}}var ga=!1,Ht=!1,Wo=!1,Af=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Sp(e,t){if(e=e.containerInfo,yc=fi,e=Iu(e),qi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var d=0,g=-1,k=-1,q=0,ne=0,ie=e,Y=null;t:for(;;){for(var X;ie!==a||o!==0&&ie.nodeType!==3||(g=d+o),ie!==u||l!==0&&ie.nodeType!==3||(k=d+l),ie.nodeType===3&&(d+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===e)break t;if(Y===a&&++q===o&&(g=d),Y===u&&++ne===l&&(k=d),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}a=g===-1||k===-1?null:{start:g,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(vc={focusedElem:e,selectionRange:a},fi=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var Me=xl(a.type,o);e=l.getSnapshotBeforeUpdate(Me,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(ze){ut(a,a.return,ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Nc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function $f(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ba(e,a),l&4&&Cs(5,a);break;case 1:if(ba(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){ut(a,a.return,d)}else{var o=xl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){ut(a,a.return,d)}}l&64&&kf(a),l&512&&Rs(a,a.return);break;case 3:if(ba(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{hd(e,t)}catch(d){ut(a,a.return,d)}}break;case 27:t===null&&l&4&&Ef(a);case 26:case 5:ba(e,a),t===null&&l&4&&_f(a),l&512&&Rs(a,a.return);break;case 12:ba(e,a);break;case 31:ba(e,a),l&4&&Of(e,a);break;case 13:ba(e,a),l&4&&Cf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Dp.bind(null,a),Pp(e,a))));break;case 22:if(l=a.memoizedState!==null||ga,!l){t=t!==null&&t.memoizedState!==null||Ht,o=ga;var u=Ht;ga=l,(Ht=t)&&!u?ya(e,a,(a.subtreeFlags&8772)!==0):ba(e,a),ga=o,Ht=u}break;case 30:break;default:ba(e,a)}}function Mf(e){var t=e.alternate;t!==null&&(e.alternate=null,Mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ba(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,on=!1;function xa(e,t,a){for(a=a.child;a!==null;)Df(e,t,a),a=a.sibling}function Df(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:Ht||Kn(a,t),xa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ht||Kn(a,t);var l=Nt,o=on;Za(a.type)&&(Nt=a.stateNode,on=!1),xa(e,t,a),Ys(a.stateNode),Nt=l,on=o;break;case 5:Ht||Kn(a,t);case 6:if(l=Nt,o=on,Nt=null,xa(e,t,a),Nt=l,on=o,Nt!==null)if(on)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(a.stateNode)}catch(u){ut(a,t,u)}else try{Nt.removeChild(a.stateNode)}catch(u){ut(a,t,u)}break;case 18:Nt!==null&&(on?(e=Nt,km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ls(e)):km(Nt,a.stateNode));break;case 4:l=Nt,o=on,Nt=a.stateNode.containerInfo,on=!0,xa(e,t,a),Nt=l,on=o;break;case 0:case 11:case 14:case 15:Ua(2,a,t),Ht||Ua(4,a,t),xa(e,t,a);break;case 1:Ht||(Kn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Tf(a,t,l)),xa(e,t,a);break;case 21:xa(e,t,a);break;case 22:Ht=(l=Ht)||a.memoizedState!==null,xa(e,t,a),Ht=l;break;default:xa(e,t,a)}}function Of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(a){ut(t,t.return,a)}}}function Cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(a){ut(t,t.return,a)}}function kp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Af),t;default:throw Error(i(435,e.tag))}}function Gr(e,t){var a=kp(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var o=Op.bind(null,e,l);l.then(o,o)}})}function cn(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],u=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Za(g.type)){Nt=g.stateNode,on=!1;break e}break;case 5:Nt=g.stateNode,on=!1;break e;case 3:case 4:Nt=g.stateNode.containerInfo,on=!0;break e}g=g.return}if(Nt===null)throw Error(i(160));Df(u,d,o),Nt=null,on=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rf(t,e),t=t.sibling}var Vn=null;function Rf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(t,e),un(e),l&4&&(Ua(3,e,e.return),Cs(3,e),Ua(5,e,e.return));break;case 1:cn(t,e),un(e),l&512&&(Ht||a===null||Kn(a,a.return)),l&64&&ga&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=Vn;if(cn(t,e),un(e),l&512&&(Ht||a===null||Kn(a,a.return)),l&4){var u=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Zn]||u[bt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),Jt(u,l,a),u[bt]=e,kt(u),l=u;break e;case"link":var d=Rm("link","href",o).get(l+(a.href||""));if(d){for(var g=0;g<d.length;g++)if(u=d[g],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(g,1);break t}}u=o.createElement(l),Jt(u,l,a),o.head.appendChild(u);break;case"meta":if(d=Rm("meta","content",o).get(l+(a.content||""))){for(g=0;g<d.length;g++)if(u=d[g],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(g,1);break t}}u=o.createElement(l),Jt(u,l,a),o.head.appendChild(u);break;default:throw Error(i(468,l))}u[bt]=e,kt(u),l=u}e.stateNode=l}else Hm(o,e.type,e.stateNode);else e.stateNode=Cm(o,l,e.memoizedProps);else u!==l?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,l===null?Hm(o,e.type,e.stateNode):Cm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(t,e),un(e),l&512&&(Ht||a===null||Kn(a,a.return)),a!==null&&l&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(t,e),un(e),l&512&&(Ht||a===null||Kn(a,a.return)),e.flags&32){o=e.stateNode;try{_l(o,"")}catch(Me){ut(e,e.return,Me)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Xo(e,o,a!==null?a.memoizedProps:o)),l&1024&&(Wo=!0);break;case 6:if(cn(t,e),un(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Me){ut(e,e.return,Me)}}break;case 3:if(oi=null,o=Vn,Vn=ri(t.containerInfo),cn(t,e),Vn=o,un(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(Me){ut(e,e.return,Me)}Wo&&(Wo=!1,Hf(e));break;case 4:l=Vn,Vn=ri(e.stateNode.containerInfo),cn(t,e),un(e),Vn=l;break;case 12:cn(t,e),un(e);break;case 31:cn(t,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gr(e,l)));break;case 13:cn(t,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qr=he()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gr(e,l)));break;case 22:o=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,q=ga,ne=Ht;if(ga=q||o,Ht=ne||k,cn(t,e),Ht=ne,ga=q,un(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||k||ga||Ht||bl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){k=a=t;try{if(u=k.stateNode,o)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=k.stateNode;var ie=k.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;g.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Me){ut(k,k.return,Me)}}}else if(t.tag===6){if(a===null){k=t;try{k.stateNode.nodeValue=o?"":k.memoizedProps}catch(Me){ut(k,k.return,Me)}}}else if(t.tag===18){if(a===null){k=t;try{var X=k.stateNode;o?Tm(X,!0):Tm(k.stateNode,!1)}catch(Me){ut(k,k.return,Me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gr(e,a))));break;case 19:cn(t,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gr(e,l)));break;case 30:break;case 21:break;default:cn(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Bf(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,u=Jo(e);Yr(e,u,o);break;case 5:var d=a.stateNode;a.flags&32&&(_l(d,""),a.flags&=-33);var g=Jo(e);Yr(e,g,d);break;case 3:case 4:var k=a.stateNode.containerInfo,q=Jo(e);Ko(e,q,k);break;default:throw Error(i(161))}}catch(ne){ut(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$f(e,t.alternate,t),t=t.sibling}function bl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),bl(t);break;case 1:Kn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Tf(t,t.return,a),bl(t);break;case 27:Ys(t.stateNode);case 26:case 5:Kn(t,t.return),bl(t);break;case 22:t.memoizedState===null&&bl(t);break;case 30:bl(t);break;default:bl(t)}e=e.sibling}}function ya(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,d=u.flags;switch(u.tag){case 0:case 11:case 15:ya(o,u,a),Cs(4,u);break;case 1:if(ya(o,u,a),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(q){ut(l,l.return,q)}if(l=u,o=l.updateQueue,o!==null){var g=l.stateNode;try{var k=o.shared.hiddenCallbacks;if(k!==null)for(o.shared.hiddenCallbacks=null,o=0;o<k.length;o++)md(k[o],g)}catch(q){ut(l,l.return,q)}}a&&d&64&&kf(u),Rs(u,u.return);break;case 27:Ef(u);case 26:case 5:ya(o,u,a),a&&l===null&&d&4&&_f(u),Rs(u,u.return);break;case 12:ya(o,u,a);break;case 31:ya(o,u,a),a&&d&4&&Of(o,u);break;case 13:ya(o,u,a),a&&d&4&&Cf(o,u);break;case 22:u.memoizedState===null&&ya(o,u,a),Rs(u,u.return);break;case 30:break;default:ya(o,u,a)}t=t.sibling}}function Po(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&js(a))}function ec(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&js(e))}function qn(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lf(e,t,a,l),t=t.sibling}function Lf(e,t,a,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:qn(e,t,a,l),o&2048&&Cs(9,t);break;case 1:qn(e,t,a,l);break;case 3:qn(e,t,a,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&js(e)));break;case 12:if(o&2048){qn(e,t,a,l),e=t.stateNode;try{var u=t.memoizedProps,d=u.id,g=u.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){ut(t,t.return,k)}}else qn(e,t,a,l);break;case 31:qn(e,t,a,l);break;case 13:qn(e,t,a,l);break;case 23:break;case 22:u=t.stateNode,d=t.alternate,t.memoizedState!==null?u._visibility&2?qn(e,t,a,l):Hs(e,t):u._visibility&2?qn(e,t,a,l):(u._visibility|=2,Zl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Po(d,t);break;case 24:qn(e,t,a,l),o&2048&&ec(t.alternate,t);break;default:qn(e,t,a,l)}}function Zl(e,t,a,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,d=t,g=a,k=l,q=d.flags;switch(d.tag){case 0:case 11:case 15:Zl(u,d,g,k,o),Cs(8,d);break;case 23:break;case 22:var ne=d.stateNode;d.memoizedState!==null?ne._visibility&2?Zl(u,d,g,k,o):Hs(u,d):(ne._visibility|=2,Zl(u,d,g,k,o)),o&&q&2048&&Po(d.alternate,d);break;case 24:Zl(u,d,g,k,o),o&&q&2048&&ec(d.alternate,d);break;default:Zl(u,d,g,k,o)}t=t.sibling}}function Hs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,o=l.flags;switch(l.tag){case 22:Hs(a,l),o&2048&&Po(l.alternate,l);break;case 24:Hs(a,l),o&2048&&ec(l.alternate,l);break;default:Hs(a,l)}t=t.sibling}}var Ls=8192;function Ql(e,t,a){if(e.subtreeFlags&Ls)for(e=e.child;e!==null;)zf(e,t,a),e=e.sibling}function zf(e,t,a){switch(e.tag){case 26:Ql(e,t,a),e.flags&Ls&&e.memoizedState!==null&&dg(a,Vn,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,t,a);break;case 3:case 4:var l=Vn;Vn=ri(e.stateNode.containerInfo),Ql(e,t,a),Vn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ls,Ls=16777216,Ql(e,t,a),Ls=l):Ql(e,t,a));break;default:Ql(e,t,a)}}function Uf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ft=l,Ff(l,e)}Uf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)If(e),e=e.sibling}function If(e){switch(e.tag){case 0:case 11:case 15:zs(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:zs(e);break;case 12:zs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zr(e)):zs(e);break;default:zs(e)}}function Zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ft=l,Ff(l,e)}Uf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),Zr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Zr(t));break;default:Zr(t)}e=e.sibling}}function Ff(e,t){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:js(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=e;Ft!==null;){l=Ft;var o=l.sibling,u=l.return;if(Mf(l),l===a){Ft=null;break e}if(o!==null){o.return=u,Ft=o;break e}Ft=u}}}var Tp={getCacheForType:function(e){var t=Qt(Ot),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Qt(Ot).controller.signal}},_p=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,Ze=null,Je=0,ct=0,vn=null,Ia=!1,Xl=!1,tc=!1,va=0,Bt=0,Fa=0,yl=0,nc=0,wn=0,Jl=0,Us=null,dn=null,ac=!1,Qr=0,Vf=0,Xr=1/0,Jr=null,Va=null,It=0,qa=null,Kl=null,wa=0,lc=0,sc=null,qf=null,Is=0,rc=null;function jn(){return(lt&2)!==0&&Je!==0?Je&-Je:D.T!==null?fc():ot()}function Yf(){if(wn===0)if((Je&536870912)===0||Pe){var e=Sn;Sn<<=1,(Sn&3932160)===0&&(Sn=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function fn(e,t,a){(e===xt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Ya(e,Je,wn,!1)),pt(e,a),((lt&2)===0||e!==xt)&&(e===xt&&((lt&2)===0&&(yl|=a),Bt===4&&Ya(e,Je,wn,!1)),Wn(e))}function Gf(e,t,a){if((lt&6)!==0)throw Error(i(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ln(e,t),o=l?Ap(e,t):oc(e,t,!0),u=l;do{if(o===0){Xl&&!l&&Ya(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Bp(a)){o=oc(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;o=Us;var k=g.current.memoizedState.isDehydrated;if(k&&(Wl(g,d).flags|=256),d=oc(g,d,!1),d!==2){if(tc&&!k){g.errorRecoveryDisabledLanes|=u,yl|=u,o=4;break e}u=dn,dn=o,u!==null&&(dn===null?dn=u:dn.push.apply(dn,u))}o=d}if(u=!1,o!==2)continue}}if(o===1){Wl(e,0),Ya(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ya(l,t,wn,!Ia);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Qr+300-he(),10<o)){if(Ya(l,t,wn,!Ia),Tn(l,0,!0)!==0)break e;wa=t,l.timeoutHandle=Nm(Zf.bind(null,l,a,dn,Jr,ac,t,wn,yl,Jl,Ia,u,"Throttled",-0,0),o);break e}Zf(l,a,dn,Jr,ac,t,wn,yl,Jl,Ia,u,null,-0,0)}}break}while(!0);Wn(e)}function Zf(e,t,a,l,o,u,d,g,k,q,ne,ie,Y,X){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ra},zf(t,u,ie);var Me=(u&62914560)===u?Qr-he():(u&4194048)===u?Vf-he():0;if(Me=fg(ie,Me),Me!==null){wa=u,e.cancelPendingCommit=Me(tm.bind(null,e,t,u,a,l,o,d,g,k,ne,ie,null,Y,X)),Ya(e,u,d,!q);return}}tm(e,t,u,a,l,o,d,g,k)}function Bp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],u=o.getSnapshot;o=o.value;try{if(!gn(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,a,l){t&=~nc,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-St(o),d=1<<u;l[u]=-1,o&=~d}a!==0&&$t(e,a,t)}function Kr(){return(lt&6)===0?(Fs(0),!1):!0}function ic(){if(Ze!==null){if(ct===0)var e=Ze.return;else e=Ze,ua=ul=null,No(e),Fl=null,Ss=0,e=Ze;for(;e!==null;)Sf(e.alternate,e),e=e.return;Ze=null}}function Wl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wa=0,ic(),xt=e,Ze=a=oa(e.current,null),Je=t,ct=0,vn=null,Ia=!1,Xl=ln(e,t),tc=!1,Jl=wn=nc=yl=Fa=Bt=0,dn=Us=null,ac=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-St(l),u=1<<o;t|=e[o],l&=~u}return va=t,br(),a}function Qf(e,t){Ye=null,D.H=Ms,t===Il||t===Tr?(t=cd(),ct=3):t===uo?(t=cd(),ct=4):ct=t===zo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,Ze===null&&(Bt=1,Ur(e,An(t,e.current)))}function Xf(){var e=bn.current;return e===null?!0:(Je&4194048)===Je?On===null:(Je&62914560)===Je||(Je&536870912)!==0?e===On:!1}function Jf(){var e=D.H;return D.H=Ms,e===null?Ms:e}function Kf(){var e=D.A;return D.A=Tp,e}function Wr(){Bt=4,Ia||(Je&4194048)!==Je&&bn.current!==null||(Xl=!0),(Fa&134217727)===0&&(yl&134217727)===0||xt===null||Ya(xt,Je,wn,!1)}function oc(e,t,a){var l=lt;lt|=2;var o=Jf(),u=Kf();(xt!==e||Je!==t)&&(Jr=null,Wl(e,t)),t=!1;var d=Bt;e:do try{if(ct!==0&&Ze!==null){var g=Ze,k=vn;switch(ct){case 8:ic(),d=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var q=ct;if(ct=0,vn=null,Pl(e,g,k,q),a&&Xl){d=0;break e}break;default:q=ct,ct=0,vn=null,Pl(e,g,k,q)}}Ep(),d=Bt;break}catch(ne){Qf(e,ne)}while(!0);return t&&e.shellSuspendCounter++,ua=ul=null,lt=l,D.H=o,D.A=u,Ze===null&&(xt=null,Je=0,br()),d}function Ep(){for(;Ze!==null;)Wf(Ze)}function Ap(e,t){var a=lt;lt|=2;var l=Jf(),o=Kf();xt!==e||Je!==t?(Jr=null,Xr=he()+500,Wl(e,t)):Xl=ln(e,t);e:do try{if(ct!==0&&Ze!==null){t=Ze;var u=vn;t:switch(ct){case 1:ct=0,vn=null,Pl(e,t,u,1);break;case 2:case 9:if(id(u)){ct=0,vn=null,Pf(t);break}t=function(){ct!==2&&ct!==9||xt!==e||(ct=7),Wn(e)},u.then(t,t);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:id(u)?(ct=0,vn=null,Pf(t)):(ct=0,vn=null,Pl(e,t,u,7));break;case 5:var d=null;switch(Ze.tag){case 26:d=Ze.memoizedState;case 5:case 27:var g=Ze;if(d?Lm(d):g.stateNode.complete){ct=0,vn=null;var k=g.sibling;if(k!==null)Ze=k;else{var q=g.return;q!==null?(Ze=q,Pr(q)):Ze=null}break t}}ct=0,vn=null,Pl(e,t,u,5);break;case 6:ct=0,vn=null,Pl(e,t,u,6);break;case 8:ic(),Bt=6;break e;default:throw Error(i(462))}}$p();break}catch(ne){Qf(e,ne)}while(!0);return ua=ul=null,D.H=l,D.A=o,lt=a,Ze!==null?0:(xt=null,Je=0,br(),Bt)}function $p(){for(;Ze!==null&&!oe();)Wf(Ze)}function Wf(e){var t=jf(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?Pr(e):Ze=t}function Pf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=gf(a,t,t.pendingProps,t.type,void 0,Je);break;case 11:t=gf(a,t,t.pendingProps,t.type.render,t.ref,Je);break;case 5:No(t);default:Sf(a,t),t=Ze=Ju(t,va),t=jf(a,t,va)}e.memoizedProps=e.pendingProps,t===null?Pr(e):Ze=t}function Pl(e,t,a,l){ua=ul=null,No(t),Fl=null,Ss=0;var o=t.return;try{if(yp(e,o,t,a,Je)){Bt=1,Ur(e,An(a,e.current)),Ze=null;return}}catch(u){if(o!==null)throw Ze=o,u;Bt=1,Ur(e,An(a,e.current)),Ze=null;return}t.flags&32768?(Pe||l===1?e=!0:Xl||(Je&536870912)!==0?e=!1:(Ia=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),em(t,e)):Pr(t)}function Pr(e){var t=e;do{if((t.flags&32768)!==0){em(t,Ia);return}e=t.return;var a=jp(t.alternate,t,va);if(a!==null){Ze=a;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);Bt===0&&(Bt=5)}function em(e,t){do{var a=Np(e.alternate,e);if(a!==null){a.flags&=32767,Ze=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=a}while(e!==null);Bt=6,Ze=null}function tm(e,t,a,l,o,u,d,g,k){e.cancelPendingCommit=null;do ei();while(It!==0);if((lt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Xi,Pt(e,a,u,d,g,k),e===xt&&(Ze=xt=null,Je=0),Kl=t,qa=e,wa=a,lc=u,sc=o,qf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cp(Ie,function(){return rm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,o=U.p,U.p=2,d=lt,lt|=4;try{Sp(e,t,a)}finally{lt=d,U.p=o,D.T=l}}It=1,nm(),am(),lm()}}function nm(){if(It===1){It=0;var e=qa,t=Kl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=U.p;U.p=2;var o=lt;lt|=4;try{Rf(t,e);var u=vc,d=Iu(e.containerInfo),g=u.focusedElem,k=u.selectionRange;if(d!==g&&g&&g.ownerDocument&&Uu(g.ownerDocument.documentElement,g)){if(k!==null&&qi(g)){var q=k.start,ne=k.end;if(ne===void 0&&(ne=q),"selectionStart"in g)g.selectionStart=q,g.selectionEnd=Math.min(ne,g.value.length);else{var ie=g.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Me=g.textContent.length,ze=Math.min(k.start,Me),ht=k.end===void 0?ze:Math.min(k.end,Me);!X.extend&&ze>ht&&(d=ht,ht=ze,ze=d);var R=zu(g,ze),E=zu(g,ht);if(R&&E&&(X.rangeCount!==1||X.anchorNode!==R.node||X.anchorOffset!==R.offset||X.focusNode!==E.node||X.focusOffset!==E.offset)){var F=ie.createRange();F.setStart(R.node,R.offset),X.removeAllRanges(),ze>ht?(X.addRange(F),X.extend(E.node,E.offset)):(F.setEnd(E.node,E.offset),X.addRange(F))}}}}for(ie=[],X=g;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<ie.length;g++){var re=ie[g];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}fi=!!yc,vc=yc=null}finally{lt=o,U.p=l,D.T=a}}e.current=t,It=2}}function am(){if(It===2){It=0;var e=qa,t=Kl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=U.p;U.p=2;var o=lt;lt|=4;try{$f(e,t.alternate,t)}finally{lt=o,U.p=l,D.T=a}}It=3}}function lm(){if(It===4||It===3){It=0,I();var e=qa,t=Kl,a=wa,l=qf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,Kl=qa=null,sm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Va=null),Gt(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(dt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,o=U.p,U.p=2,D.T=null;try{for(var u=e.onRecoverableError,d=0;d<l.length;d++){var g=l[d];u(g.value,{componentStack:g.stack})}}finally{D.T=t,U.p=o}}(wa&3)!==0&&ei(),Wn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===rc?Is++:(Is=0,rc=e):Is=0,Fs(0)}}function sm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,js(t)))}function ei(){return nm(),am(),lm(),rm()}function rm(){if(It!==5)return!1;var e=qa,t=lc;lc=0;var a=Gt(wa),l=D.T,o=U.p;try{U.p=32>a?32:a,D.T=null,a=sc,sc=null;var u=qa,d=wa;if(It=0,Kl=qa=null,wa=0,(lt&6)!==0)throw Error(i(331));var g=lt;if(lt|=4,If(u.current),Lf(u,u.current,d,a),lt=g,Fs(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(dt,u)}catch{}return!0}finally{U.p=o,D.T=l,sm(e,t)}}function im(e,t,a){t=An(a,t),t=Lo(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(pt(e,2),Wn(e))}function ut(e,t,a){if(e.tag===3)im(e,e,a);else for(;t!==null;){if(t.tag===3){im(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Va===null||!Va.has(l))){e=An(a,e),a=of(2),l=Ha(t,a,2),l!==null&&(cf(a,l,t,e),pt(l,2),Wn(l));break}}t=t.return}}function cc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new _p;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(a)||(tc=!0,o.add(a),e=Mp.bind(null,e,t,a),t.then(e,e))}function Mp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,xt===e&&(Je&a)===a&&(Bt===4||Bt===3&&(Je&62914560)===Je&&300>he()-Qr?(lt&2)===0&&Wl(e,0):nc|=a,Jl===Je&&(Jl=0)),Wn(e)}function om(e,t){t===0&&(t=_e()),e=il(e,t),e!==null&&(pt(e,t),Wn(e))}function Dp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),om(e,a)}function Op(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),om(e,a)}function Cp(e,t){return Ee(e,t)}var ti=null,es=null,uc=!1,ni=!1,dc=!1,Ga=0;function Wn(e){e!==es&&e.next===null&&(es===null?ti=es=e:es=es.next=e),ni=!0,uc||(uc=!0,Hp())}function Fs(e,t){if(!dc&&ni){dc=!0;do for(var a=!1,l=ti;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var d=l.suspendedLanes,g=l.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=o&~(d&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,fm(l,u))}else u=Je,u=Tn(l,l===xt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||ln(l,u)||(a=!0,fm(l,u));l=l.next}while(a);dc=!1}}function Rp(){cm()}function cm(){ni=uc=!1;var e=0;Ga!==0&&Zp()&&(e=Ga);for(var t=he(),a=null,l=ti;l!==null;){var o=l.next,u=um(l,t);u===0?(l.next=null,a===null?ti=o:a.next=o,o===null&&(es=a)):(a=l,(e!==0||(u&3)!==0)&&(ni=!0)),l=o}It!==0&&It!==5||Fs(e),Ga!==0&&(Ga=0)}function um(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-St(u),g=1<<d,k=o[d];k===-1?((g&a)===0||(g&l)!==0)&&(o[d]=Wt(g,t)):k<=t&&(e.expiredLanes|=g),u&=~g}if(t=xt,a=Je,a=Tn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ae(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ln(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ae(l),Gt(a)){case 2:case 8:a=Xe;break;case 32:a=Ie;break;case 268435456:a=zt;break;default:a=Ie}return l=dm.bind(null,e),a=Ee(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ae(l),e.callbackPriority=2,e.callbackNode=null,2}function dm(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ei()&&e.callbackNode!==a)return null;var l=Je;return l=Tn(e,e===xt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Gf(e,l,t),um(e,he()),e.callbackNode!=null&&e.callbackNode===a?dm.bind(null,e):null)}function fm(e,t){if(ei())return null;Gf(e,t,!0)}function Hp(){Xp(function(){(lt&6)!==0?Ee(Le,Rp):cm()})}function fc(){if(Ga===0){var e=zl;e===0&&(e=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),Ga=e}return Ga}function mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ur(""+e)}function hm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Lp(e,t,a,l,o){if(t==="submit"&&a&&a.stateNode===o){var u=mm((o[Ut]||null).action),d=l.submitter;d&&(t=(t=d[Ut]||null)?mm(t.formAction):d.getAttribute("formAction"),t!==null&&(u=t,d=null));var g=new hr("action","action",null,l,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var k=d?hm(o,d):new FormData(o);Mo(a,{pending:!0,data:k,method:o.method,action:u},null,k)}}else typeof u=="function"&&(g.preventDefault(),k=d?hm(o,d):new FormData(o),Mo(a,{pending:!0,data:k,method:o.method,action:u},u,k))},currentTarget:o}]})}}for(var mc=0;mc<Qi.length;mc++){var hc=Qi[mc],zp=hc.toLowerCase(),Up=hc[0].toUpperCase()+hc.slice(1);Fn(zp,"on"+Up)}Fn(qu,"onAnimationEnd"),Fn(Yu,"onAnimationIteration"),Fn(Gu,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(np,"onTransitionRun"),Fn(ap,"onTransitionStart"),Fn(lp,"onTransitionCancel"),Fn(Zu,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function pm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var d=l.length-1;0<=d;d--){var g=l[d],k=g.instance,q=g.currentTarget;if(g=g.listener,k!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=q;try{u(o)}catch(ne){xr(ne)}o.currentTarget=null,u=k}else for(d=0;d<l.length;d++){if(g=l[d],k=g.instance,q=g.currentTarget,g=g.listener,k!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=q;try{u(o)}catch(ne){xr(ne)}o.currentTarget=null,u=k}}}}function Qe(e,t){var a=t[_a];a===void 0&&(a=t[_a]=new Set);var l=e+"__bubble";a.has(l)||(gm(t,e,2,!1),a.add(l))}function pc(e,t,a){var l=0;t&&(l|=4),gm(a,e,l,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[ai]){e[ai]=!0,nl.forEach(function(a){a!=="selectionchange"&&(Ip.has(a)||pc(a,!1,e),pc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,pc("selectionchange",!1,t))}}function gm(e,t,a,l){switch(Ym(t)){case 2:var o=pg;break;case 8:o=gg;break;default:o=$c}a=o.bind(null,t,a,e),o=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function xc(e,t,a,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var g=l.stateNode.containerInfo;if(g===o)break;if(d===4)for(d=l.return;d!==null;){var k=d.tag;if((k===3||k===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;g!==null;){if(d=zn(g),d===null)return;if(k=d.tag,k===5||k===6||k===26||k===27){l=u=d;continue e}g=g.parentNode}}l=l.return}vu(function(){var q=u,ne=Di(a),ie=[];e:{var Y=Qu.get(e);if(Y!==void 0){var X=hr,Me=e;switch(e){case"keypress":if(fr(a)===0)break e;case"keydown":case"keyup":X=O0;break;case"focusin":Me="focus",X=zi;break;case"focusout":Me="blur",X=zi;break;case"beforeblur":case"afterblur":X=zi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=H0;break;case qu:case Yu:case Gu:X=k0;break;case Zu:X=z0;break;case"scroll":case"scrollend":X=v0;break;case"wheel":X=I0;break;case"copy":case"cut":case"paste":X=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ku;break;case"toggle":case"beforetoggle":X=V0}var ze=(t&4)!==0,ht=!ze&&(e==="scroll"||e==="scrollend"),R=ze?Y!==null?Y+"Capture":null:Y;ze=[];for(var E=q,F;E!==null;){var re=E;if(F=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||F===null||R===null||(re=ds(E,R),re!=null&&ze.push(qs(E,re,F))),ht)break;E=E.return}0<ze.length&&(Y=new X(Y,Me,null,a,ne),ie.push({event:Y,listeners:ze}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Y&&a!==Mi&&(Me=a.relatedTarget||a.fromElement)&&(zn(Me)||Me[Ln]))break e;if((X||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Me=a.relatedTarget||a.toElement,X=q,Me=Me?zn(Me):null,Me!==null&&(ht=m(Me),ze=Me.tag,Me!==ht||ze!==5&&ze!==27&&ze!==6)&&(Me=null)):(X=null,Me=q),X!==Me)){if(ze=Nu,re="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ze=ku,re="onPointerLeave",R="onPointerEnter",E="pointer"),ht=X==null?Y:Qn(X),F=Me==null?Y:Qn(Me),Y=new ze(re,E+"leave",X,a,ne),Y.target=ht,Y.relatedTarget=F,re=null,zn(ne)===q&&(ze=new ze(R,E+"enter",Me,a,ne),ze.target=F,ze.relatedTarget=ht,re=ze),ht=re,X&&Me)t:{for(ze=Fp,R=X,E=Me,F=0,re=R;re;re=ze(re))F++;re=0;for(var Re=E;Re;Re=ze(Re))re++;for(;0<F-re;)R=ze(R),F--;for(;0<re-F;)E=ze(E),re--;for(;F--;){if(R===E||E!==null&&R===E.alternate){ze=R;break t}R=ze(R),E=ze(E)}ze=null}else ze=null;X!==null&&xm(ie,Y,X,ze,!1),Me!==null&&ht!==null&&xm(ie,ht,Me,ze,!0)}}e:{if(Y=q?Qn(q):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var nt=Du;else if($u(Y))if(Ou)nt=P0;else{nt=K0;var Oe=J0}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&$i(q.elementType)&&(nt=Du):nt=W0;if(nt&&(nt=nt(e,q))){Mu(ie,nt,a,ne);break e}Oe&&Oe(e,Y,q),e==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&sa(Y,"number",Y.value)}switch(Oe=q?Qn(q):window,e){case"focusin":($u(Oe)||Oe.contentEditable==="true")&&($l=Oe,Yi=q,ys=null);break;case"focusout":ys=Yi=$l=null;break;case"mousedown":Gi=!0;break;case"contextmenu":case"mouseup":case"dragend":Gi=!1,Fu(ie,a,ne);break;case"selectionchange":if(tp)break;case"keydown":case"keyup":Fu(ie,a,ne)}var Ge;if(Ii)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Al?Eu(e,a)&&(Ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ke="onCompositionStart");Ke&&(Tu&&a.locale!=="ko"&&(Al||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Al&&(Ge=wu()):(Aa=ne,Ri="value"in Aa?Aa.value:Aa.textContent,Al=!0)),Oe=li(q,Ke),0<Oe.length&&(Ke=new Su(Ke,e,null,a,ne),ie.push({event:Ke,listeners:Oe}),Ge?Ke.data=Ge:(Ge=Au(a),Ge!==null&&(Ke.data=Ge)))),(Ge=Y0?G0(e,a):Z0(e,a))&&(Ke=li(q,"onBeforeInput"),0<Ke.length&&(Oe=new Su("onBeforeInput","beforeinput",null,a,ne),ie.push({event:Oe,listeners:Ke}),Oe.data=Ge)),Lp(ie,e,q,a,ne)}pm(ie,t)})}function qs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function li(e,t){for(var a=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ds(e,a),o!=null&&l.unshift(qs(e,o,u)),o=ds(e,t),o!=null&&l.push(qs(e,o,u))),e.tag===3)return l;e=e.return}return[]}function Fp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xm(e,t,a,l,o){for(var u=t._reactName,d=[];a!==null&&a!==l;){var g=a,k=g.alternate,q=g.stateNode;if(g=g.tag,k!==null&&k===l)break;g!==5&&g!==26&&g!==27||q===null||(k=q,o?(q=ds(a,u),q!=null&&d.unshift(qs(a,q,k))):o||(q=ds(a,u),q!=null&&d.push(qs(a,q,k)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var Vp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function bm(e){return(typeof e=="string"?e:""+e).replace(Vp,`
`).replace(qp,"")}function ym(e,t){return t=bm(t),bm(e)===t}function mt(e,t,a,l,o,u){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||_l(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&_l(e,""+l);break;case"className":pe(e,"class",l);break;case"tabIndex":pe(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pe(e,a,l);break;case"style":bu(e,l,u);break;case"data":if(t!=="object"){pe(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ur(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&mt(e,t,"name",o.name,o,null),mt(e,t,"formEncType",o.formEncType,o,null),mt(e,t,"formMethod",o.formMethod,o,null),mt(e,t,"formTarget",o.formTarget,o,null)):(mt(e,t,"encType",o.encType,o,null),mt(e,t,"method",o.method,o,null),mt(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ur(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ra);break;case"onScroll":l!=null&&Qe("scroll",e);break;case"onScrollEnd":l!=null&&Qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ur(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Qe("beforetoggle",e),Qe("toggle",e),je(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":je(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=b0.get(a)||a,je(e,a,l))}}function bc(e,t,a,l,o,u){switch(a){case"style":bu(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_l(e,l):(typeof l=="number"||typeof l=="bigint")&&_l(e,""+l);break;case"onScroll":l!=null&&Qe("scroll",e);break;case"onScrollEnd":l!=null&&Qe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[Ut]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):je(e,a,l)}}}function Jt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",e),Qe("load",e);var l=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var d=a[u];if(d!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:mt(e,t,u,d,a,null)}}o&&mt(e,t,"srcSet",a.srcSet,a,null),l&&mt(e,t,"src",a.src,a,null);return;case"input":Qe("invalid",e);var g=u=d=o=null,k=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":o=ne;break;case"type":d=ne;break;case"checked":k=ne;break;case"defaultChecked":q=ne;break;case"value":u=ne;break;case"defaultValue":g=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:mt(e,t,l,ne,a,null)}}la(e,u,g,k,q,d,o,!1);return;case"select":Qe("invalid",e),l=d=u=null;for(o in a)if(a.hasOwnProperty(o)&&(g=a[o],g!=null))switch(o){case"value":u=g;break;case"defaultValue":d=g;break;case"multiple":l=g;default:mt(e,t,o,g,a,null)}t=u,a=d,e.multiple=!!l,t!=null?sn(e,!!l,t,!1):a!=null&&sn(e,!!l,a,!0);return;case"textarea":Qe("invalid",e),u=o=l=null;for(d in a)if(a.hasOwnProperty(d)&&(g=a[d],g!=null))switch(d){case"value":l=g;break;case"defaultValue":o=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:mt(e,t,d,g,a,null)}Tl(e,l,o,u);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(e,t,k,l,a,null)}return;case"dialog":Qe("beforetoggle",e),Qe("toggle",e),Qe("cancel",e),Qe("close",e);break;case"iframe":case"object":Qe("load",e);break;case"video":case"audio":for(l=0;l<Vs.length;l++)Qe(Vs[l],e);break;case"image":Qe("error",e),Qe("load",e);break;case"details":Qe("toggle",e);break;case"embed":case"source":case"link":Qe("error",e),Qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:mt(e,t,q,l,a,null)}return;default:if($i(t)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&bc(e,t,ne,l,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(l=a[g],l!=null&&mt(e,t,g,l,a,null))}function Yp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,d=null,g=null,k=null,q=null,ne=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=ie;default:l.hasOwnProperty(X)||mt(e,t,X,null,l,ie)}}for(var Y in l){var X=l[Y];if(ie=a[Y],l.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":u=X;break;case"name":o=X;break;case"checked":q=X;break;case"defaultChecked":ne=X;break;case"value":d=X;break;case"defaultValue":g=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,t));break;default:X!==ie&&mt(e,t,Y,X,l,ie)}}en(e,d,g,k,q,ne,u,o);return;case"select":X=d=g=Y=null;for(u in a)if(k=a[u],a.hasOwnProperty(u)&&k!=null)switch(u){case"value":break;case"multiple":X=k;default:l.hasOwnProperty(u)||mt(e,t,u,null,l,k)}for(o in l)if(u=l[o],k=a[o],l.hasOwnProperty(o)&&(u!=null||k!=null))switch(o){case"value":Y=u;break;case"defaultValue":g=u;break;case"multiple":d=u;default:u!==k&&mt(e,t,o,u,l,k)}t=g,a=d,l=X,Y!=null?sn(e,!!a,Y,!1):!!l!=!!a&&(t!=null?sn(e,!!a,t,!0):sn(e,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(g in a)if(o=a[g],a.hasOwnProperty(g)&&o!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:mt(e,t,g,null,l,o)}for(d in l)if(o=l[d],u=a[d],l.hasOwnProperty(d)&&(o!=null||u!=null))switch(d){case"value":Y=o;break;case"defaultValue":X=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&mt(e,t,d,o,l,u)}kl(e,Y,X);return;case"option":for(var Me in a)if(Y=a[Me],a.hasOwnProperty(Me)&&Y!=null&&!l.hasOwnProperty(Me))switch(Me){case"selected":e.selected=!1;break;default:mt(e,t,Me,null,l,Y)}for(k in l)if(Y=l[k],X=a[k],l.hasOwnProperty(k)&&Y!==X&&(Y!=null||X!=null))switch(k){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:mt(e,t,k,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in a)Y=a[ze],a.hasOwnProperty(ze)&&Y!=null&&!l.hasOwnProperty(ze)&&mt(e,t,ze,null,l,Y);for(q in l)if(Y=l[q],X=a[q],l.hasOwnProperty(q)&&Y!==X&&(Y!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:mt(e,t,q,Y,l,X)}return;default:if($i(t)){for(var ht in a)Y=a[ht],a.hasOwnProperty(ht)&&Y!==void 0&&!l.hasOwnProperty(ht)&&bc(e,t,ht,void 0,l,Y);for(ne in l)Y=l[ne],X=a[ne],!l.hasOwnProperty(ne)||Y===X||Y===void 0&&X===void 0||bc(e,t,ne,Y,l,X);return}}for(var R in a)Y=a[R],a.hasOwnProperty(R)&&Y!=null&&!l.hasOwnProperty(R)&&mt(e,t,R,null,l,Y);for(ie in l)Y=l[ie],X=a[ie],!l.hasOwnProperty(ie)||Y===X||Y==null&&X==null||mt(e,t,ie,Y,l,X)}function vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var o=a[l],u=o.transferSize,d=o.initiatorType,g=o.duration;if(u&&g&&vm(d)){for(d=0,g=o.responseEnd,l+=1;l<a.length;l++){var k=a[l],q=k.startTime;if(q>g)break;var ne=k.transferSize,ie=k.initiatorType;ne&&vm(ie)&&(k=k.responseEnd,d+=ne*(k<g?1:(g-q)/(k-q)))}if(--l,t+=8*(u+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yc=null,vc=null;function si(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jc=null;function Zp(){var e=window.event;return e&&e.type==="popstate"?e===jc?!1:(jc=e,!0):(jc=null,!1)}var Nm=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,Xp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(e){return Sm.resolve(null).then(e).catch(Jp)}:Nm;function Jp(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function km(e,t){var a=t,l=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(o),ls(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ys(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ys(a);for(var u=a.firstChild;u;){var d=u.nextSibling,g=u.nodeName;u[Zn]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=d}}else a==="body"&&Ys(e.ownerDocument.body);a=o}while(a);ls(t)}function Tm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Nc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nc(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Kp(e,t,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function Wp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Cn(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Cn(e.nextSibling),e===null))return null;return e}function Sc(e){return e.data==="$?"||e.data==="$~"}function kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Pp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tc=null;function Bm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Cn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,a){switch(t=si(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ys(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ba(e)}var Rn=new Map,$m=new Set;function ri(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ja=U.d;U.d={f:eg,r:tg,D:ng,C:ag,L:lg,m:sg,X:ig,S:rg,M:og};function eg(){var e=ja.f(),t=Kr();return e||t}function tg(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):ja.r(e)}var ts=typeof document>"u"?null:document;function Mm(e,t,a){var l=ts;if(l&&typeof t=="string"&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),$m.has(o)||($m.add(o),e={rel:e,crossOrigin:a,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),Jt(t,"link",e),kt(t),l.head.appendChild(t)))}}function ng(e){ja.D(e),Mm("dns-prefetch",e,null)}function ag(e,t){ja.C(e,t),Mm("preconnect",e,t)}function lg(e,t,a){ja.L(e,t,a);var l=ts;if(l&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+gt(a.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var u=o;switch(t){case"style":u=ns(e);break;case"script":u=as(e)}Rn.has(u)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Rn.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Gs(u))||t==="script"&&l.querySelector(Zs(u))||(t=l.createElement("link"),Jt(t,"link",e),kt(t),l.head.appendChild(t)))}}function sg(e,t){ja.m(e,t);var a=ts;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=as(e)}if(!Rn.has(u)&&(e=j({rel:"modulepreload",href:e},t),Rn.set(u,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zs(u)))return}l=a.createElement("link"),Jt(l,"link",e),kt(l),a.head.appendChild(l)}}}function rg(e,t,a){ja.S(e,t,a);var l=ts;if(l&&e){var o=pn(l).hoistableStyles,u=ns(e);t=t||"default";var d=o.get(u);if(!d){var g={loading:0,preload:null};if(d=l.querySelector(Gs(u)))g.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Rn.get(u))&&_c(e,a);var k=d=l.createElement("link");kt(k),Jt(k,"link",e),k._p=new Promise(function(q,ne){k.onload=q,k.onerror=ne}),k.addEventListener("load",function(){g.loading|=1}),k.addEventListener("error",function(){g.loading|=2}),g.loading|=4,ii(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:g},o.set(u,d)}}}function ig(e,t){ja.X(e,t);var a=ts;if(a&&e){var l=pn(a).hoistableScripts,o=as(e),u=l.get(o);u||(u=a.querySelector(Zs(o)),u||(e=j({src:e,async:!0},t),(t=Rn.get(o))&&Bc(e,t),u=a.createElement("script"),kt(u),Jt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function og(e,t){ja.M(e,t);var a=ts;if(a&&e){var l=pn(a).hoistableScripts,o=as(e),u=l.get(o);u||(u=a.querySelector(Zs(o)),u||(e=j({src:e,async:!0,type:"module"},t),(t=Rn.get(o))&&Bc(e,t),u=a.createElement("script"),kt(u),Jt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function Dm(e,t,a,l){var o=(o=W.current)?ri(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ns(a.href),a=pn(o).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ns(a.href);var u=pn(o).hoistableStyles,d=u.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=o.querySelector(Gs(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Rn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(e,a),u||cg(o,e,a,d.state))),t&&l===null)throw Error(i(528,""));return d}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=as(a),a=pn(o).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ns(e){return'href="'+gt(e)+'"'}function Gs(e){return'link[rel="stylesheet"]['+e+"]"}function Om(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function cg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Jt(t,"link",a),kt(t),e.head.appendChild(t))}function as(e){return'[src="'+gt(e)+'"]'}function Zs(e){return"script[async]"+e}function Cm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return t.instance=l,kt(l),l;var o=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),kt(l),Jt(l,"style",o),ii(l,a.precedence,e),t.instance=l;case"stylesheet":o=ns(a.href);var u=e.querySelector(Gs(o));if(u)return t.state.loading|=4,t.instance=u,kt(u),u;l=Om(a),(o=Rn.get(o))&&_c(l,o),u=(e.ownerDocument||e).createElement("link"),kt(u);var d=u;return d._p=new Promise(function(g,k){d.onload=g,d.onerror=k}),Jt(u,"link",l),t.state.loading|=4,ii(u,a.precedence,e),t.instance=u;case"script":return u=as(a.src),(o=e.querySelector(Zs(u)))?(t.instance=o,kt(o),o):(l=a,(o=Rn.get(u))&&(l=j({},a),Bc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),kt(o),Jt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ii(l,a.precedence,e));return t.instance}function ii(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,d=0;d<l.length;d++){var g=l[d];if(g.dataset.precedence===t)u=g;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function _c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oi=null;function Rm(e,t,a){if(oi===null){var l=new Map,o=oi=new Map;o.set(a,l)}else o=oi,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Zn]||u[bt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(t)||"";d=e+d;var g=l.get(d);g?g.push(u):l.set(d,[u])}}return l}function Hm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ug(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Lm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dg(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ns(l.href),u=t.querySelector(Gs(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ci.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,kt(u);return}u=t.ownerDocument||t,l=Om(l),(o=Rn.get(o))&&_c(l,o),u=u.createElement("link"),kt(u);var d=u;d._p=new Promise(function(g,k){d.onload=g,d.onerror=k}),Jt(u,"link",l),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ci.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ec=0;function fg(e,t){return e.stylesheets&&e.count===0&&di(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&di(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ec===0&&(Ec=62500*Gp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&di(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ec?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function ci(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)di(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ui=null;function di(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ui=new Map,t.forEach(mg,e),ui=null,ci.call(e))}function mg(e,t){if(!(t.state.loading&4)){var a=ui.get(e);if(a)var l=a.get(null);else{a=new Map,ui.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var d=o[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}o=t.instance,d=o.getAttribute("data-precedence"),u=a.get(d)||l,u===l&&a.set(null,o),a.set(d,o),this.count++,l=ci.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Qs={$$typeof:Z,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function hg(e,t,a,l,o,u,d,g,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function zm(e,t,a,l,o,u,d,g,k,q,ne,ie){return e=new hg(e,t,a,d,k,q,ne,ie,g),t=1,u===!0&&(t|=24),u=xn(3,null,null,t),e.current=u,u.stateNode=e,t=io(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:t},fo(u),e}function Um(e){return e?(e=Ol,e):Ol}function Im(e,t,a,l,o,u){o=Um(o),l.context===null?l.context=o:l.pendingContext=o,l=Ra(t),l.payload={element:a},u=u===void 0?null:u,u!==null&&(l.callback=u),a=Ha(e,l,t),a!==null&&(fn(a,e,t),Ts(a,e,t))}function Fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ac(e,t){Fm(e,t),(e=e.alternate)&&Fm(e,t)}function Vm(e){if(e.tag===13||e.tag===31){var t=il(e,67108864);t!==null&&fn(t,e,67108864),Ac(e,67108864)}}function qm(e){if(e.tag===13||e.tag===31){var t=jn();t=Yt(t);var a=il(e,t);a!==null&&fn(a,e,t),Ac(e,t)}}var fi=!0;function pg(e,t,a,l){var o=D.T;D.T=null;var u=U.p;try{U.p=2,$c(e,t,a,l)}finally{U.p=u,D.T=o}}function gg(e,t,a,l){var o=D.T;D.T=null;var u=U.p;try{U.p=8,$c(e,t,a,l)}finally{U.p=u,D.T=o}}function $c(e,t,a,l){if(fi){var o=Mc(l);if(o===null)xc(e,t,l,mi,a),Gm(e,l);else if(bg(o,e,t,a,l))l.stopPropagation();else if(Gm(e,l),t&4&&-1<xg.indexOf(e)){for(;o!==null;){var u=Un(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=qt(u.pendingLanes);if(d!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var k=1<<31-St(d);g.entanglements[1]|=k,d&=~k}Wn(u),(lt&6)===0&&(Xr=he()+500,Fs(0))}}break;case 31:case 13:g=il(u,2),g!==null&&fn(g,u,2),Kr(),Ac(u,2)}if(u=Mc(l),u===null&&xc(e,t,l,mi,a),u===o)break;o=u}o!==null&&l.stopPropagation()}else xc(e,t,l,null,a)}}function Mc(e){return e=Di(e),Dc(e)}var mi=null;function Dc(e){if(mi=null,e=zn(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mi=e,null}function Ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case Le:return 2;case Xe:return 8;case Ie:case it:return 32;case zt:return 268435456;default:return 32}default:return 32}}var Oc=!1,Qa=null,Xa=null,Ja=null,Xs=new Map,Js=new Map,Ka=[],xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(t.pointerId)}}function Ks(e,t,a,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Un(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function bg(e,t,a,l,o){switch(t){case"focusin":return Qa=Ks(Qa,e,t,a,l,o),!0;case"dragenter":return Xa=Ks(Xa,e,t,a,l,o),!0;case"mouseover":return Ja=Ks(Ja,e,t,a,l,o),!0;case"pointerover":var u=o.pointerId;return Xs.set(u,Ks(Xs.get(u)||null,e,t,a,l,o)),!0;case"gotpointercapture":return u=o.pointerId,Js.set(u,Ks(Js.get(u)||null,e,t,a,l,o)),!0}return!1}function Zm(e){var t=zn(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Mt(e.priority,function(){qm(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,Mt(e.priority,function(){qm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Mc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return t=Un(a),t!==null&&Vm(t),e.blockedOn=a,!1;t.shift()}return!0}function Qm(e,t,a){hi(e)&&a.delete(t)}function yg(){Oc=!1,Qa!==null&&hi(Qa)&&(Qa=null),Xa!==null&&hi(Xa)&&(Xa=null),Ja!==null&&hi(Ja)&&(Ja=null),Xs.forEach(Qm),Js.forEach(Qm)}function pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Oc||(Oc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yg)))}var gi=null;function Xm(e){gi!==e&&(gi=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gi===e&&(gi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Dc(l||a)===null)continue;break}var u=Un(a);u!==null&&(e.splice(t,3),t-=3,Mo(u,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function ls(e){function t(k){return pi(k,e)}Qa!==null&&pi(Qa,e),Xa!==null&&pi(Xa,e),Ja!==null&&pi(Ja,e),Xs.forEach(t),Js.forEach(t);for(var a=0;a<Ka.length;a++){var l=Ka[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)Zm(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],u=a[l+1],d=o[Ut]||null;if(typeof u=="function")d||Xm(a);else if(d){var g=null;if(u&&u.hasAttribute("formAction")){if(o=u,d=u[Ut]||null)g=d.formAction;else if(Dc(o)!==null)continue}else g=d.action;typeof g=="function"?a[l+1]=g:(a.splice(l,3),l-=3),Xm(a)}}}function Jm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Cc(e){this._internalRoot=e}xi.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=jn();Im(a,l,e,t,null,null)},xi.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Im(e.current,2,null,e,null,null),Kr(),t[Ln]=null}};function xi(e){this._internalRoot=e}xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ot();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&Zm(e)}};var Km=r.version;if(Km!=="19.2.4")throw Error(i(527,Km,"19.2.4"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var vg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{dt=bi.inject(vg),jt=bi}catch{}}return Ps.createRoot=function(e,t){if(!f(e))throw Error(i(299));var a=!1,l="",o=af,u=lf,d=sf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=zm(e,1,!1,null,null,a,l,null,o,u,d,Jm),e[Ln]=t.current,gc(e),new Cc(t)},Ps.hydrateRoot=function(e,t,a){if(!f(e))throw Error(i(299));var l=!1,o="",u=af,d=lf,g=sf,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),t=zm(e,1,!0,t,a??null,l,o,k,u,d,g,Jm),t.context=Um(null),a=t.current,l=jn(),l=Yt(l),o=Ra(l),o.callback=null,Ha(a,o,l),a=l,t.current.lanes=a,pt(t,a),Wn(t),e[Ln]=t.current,gc(e),new xi(t)},Ps.version="19.2.4",Ps}var ih;function Ag(){if(ih)return Lc.exports;ih=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Lc.exports=Eg(),Lc.exports}var $g=Ag();const Mg=Hh($g),Ta=({className:s="w-6 h-6"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),oh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),lr=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),mn=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.067-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),cs=({className:s="w-5 h-5"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:[n.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),n.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),n.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),n.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),n.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),n.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]}),sr=({className:s="w-6 h-6"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})}),is=({className:s="w-6 h-6"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 0 1 0 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 0 1 0-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.581-.495.644-.869l.214-1.281Z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Dg=({className:s="w-6 h-6"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",fill:"none",className:s,children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h9a2 2 0 012 2v9a2 2 0 01-2 2H8a2 2 0 01-2-2V9a2 2 0 012-2z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7V5a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2h2"})]}),_i=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Og=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),cr=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),Lh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18M12 15.75h.008v.008H12v-.008Zm0-2.25h.008v.008H12v-.008Zm-2.25 2.25h.008v.008H9.75v-.008Zm0-2.25h.008v.008H9.75v-.008Zm-2.25 2.25h.008v.008H7.5v-.008Zm0-2.25h.008v.008H7.5v-.008Zm6.75 2.25h.008v.008h-.008v-.008Zm0-2.25h.008v.008h-.008v-.008Zm2.25 2.25h.008v.008h-.008V15.75Zm0-2.25h.008v.008h-.008v-.008Z"})}),zh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"})}),lu=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}),nr=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),Uh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Ih=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 22h14M5 2h14M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"})}),Cg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z M12 3v-1.5M10 1.5h4"})}),Fh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:n.jsx("path",{d:"M-5.21 13.78q.024 0 .042.018.015.016.016.04h.024a.08.08 0 0 0-.081-.081zm0-.041a.1.1 0 0 1 .1.1h.024a.124.124 0 0 0-.123-.124zm.034.083a.016.016 0 1 1-.033 0 .016.016 0 0 1 .033 0m7.426-1.579c2.53 0 5.095.864 6.88 2.657 1.79 1.795 2.588 4.311 2.588 6.856h2.708c0-7.392-4.807-12.145-12.176-12.145zm.006-6.9c9.015-.25 16.91 7.24 16.347 16.417l2.832.07c0-11.199-7.954-19.063-19.118-19.063zm5.39 13.697a2.698 2.698 0 0 1-5.398 0 2.698 2.698 0 0 1 5.398 0"})}),Vh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25v-.008Zm2.25-4.5h.008v.008H10.5v-.008Zm0 2.25h.008v.008H10.5v-.008Zm0 2.25h.008v.008H10.5v-.008Zm2.25-4.5h.008v.008H12.75v-.008Zm0 2.25h.008v.008H12.75v-.008Zm0 2.25h.008v.008H12.75v-.008Zm2.25-4.5h.008v.008H15v-.008Zm0 2.25h.008v.008H15v-.008ZM9 4.5h6a2.25 2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25H9A2.25 2.25 0 0 1 6.75 17.25V6.75A2.25 2.25 0 0 1 9 4.5Z"})}),Jc=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m-1.5 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9.375m-9.375-3.375H15m-3.75 3.75H15m-3.75 3.75H15M9 11.25H7.5"})}),su=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504 1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m9.375 2.25c.621 0 1.125.504 1.125 1.125v3.375m-13.5 0V9.375c0-.621.504-1.125 1.125-1.125h3.375m-3.375 0c.621 0 1.125.504 1.125 1.125v3.375"})}),Rg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Sa=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),el=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),qh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),Hg=({className:s="w-6 h-6"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"})}),wl=({className:s="w-6 h-6"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-4.5 0L21 3m0 0h-5.25M21 3v5.25"})}),ch=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})}),ru=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 21.75l-.648-1.188a2.25 2.25 0 01-1.4-1.4l-1.188-.648 1.188-.648a2.25 2.25 0 011.4-1.4l.648-1.188.648 1.188a2.25 2.25 0 011.4 1.4l1.188.648-1.188.648a2.25 2.25 0 01-1.4 1.4z"})}),Yh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125-1.125h-15c-.621 0-1.125-.504-1.125-1.125V6.375c0-.621.504-1.125 1.125-1.125h.375m15.75 0v.375a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.375m0 0h.375a.75.75 0 0 1 .75.75v.375a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.375M3 6.375v.375a.75.75 0 0 0 .75.75h.75a.75.75 0 0 0 .75-.75v-.375m0 0H3.75m-1.5 0h.375a.75.75 0 0 0 .75-.75V6a.75.75 0 0 0-.75-.75H3.75a.75.75 0 0 0-.75.75v.375m1.5 0v.375a.75.75 0 0 0 .75.75h.75a.75.75 0 0 0 .75-.75v-.375m0 0H3.75M3 15h18M3 9h18"})}),rr=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),os=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:n.jsx("path",{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"})}),Gh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})}),jl=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),Zh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"})}),Lg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.898 20.562 16.25 21.75l-.648-1.188a2.25 2.25 0 0 0-1.4-1.4l-1.188-.648 1.188-.648a2.25 2.25 0 0 0 1.4-1.4l.648-1.188.648 1.188a2.25 2.25 0 0 0 1.4 1.4Z"})}),ka=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),zg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"})}),Qh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z"})}),Bi=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:n.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})}),Ug=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:s,children:n.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"})}),Ig=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),Fg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),ir=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),Xh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),Vg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),Jh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25z"})}),qg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),iu=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),ou=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})}),cu=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.5h-6a2.25 2.25 0 0 1-2.25-2.25v-6a2.25 2.25 0 0 1 2.25-2.25h6a2.25 2.25 0 0 1 2.25 2.25v6a2.25 2.25 0 0 1-2.25-2.25Zm.75-12v.001M16.5 18.75h.008v.008h-.008v-.008Zm0-3.75h.008v.008h-.008v-.008Zm0-3.75h.008v.008h-.008v-.008Zm-3.75 0h.008v.008h-.008v-.008Zm0 3.75h.008v.008h-.008v-.008Zm0 3.75h.008v.008h-.008v-.008Zm-3.75 0h.008v.008h-.008v-.008Zm0-3.75h.008v.008h-.008v-.008Zm0-3.75h.008v.008h-.008v-.008Z"})}),Kh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6zM3.75 12h16.5M12 3.75v16.5"})}),uu=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Wh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Yg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Gg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 19.5 19.5 3.75m0 0h-11.25m11.25 0v11.25"})}),Zg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75 19.5 19.5m0 0h-11.25m11.25 0V8.25"})}),Qg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),uh=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25"})}),Xg=({className:s="w-5 h-5"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),Jg=({className:s="w-6 h-6"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:s,children:n.jsxs("g",{children:[n.jsx("rect",{x:"2.656",y:"2.27841",width:"12.069",height:"19.68818",rx:"0.2",fill:"none"}),n.jsx("path",{transform:"rotate(41.9478, 5.28465, 11.7465)","stroke-linecap":"round","stroke-width":"0.9",d:"m4.78465,12.19654l1,-0.9"})]})}),Kg=({className:s="w-6 h-6"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:s,children:[n.jsx("rect",{rx:".2",height:"19.688",width:"12.069",y:"2.278",x:"2.656"}),n.jsx("path",{d:"m18.734 11.789.757-.084M15.19 3.038l5.766-1.732m-5.824 19.833 5.836 1.41m.204.041-.105-21.265m-5.896 19.39-.104-17.327","stroke-width":".9","stroke-linecap":"round"})]}),Wg=({className:s="w-6 h-6"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:[n.jsx("rect",{fill:"none",rx:".2",height:"14.767",width:"12.069",y:"4.739",x:"2.656"}),n.jsx("path",{d:"m4.529 7.531 1-.9","stroke-width":".9","stroke-linecap":"round"}),n.jsx("path",{d:"M8.741 5.057v14.389m-5.674-7.231h11.496m-11.46-7.01h11.319M3.067 19.103h11.288M3.123 5.691l-.071 13.387M14.306 5.619l.017 13.477"})]}),Pg=({className:s="w-6 h-6"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:[n.jsx("rect",{rx:".2",height:"14.767",width:"12.069",y:"4.739",x:"2.656"}),n.jsx("path",{d:"m20.041 5.905-.012-1.382","stroke-width":".9","stroke-linecap":"round"}),n.jsx("path",{d:"M18.449 3.99v15.989m-2.545-7.977h5.664m-6.186-6.189 6.01-3.928m-6.218 16.668 6.17 2.926M15.639 5.264l-.071 13.387M21.56 1.477l.053 20.446"})]}),ex=({className:s="w-6 h-6"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:[n.jsx("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":".5",stroke:"currentColor",fill:"none",d:"M19.203 7.83s1.77-2.25 1.77-3.228c0-1.41-1.321-2.556-2.951-2.556S15.07 3.191 15.07 4.602s1.772 3.23 1.772 3.23zm0 1.052h-2.9l-.354-.362a10 10 0 0 1-.995-1.216c-.375-.534-.67-1.064-.856-1.586a3.3 3.3 0 0 1-.21-1.116c0-1.999 1.858-3.607 4.134-3.607 2.275 0 4.133 1.608 4.133 3.607 0 .536-.237 1.135-.654 1.868q-.177.31-.39.637a19 19 0 0 1-.941 1.327l-.353.448zM16.84 10.46c-.326 0-.59-.236-.59-.526s.264-.526.59-.526h2.362c.326 0 .59.235.59.526 0 .29-.264.526-.59.526zm.59 1.577c-.326 0-.59-.235-.59-.526 0-.29.264-.525.59-.525h1.18c.327 0 .59.235.59.525s-.263.526-.59.526zm.148-8.939a1.6 1.6 0 0 0-.64.14c-.423.188-.69.543-.69 1.043 0 .218.199.395.444.395s.443-.177.443-.395c0-.19.066-.279.198-.337a.7.7 0 0 1 .245-.057c.244 0 .443-.177.443-.395 0-.217-.2-.394-.443-.394"}),n.jsxs("g",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":".5",stroke:"currentColor",fill:"none",children:[n.jsx("path",{d:"M7.652 7.34V2.373a2.086 1.72 0 0 0-.598-1.193A2.036 1.679 0 0 0 5.466.7 2.1 1.731 0 0 0 3.57 2.46l.007 4.862a3.387 2.793 0 0 0 1.354 4.97 3.627 2.991 0 0 0 .676.052 3.39 2.795 0 0 0 3.39-2.79 3.336 2.75 0 0 0-1.346-2.213"}),n.jsx("path",{d:"M6.961 9.554a1.346 1.11 0 0 1-2.692 0 1.323 1.091 0 0 1 .99-1.063V2.642"})]}),n.jsx("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":".5",stroke:"currentColor",fill:"none",d:"M14.247 17.07a2.318 1.965 0 1 0 2.318 1.965 2.318 1.965 0 0 0-2.318-1.965m0 2.807a.994.842 0 1 1 .994-.842.994.842 0 0 1-.994.842m0-4.773h-5.3a4.636 3.93 0 0 0 0 7.86h5.3a4.636 3.93 0 0 0 0-7.86m0 6.739h-5.3a3.312 2.807 0 0 1 0-5.615h5.3a3.312 2.807 0 0 1 0 5.615"})]}),Ph=({link:s,groupId:r,columnId:c,isEditMode:i,onEdit:f,onDelete:m,onPointerDown:h,draggedItem:y,dropTarget:w,themeClasses:x,openLinksInNewTab:N,compact:j,onLinkClick:S})=>{const[A,V]=v.useState(0),J=v.useRef(null);v.useEffect(()=>{V(0)},[s.url]);const ee=()=>{V(B=>B+1)},P=()=>{i||(N?window.open(s.url,"_blank","noopener,noreferrer"):window.location.href=s.url,S==null||S())},M=()=>{let B;try{B=new URL(s.url).hostname}catch{return n.jsx(sr,{className:`w-6 h-6 ${x.iconMuted} flex-shrink-0`})}if(A>=2)return n.jsx(sr,{className:`w-6 h-6 ${x.iconMuted} flex-shrink-0`});const C=A===0?`https://icon.horse/icon/${B}`:`https://icons.duckduckgo.com/ip3/${B}.ico`;return n.jsx("img",{src:C,alt:"",className:"w-6 h-6 object-contain flex-shrink-0",onError:ee})},Z=(y==null?void 0:y.type)==="groupItem"&&y.item.id===s.id,T=(w==null?void 0:w.itemId)===s.id;return n.jsxs("div",{ref:J,id:`item-${s.id}`,"data-droppable":"item","data-column-id":c,"data-group-id":r,"data-item-id":s.id,title:s.comment,onClick:P,onContextMenu:B=>{i&&B.preventDefault()},className:`group/link flex items-start justify-between rounded-md transition-all duration-150 ease-in-out ${i?"cursor-grab":"cursor-pointer"} ${Z?"opacity-30":""} ${T?`ring-2 ${x.ring}`:""} ${j?"py-1":`p-2 ${x.linkBg} ${x.linkHoverBg}`}`,children:[n.jsxs("div",{className:`flex items-start min-w-0 ${j?"gap-2":"gap-3"}`,style:i?{touchAction:"none",userSelect:"none"}:{},onMouseDown:B=>{B.target.closest("button")||h(B,{type:"groupItem",item:s,sourceGroupId:r,sourceColumnId:c},J.current)},onTouchStart:B=>{B.target.closest("button")||h(B,{type:"groupItem",item:s,sourceGroupId:r,sourceColumnId:c},J.current)},children:[i&&n.jsx(cs,{className:"w-5 h-5 mt-1 text-slate-500 group-hover/link:text-slate-400 flex-shrink-0 cursor-grab"}),!j&&M(),n.jsx("span",{className:`break-all ${j?`hover:underline ${x.linkText}`:`${x.linkText} ${i?"cursor-default":x.linkHoverText.replace("hover:","group-hover/link:")}`}`,children:s.name})]}),i&&n.jsxs("div",{className:"flex items-center gap-2 transition-opacity flex-shrink-0 ml-2",children:[n.jsx("button",{onClick:B=>{B.stopPropagation(),f()},className:`p-1 rounded-full transition-colors ${x.iconMuted} ${x.buttonIconHoverText} ${x.buttonIconHoverBg}`,children:n.jsx(lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:B=>{B.stopPropagation(),m()},className:`p-1 rounded-full transition-colors ${x.iconMuted} hover:text-red-400 ${x.buttonIconHoverBg}`,children:n.jsx(mn,{className:"w-4 h-4"})})]})]})},e0=({separator:s,groupId:r,columnId:c,isEditMode:i,onDelete:f,onPointerDown:m,draggedItem:h,dropTarget:y,themeClasses:w,compact:x})=>{const N=v.useRef(null),j=(h==null?void 0:h.type)==="groupItem"&&h.item.id===s.id,S=(y==null?void 0:y.itemId)===s.id;return i?n.jsxs("div",{ref:N,id:`item-${s.id}`,"data-droppable":"item","data-column-id":c,"data-group-id":r,"data-item-id":s.id,onContextMenu:A=>{i&&A.preventDefault()},className:`group/separator flex items-center justify-between p-2 rounded-md transition-all duration-150 ease-in-out cursor-grab ${j?"opacity-30":""} ${S?`ring-2 ${w.ring}`:""}`,children:[n.jsxs("div",{className:"flex items-center gap-3 w-full",style:i?{touchAction:"none",userSelect:"none"}:{},onMouseDown:A=>m(A,{type:"groupItem",item:s,sourceGroupId:r,sourceColumnId:c},N.current),onTouchStart:A=>m(A,{type:"groupItem",item:s,sourceGroupId:r,sourceColumnId:c},N.current),children:[n.jsx(cs,{className:"w-5 h-5 text-slate-500 flex-shrink-0 cursor-grab"}),n.jsx("hr",{className:`w-full ${w.dashedBorder} border-dashed`})]}),n.jsx("div",{className:"flex items-center gap-2 transition-opacity",children:n.jsx("button",{onClick:A=>{A.stopPropagation(),f()},className:`p-1 rounded-full transition-colors ${w.iconMuted} hover:text-red-400 ${w.buttonIconHoverBg}`,children:n.jsx(mn,{className:"w-4 h-4"})})})]}):n.jsx("div",{className:x?"py-2":"py-3",children:n.jsx("hr",{className:`${w.dashedBorder}`})})},tx=({themeClasses:s,holidayCountry:r,isEditMode:c})=>{const[i,f]=v.useState(new Date),[m,h]=v.useState(new Map);v.useEffect(()=>{if(!r){h(new Map);return}const M=i.getFullYear(),Z=`holidays-${M}-${r}`;try{const T=sessionStorage.getItem(Z);if(T){h(new Map(JSON.parse(T)));return}}catch(T){console.error("Could not read from session storage",T)}fetch(`https://date.nager.at/api/v3/PublicHolidays/${M}/${r}`).then(T=>{if(!T.ok)throw new Error(`Network response was not ok (${T.status})`);return T.json()}).then(T=>{if(Array.isArray(T)){const B=new Map(T.map(C=>[C.date,C.localName]));h(B);try{sessionStorage.setItem(Z,JSON.stringify(Array.from(B.entries())))}catch(C){console.error("Could not write to session storage",C)}}}).catch(T=>{console.error("Failed to fetch public holidays:",T),h(new Map)})},[i.getFullYear(),r]);const y=["January","February","March","April","May","June","July","August","September","October","November","December"],w=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],x=s.ring.replace("ring-","bg-"),j=parseInt(s.ring.split("-").pop()||"500",10)>=500?"text-white":"text-slate-900",S=s.dashedBorder.replace("border-dashed","border"),A=M=>{f(Z=>{const T=new Date(Z);return T.setDate(1),T.setMonth(T.getMonth()+M),T})},V=()=>{f(new Date)},J=M=>{const Z=i.getFullYear(),T=i.getMonth()+1;return`https://calendar.google.com/calendar/r/week/${Z}/${T}/${M}`},ee=M=>{M=new Date(Date.UTC(M.getFullYear(),M.getMonth(),M.getDate())),M.setUTCDate(M.getUTCDate()+4-(M.getUTCDay()||7));const Z=new Date(Date.UTC(M.getUTCFullYear(),0,1));return Math.ceil(((M.getTime()-Z.getTime())/864e5+1)/7)},P=()=>{const M=i.getFullYear(),Z=i.getMonth(),T=new Date(M,Z,1),C=new Date(M,Z+1,0).getDate(),L=(T.getDay()+6)%7,se=[],we=new Date,Se=we.getFullYear()===M&&we.getMonth()===Z,z=we.getDate();for(let Te=0;Te<L;Te++)se.push(null);for(let Te=1;Te<=C;Te++)se.push(Te);const ue=[];let ce=[];se.forEach((Te,D)=>{if(ce.push(Te),(D+1)%7===0||D===se.length-1){if(D===se.length-1&&ce.length<7)for(;ce.length<7;)ce.push(null);ue.push(ce),ce=[]}});const Ce=ue.map(Te=>{const D=Te.find(U=>U!==null);if(D){const U=new Date(M,Z,D);return ee(U)}return ee(new Date(M,Z,1))});return n.jsx(n.Fragment,{children:ue.map((Te,D)=>n.jsxs(or.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-center text-sm font-semibold",children:Ce[D]}),Te.map((U,G)=>{if(U===null)return n.jsx("div",{className:`${s.columnBg} ${S}`},G);const be=Se&&U===z,H=`${M}-${String(Z+1).padStart(2,"0")}-${String(U).padStart(2,"0")}`,b=m.get(H),O=!!b,$=G===5,_=G===6;let Q=s.linkText,W=!1;return O||_?(Q="text-red-500",W=!0):$&&(Q="text-orange-400",W=!0),n.jsx("a",{href:J(U),target:"_blank",rel:"noopener noreferrer",title:b,onClick:ae=>{c&&ae.preventDefault()},className:`flex items-center justify-center border text-sm font-bold transition-colors 
                    ${S}
                    ${be?`${x} ${W?Q:j}`:`${s.linkBg} ${Q} ${s.linkHoverBg}`}
                    ${c?"pointer-events-none":"cursor-pointer"}
                  `,children:n.jsx("span",{children:U})},G)})]},D))})};return n.jsxs("div",{className:`${s.modalText} rounded-md select-none`,children:[n.jsx("div",{className:`${s.modalBg} text-center py-1 mb-2`,children:n.jsxs("h2",{className:"font-bold text-lg",children:[y[i.getMonth()]," ",i.getFullYear()]})}),n.jsxs("div",{className:"grid grid-cols-8 gap-px text-center text-sm font-bold mb-1",children:[n.jsx("div",{children:"W"}),w.map(M=>n.jsx("div",{children:M},M))]}),n.jsx("div",{className:"grid grid-cols-8 gap-px h-40",children:P()}),n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsx("button",{onClick:()=>A(-1),className:`${s.buttonSecondary} font-bold p-2 rounded disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":"Previous month",title:"Previous month",disabled:c,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})}),n.jsx("button",{onClick:V,className:`${s.buttonSecondary} font-bold p-2 rounded disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":"Current month",title:"Current month",disabled:c,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:n.jsx("circle",{cx:"12",cy:"12",r:"10"})})}),n.jsx("button",{onClick:()=>A(1),className:`${s.buttonSecondary} font-bold p-2 rounded disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":"Next month",title:"Next month",disabled:c,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})]})]})},nx=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s==="x"?r:r&3|8).toString(16)}),ax=({todos:s,setTodos:r,themeClasses:c,isEditMode:i,confirmDelete:f,onRequestDelete:m})=>{var S;const[h,y]=v.useState(""),w=A=>{if(A.preventDefault(),h.trim()==="")return;const V={id:nx(),text:h.trim(),completed:!1};r(J=>[...J,V]),y("")},x=A=>{r(V=>V.map(J=>J.id===A?{...J,completed:!J.completed}:J))},N=A=>{f?m(A):r(V=>V.filter(J=>J.id!==A))},j=((S=c.inputFocusRing.split(" ").find(A=>A.startsWith("focus:ring-")))==null?void 0:S.replace("focus:",""))||"ring-indigo-500";return n.jsxs("div",{children:[n.jsx("style",{children:`
        @media (hover: none) {
          .mobile-trash-visible {
            opacity: 1 !important;
          }
        }
      `}),n.jsxs("form",{onSubmit:w,className:"flex gap-2 mb-3",children:[n.jsx("input",{type:"text",value:h,onChange:A=>y(A.target.value),placeholder:"Add a new task...",disabled:i,className:`w-full p-2 rounded-md border text-sm ${c.inputBg} ${c.inputFocusRing} disabled:opacity-50 disabled:cursor-not-allowed`}),n.jsx("button",{type:"submit",disabled:i,className:`${c.buttonSecondary} font-semibold p-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:n.jsx(Ta,{className:"w-4 h-4"})})]}),n.jsxs("ul",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:[s.map(A=>n.jsxs("li",{className:"group/todo flex items-center justify-between",children:[n.jsxs("label",{htmlFor:`todo-${A.id}`,className:`flex items-start gap-3 min-w-0 ${i?"cursor-default":"cursor-pointer"}`,children:[n.jsx("input",{id:`todo-${A.id}`,type:"checkbox",checked:A.completed,onChange:()=>x(A.id),disabled:i,className:`w-4 h-4 rounded text-indigo-500 bg-slate-600 border-slate-500 focus:ring-offset-0 focus:ring-1 ${j} mt-1 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed`}),n.jsx("span",{className:`transition-colors break-all ${A.completed?`line-through ${c.textSubtle}`:c.modalText}`,children:A.text})]}),n.jsx("button",{onClick:()=>N(A.id),disabled:i,className:`p-1 rounded-full flex-shrink-0 transition-all
                        ${i?"opacity-0 cursor-not-allowed":"opacity-0 group-hover/todo:opacity-100 mobile-trash-visible"}
                        ${c.iconMuted} hover:text-red-400 ${c.buttonIconHoverBg}
                    `,title:"Delete Item",children:n.jsx(mn,{className:"w-4 h-4"})})]},A.id)),s.length===0&&n.jsx("p",{className:`text-center py-4 text-sm ${c.textSubtle}`,children:"No tasks yet. Add one!"})]})]})},dh=s=>{switch(s){case 0:return"Clear sky";case 1:return"Mainly clear";case 2:return"Partly cloudy";case 3:return"Overcast";case 45:return"Fog";case 48:return"Depositing rime fog";case 51:return"Light drizzle";case 53:return"Moderate drizzle";case 55:return"Dense drizzle";case 56:return"Light freezing drizzle";case 57:return"Dense freezing drizzle";case 61:return"Slight rain";case 63:return"Moderate rain";case 65:return"Heavy rain";case 66:return"Light freezing rain";case 67:return"Heavy freezing rain";case 71:return"Slight snow fall";case 73:return"Moderate snow fall";case 75:return"Heavy snow fall";case 77:return"Snow grains";case 80:return"Slight rain showers";case 81:return"Moderate rain showers";case 82:return"Violent rain showers";case 85:return"Slight snow showers";case 86:return"Heavy snow showers";case 95:return"Thunderstorm";case 96:return"Thunderstorm with slight hail";case 99:return"Thunderstorm with heavy hail";default:return"Unknown"}},fh=(s,r=!0)=>{switch(s){case 0:return r?"":"";case 1:return r?"":"";case 2:return"";case 3:return"";case 45:case 48:return"";case 51:case 53:case 55:return"";case 56:case 57:return"";case 61:case 63:case 65:return"";case 66:case 67:return"";case 71:case 73:case 75:case 77:return"";case 80:case 81:case 82:return"";case 85:case 86:return"";case 95:case 96:case 99:return"";default:return""}},lx=({city:s,themeClasses:r,showForecast:c,showTime:i,timezone:f,updateInterval:m=60,weatherClickUrl:h,openLinksInNewTab:y,isEditMode:w})=>{const[x,N]=v.useState(null),[j,S]=v.useState(!0),[A,V]=v.useState(null),[J,ee]=v.useState(new Date);v.useEffect(()=>{if(i){const C=setInterval(()=>ee(new Date),1e3);return()=>clearInterval(C)}},[i]);const P=v.useCallback(async()=>{if(!s){S(!1),N(null),V(null);return}S(!0),V(null);const C=`weather-om-${s.toLowerCase()}`;try{const L=sessionStorage.getItem(C);if(L){const{data:se,timestamp:we}=JSON.parse(L);if(Date.now()-we<1800*1e3){N(se),S(!1);return}}}catch{}try{const L=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(s)}&count=1&language=en&format=json`);if(!L.ok)throw new Error("Geocoding failed");const se=await L.json();if(!se.results||se.results.length===0)throw new Error("City not found.");const{latitude:we,longitude:Se,name:z,country_code:ue}=se.results[0],ce=`${z}, ${ue}`,Ce=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${we}&longitude=${Se}&current=temperature_2m,weather_code,is_day&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=auto`);if(!Ce.ok)throw new Error("Weather data unavailable");const Te=await Ce.json(),D={locationName:ce,current:{temp:Math.round(Te.current.temperature_2m),weatherCode:Te.current.weather_code,description:dh(Te.current.weather_code),isDay:!!Te.current.is_day},daily:Te.daily.time.map((U,G)=>({date:U,maxTemp:Math.round(Te.daily.temperature_2m_max[G]),minTemp:Math.round(Te.daily.temperature_2m_min[G]),weatherCode:Te.daily.weather_code[G],description:dh(Te.daily.weather_code[G])}))};N(D);try{sessionStorage.setItem(C,JSON.stringify({data:D,timestamp:Date.now()}))}catch{}}catch(L){V(L.message||"Failed to fetch weather")}finally{S(!1)}},[s]);v.useEffect(()=>{P()},[P]),v.useEffect(()=>{if(m&&m>0){const C=m*60*1e3,L=setInterval(()=>{P()},C);return()=>clearInterval(L)}},[m,P]);const M=()=>{if(!f)return"--:--";try{return J.toLocaleTimeString("en-US",{timeZone:f,hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return"Invalid TZ"}},Z=()=>{if(!s)return n.jsx("div",{className:"text-sm text-center py-4 text-red-400",children:"Please set a city in the settings."});if(j&&!x)return n.jsx("div",{className:`text-sm text-center py-4 ${r.textSubtle}`,children:"Loading weather..."});if(A&&!x)return n.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[n.jsx("div",{className:"text-sm text-center text-red-400 mb-2",children:A}),n.jsx("button",{onClick:z=>{z.stopPropagation(),P()},className:`p-2 rounded-full ${r.buttonSecondary} transition-colors hover:brightness-110`,title:"Retry",children:n.jsx(ka,{className:"w-4 h-4"})})]});if(!x)return null;const{current:C,daily:L,locationName:se}=x,we=L[0],Se=z=>new Date(z).toLocaleDateString("en-US",{weekday:"long"});return n.jsxs("div",{className:"flex flex-col items-center justify-center p-2 text-center",children:[i&&n.jsx("div",{className:`text-xl font-bold ${r.header} mb-1 font-mono`,children:M()}),n.jsx("h3",{className:`text-lg font-bold ${r.header}`,children:se}),n.jsxs("div",{className:"flex items-center gap-2 my-1",children:[n.jsx("div",{className:"text-4xl leading-none",title:C.description,children:fh(C.weatherCode,C.isDay)}),n.jsxs("p",{className:"text-3xl font-bold",children:[C.temp,"C"]})]}),n.jsx("p",{className:`capitalize text-sm ${r.textMuted}`,children:C.description}),n.jsxs("p",{className:`text-sm ${r.textMuted}`,children:["H: ",we.maxTemp," L: ",we.minTemp,""]}),c&&L.length>2&&n.jsx("div",{className:`mt-4 pt-3 border-t w-full grid grid-cols-2 gap-2 ${r.dashedBorder}`,children:L.slice(1,3).map(z=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("p",{className:"font-bold text-sm",children:Se(z.date)}),n.jsx("div",{className:"text-2xl my-1",title:z.description,children:fh(z.weatherCode)}),n.jsx("p",{className:`capitalize text-xs ${r.textSubtle}`,children:z.description}),n.jsxs("p",{className:`font-medium text-base ${r.textMuted}`,children:["H: ",z.maxTemp," L: ",z.minTemp,""]})]},z.date))})]})},T="block w-full h-full",B="cursor-pointer transition-transform hover:scale-[1.02]";return h&&!w?n.jsx("a",{href:h,target:y?"_blank":"_self",rel:"noopener noreferrer",className:`${T} ${B}`,children:Z()}):n.jsx("div",{className:T,children:Z()})},sx=({timezone:s,themeClasses:r,showSeconds:c=!0,showDate:i=!0})=>{const[f,m]=v.useState(new Date),[h,y]=v.useState(null);v.useEffect(()=>{const N=setInterval(()=>m(new Date),1e3);return()=>clearInterval(N)},[]),v.useEffect(()=>{y(null)},[s]);const w=()=>{try{const N={timeZone:s,hour:"2-digit",minute:"2-digit",hour12:!1};return c&&(N.second="2-digit"),f.toLocaleTimeString("default",N)}catch{return y(`Invalid timezone: ${s}`),c?"--:--:--":"--:--"}},x=()=>{try{return new Intl.DateTimeFormat("default",{timeZone:s,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(f)}catch{return"Invalid Date"}};return h?n.jsx("div",{className:"text-sm text-center py-4 text-red-400",children:h}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-2 text-center",children:[n.jsx("div",{className:`text-3xl font-bold ${r.header}`,children:w()}),i&&n.jsx("div",{className:`text-sm ${r.textMuted}`,children:x()})]})},rx=({id:s,initialDuration:r,themeClasses:c,playSound:i=!0,allowOvertime:f=!1,onOpenSettings:m,isEditMode:h})=>{const y=r===0,w=`timer-state-v2-${s}`,x=v.useRef(r),[N,j]=v.useState(null),[S,A]=v.useState(null),[V,J]=v.useState(r),[ee,P]=v.useState(0),[M,Z]=v.useState(!1),[T,B]=v.useState(r),[C,L]=v.useState(!1),se=v.useRef(null),we=v.useRef(null),Se=v.useRef(null);v.useEffect(()=>{try{const U=localStorage.getItem(w);if(U){const G=JSON.parse(U);if(G.wasStopwatch!==y){ce();return}Z(G.isActive),y?(P(G.pausedElapsed||0),G.isActive&&G.startTime?A(G.startTime):B(G.pausedElapsed||0)):(J(G.pausedDuration??r),G.isActive&&G.targetTime?j(G.targetTime):B(G.pausedDuration??r))}}catch(U){console.error("Failed to load timer state:",U)}},[s,y]),v.useEffect(()=>{if(!h)try{const U={isActive:M,targetTime:N,startTime:S,pausedDuration:V,pausedElapsed:ee,wasStopwatch:y};localStorage.setItem(w,JSON.stringify(U))}catch(U){console.error("Failed to save timer state:",U)}},[M,N,S,V,ee,y,w,h]),v.useEffect(()=>{x.current!==r&&(ce(),x.current=r)},[r]);const z=v.useCallback(()=>{try{const U=window.AudioContext||window.webkitAudioContext;if(!U)return;const G=new U,be=G.currentTime,H=G.createOscillator(),b=G.createGain();H.connect(b),b.connect(G.destination),H.type="square",H.frequency.value=880,b.gain.setValueAtTime(.05,be),b.gain.setValueAtTime(0,be+.1),b.gain.setValueAtTime(.05,be+.2),b.gain.setValueAtTime(0,be+.3),H.start(be),H.stop(be+.4),setTimeout(()=>{G.state!=="closed"&&G.close()},1e3)}catch(U){console.error("Error playing alarm sound:",U)}},[]);v.useEffect(()=>(C&&(z(),we.current=window.setInterval(z,1e3),Se.current=window.setTimeout(()=>L(!1),2e4)),()=>{we.current&&clearInterval(we.current),Se.current&&clearTimeout(Se.current)}),[C,z]),v.useEffect(()=>(M&&!h&&(se.current=window.setInterval(()=>{const U=Date.now();if(y){if(S){const G=(U-S)/1e3;B(ee+G)}}else if(N){const G=(N-U)/1e3;B(G),G>0&&G<=1&&!C||G<=0&&T>0&&(i&&L(!0),f||(Z(!1),j(null),J(0),B(0)))}},250)),()=>{se.current&&clearInterval(se.current)}),[M,h,y,S,N,ee,T,f,i,C]);const ue=()=>{if(C){L(!1);return}if(Te&&!M&&!f)return;Z(!M);const U=Date.now();M?y?(S&&P(G=>G+(U-S)/1e3),A(null)):(N&&J(Math.max(0,(N-U)/1e3)),j(null)):y?A(U):j(U+V*1e3)},ce=()=>{L(!1),Z(!1),j(null),A(null),J(r),P(0),B(r),localStorage.removeItem(w)},Ce=U=>{const G=U<0,be=Math.abs(U),H=Math.floor(be/3600),b=Math.floor(be%3600/60),O=Math.floor(be%60);return`${G?"-":""}${String(H).padStart(2,"0")}:${String(b).padStart(2,"0")}:${String(O).padStart(2,"0")}`},Te=!y&&T<=0,D=c.ring.replace("ring-","text-");return n.jsxs("div",{className:"flex flex-col items-center justify-center p-2 text-center",children:[n.jsx("div",{className:`text-4xl font-bold font-mono tracking-wider ${Te&&!C?`animate-[pulse_1s_cubic-bezier(0.4,0,0.6,1)_infinite] ${D}`:c.header}`,children:Ce(T)}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4 w-full",children:[n.jsx("button",{onClick:ue,className:`${c.buttonPrimary} font-semibold py-2 px-3 rounded-lg transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed ${C?"animate-pulse bg-red-600 hover:bg-red-500":""}`,disabled:h||Te&&!M&&!C&&!f,children:C?"Stop":M?"Pause":"Start"}),n.jsx("button",{onClick:m,className:`${c.buttonSecondary} font-semibold py-2 px-3 rounded-lg transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed`,disabled:h||M||C,children:"Set"}),n.jsx("button",{onClick:ce,className:`${c.buttonSecondary} font-semibold py-2 px-3 rounded-lg transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed`,disabled:h||M,children:"Reset"})]})]})},ix=({rssUrl:s,itemCount:r,updateInterval:c,enableScroll:i=!0,themeClasses:f,openLinksInNewTab:m,isEditMode:h})=>{const[y,w]=v.useState(null),[x,N]=v.useState(!0),[j,S]=v.useState(null),A=v.useCallback(()=>{if(!s){S("Please set an RSS feed URL in the settings."),N(!1);return}N(!0),S(null);const V=`rss-feed-${s}`;try{const ee=sessionStorage.getItem(V);if(ee){const{data:P,timestamp:M}=JSON.parse(ee);if(Date.now()-M<900*1e3){w(P),N(!1);return}}}catch(ee){console.error("Could not read from session storage",ee)}const J=`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(s)}`;fetch(J).then(ee=>{if(!ee.ok)throw new Error("Network response was not ok.");return ee.json()}).then(ee=>{if(ee.status!=="ok")throw new Error(ee.message||"Failed to fetch or parse RSS feed.");w(ee);try{const P={data:ee,timestamp:Date.now()};sessionStorage.setItem(V,JSON.stringify(P))}catch(P){console.error("Could not write to session storage",P)}}).catch(ee=>{S(ee.message)}).finally(()=>{N(!1)})},[s]);return v.useEffect(()=>{A()},[A]),v.useEffect(()=>{if(c>0){const V=c*60*1e3,J=setInterval(()=>{A()},V);return()=>clearInterval(J)}},[c,A]),x&&!y?n.jsx("div",{className:`text-sm text-center py-4 ${f.textSubtle}`,children:"Loading feed..."}):j&&!y?n.jsx("div",{className:"text-sm text-center py-4 text-red-400",children:j}):!y||!y.items||y.items.length===0?n.jsx("div",{className:`text-sm text-center py-4 ${f.textSubtle}`,children:"No items in this feed."}):n.jsx("div",{className:`space-y-2 ${i?"max-h-72 overflow-y-auto pr-1":""}`,children:y.items.slice(0,r).map(V=>n.jsxs("a",{href:V.link,target:m?"_blank":"_self",rel:"noopener noreferrer",onClick:J=>{h&&J.preventDefault()},className:`block p-2 rounded-md transition-colors text-left ${f.linkBg} ${f.linkHoverBg} ${h?"pointer-events-none":""}`,children:[n.jsx("p",{className:`text-xs ${f.textSubtle} mb-0.5`,children:new Date(V.pubDate).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}),n.jsx("p",{className:`text-base font-semibold break-words ${f.linkText} ${f.linkHoverText}`,children:V.title})]},V.link))})},ox=({handleDigitClick:s,handleOperatorClick:r,handleClearClick:c,handleDecimalClick:i,handleEqualsClick:f,buttonClass:m,operatorButtonClass:h,isEditMode:y})=>n.jsxs("div",{className:"grid grid-cols-4 grid-rows-5 gap-2",children:[n.jsx("button",{onClick:c,disabled:y,className:`${m} col-span-2`,children:"C"}),n.jsx("button",{onClick:()=>r("/"),disabled:y,className:h,children:""}),n.jsx("button",{onClick:()=>r("*"),disabled:y,className:h,children:""}),n.jsx("button",{onClick:()=>s("7"),disabled:y,className:m,children:"7"}),n.jsx("button",{onClick:()=>s("8"),disabled:y,className:m,children:"8"}),n.jsx("button",{onClick:()=>s("9"),disabled:y,className:m,children:"9"}),n.jsx("button",{onClick:()=>r("-"),disabled:y,className:h,children:"-"}),n.jsx("button",{onClick:()=>s("4"),disabled:y,className:m,children:"4"}),n.jsx("button",{onClick:()=>s("5"),disabled:y,className:m,children:"5"}),n.jsx("button",{onClick:()=>s("6"),disabled:y,className:m,children:"6"}),n.jsx("button",{onClick:()=>r("+"),disabled:y,className:h,children:"+"}),n.jsx("button",{onClick:()=>s("1"),disabled:y,className:m,children:"1"}),n.jsx("button",{onClick:()=>s("2"),disabled:y,className:m,children:"2"}),n.jsx("button",{onClick:()=>s("3"),disabled:y,className:m,children:"3"}),n.jsx("button",{onClick:f,disabled:y,className:`${h} row-span-2`,children:"="}),n.jsx("button",{onClick:()=>s("0"),disabled:y,className:`${m} col-span-2`,children:"0"}),n.jsx("button",{onClick:i,disabled:y,className:m,children:"."})]}),cx=({themeClasses:s,state:r,onStateChange:c,isEditMode:i})=>{const[f,m]=v.useState(!1),h=v.useRef(null),y=(P,M,Z)=>{const T=parseFloat(P),B=parseFloat(Z);let C;switch(M){case"+":C=T+B;break;case"-":C=T-B;break;case"*":C=T*B;break;case"/":C=B===0?NaN:T/B;break;default:return Z}return Number.isFinite(C)?parseFloat(C.toPrecision(12)).toString():"Error"},w=v.useCallback(P=>{if(r.currentValue.length>=14&&!r.isNewEntry)return;const M=r.isNewEntry||r.currentValue==="0"||r.currentValue==="Error"?P:r.currentValue+P;c({...r,currentValue:M,isNewEntry:!1})},[r,c]),x=v.useCallback(()=>{r.isNewEntry?c({...r,currentValue:"0.",isNewEntry:!1}):r.currentValue.includes(".")||c({...r,currentValue:r.currentValue+".",isNewEntry:!1})},[r,c]),N=v.useCallback(()=>{c({currentValue:"0",previousValue:null,operator:null,isNewEntry:!0})},[c]),j=v.useCallback(P=>{if(r.currentValue==="Error"){N();return}if(r.operator&&!r.isNewEntry&&r.previousValue){const M=y(r.previousValue,r.operator,r.currentValue);c({...r,currentValue:M,previousValue:M,operator:P,isNewEntry:!0})}else c({...r,previousValue:r.currentValue,operator:P,isNewEntry:!0})},[r,c,N]),S=v.useCallback(()=>{if(r.operator&&r.previousValue&&!r.isNewEntry){const P=y(r.previousValue,r.operator,r.currentValue);c({currentValue:P,previousValue:null,operator:null,isNewEntry:!0})}},[r,c]);v.useEffect(()=>{const P=M=>{h.current&&!h.current.contains(M.target)&&m(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),v.useEffect(()=>{const P=M=>{if(!f||i)return;const Z=M.key;Z>="0"&&Z<="9"?(M.preventDefault(),w(Z)):["+","-","*","/"].includes(Z)?(M.preventDefault(),j(Z)):Z==="."?(M.preventDefault(),x()):Z==="Enter"||Z==="="?(M.preventDefault(),S()):(Z==="Backspace"||Z==="Escape")&&(M.preventDefault(),N())};return window.addEventListener("keydown",P),()=>{window.removeEventListener("keydown",P)}},[f,i,w,j,x,S,N]);const A=`${s.buttonSecondary} font-semibold py-2 rounded-lg transition-colors text-lg focus:outline-none focus:ring-1 ${s.ring.replace("ring-","ring-offset-")} disabled:opacity-50 disabled:cursor-not-allowed`,V=`${s.buttonPrimary} font-semibold py-2 rounded-lg transition-colors text-lg focus:outline-none focus:ring-1 ${s.ring.replace("ring-","ring-offset-")} disabled:opacity-50 disabled:cursor-not-allowed`,J=r.currentValue==="Error"?"Error":parseFloat(r.currentValue).toLocaleString("en-US",{maximumFractionDigits:8,useGrouping:!1}),ee=J.length>10?"text-2xl":"text-3xl";return n.jsxs("div",{ref:h,onClick:()=>{i||m(!0)},tabIndex:-1,className:`p-1 space-y-2 rounded-lg transition-shadow outline-none ${f&&!i?`ring-2 ${s.ring}`:""}`,children:[n.jsx("div",{className:`p-2 rounded-lg ${s.inputBg} text-right font-mono break-all overflow-hidden ${ee}`,children:J}),n.jsx(ox,{handleDigitClick:w,handleOperatorClick:j,handleClearClick:N,handleDecimalClick:x,handleEqualsClick:S,buttonClass:A,operatorButtonClass:V,isEditMode:i})]})},mh=500,ux=({content:s,onChange:r,themeClasses:c,isEditMode:i})=>{const[f,m]=v.useState(!1),[h,y]=v.useState(!1),w=v.useRef(null);v.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const x=()=>{if(f)return;const A=()=>{m(!0),setTimeout(()=>m(!1),2e3)},V=()=>{const J=document.createElement("textarea");J.value=s,J.style.position="fixed",J.style.top="-9999px",J.style.left="-9999px",document.body.appendChild(J),J.focus(),J.select();try{document.execCommand("copy")&&A()}catch(ee){console.error("Fallback: Error copying text",ee)}document.body.removeChild(J)};if(!navigator.clipboard){V();return}navigator.clipboard.writeText(s).then(A,J=>{console.warn("Could not copy text using modern API, trying fallback:",J),V()})},N=()=>{h?(w.current&&(clearTimeout(w.current),w.current=null),r(""),y(!1)):(y(!0),w.current=window.setTimeout(()=>{y(!1),w.current=null},3e3))},j=A=>{h&&(y(!1),w.current&&(clearTimeout(w.current),w.current=null)),r(A.target.value)},S=s.length;return n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("textarea",{value:s,onChange:j,placeholder:"Start typing your notes here...",className:`w-full h-48 p-2 rounded-md border text-base resize-none
          ${c.inputBg} 
          ${c.inputFocusRing} 
          placeholder:text-slate-500
          overflow-auto break-words
          disabled:opacity-50 disabled:cursor-not-allowed
        `,disabled:i,maxLength:mh}),n.jsxs("div",{className:"flex items-center justify-end gap-3 px-1",children:[n.jsxs("span",{className:`text-sm ${c.textSubtle}`,children:[S,"/",mh]}),n.jsx("button",{onClick:N,title:h?"Confirm Clear":"Clear",className:`flex items-center gap-1 p-1 rounded-full transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${h?"bg-red-800 text-white px-3":`${c.iconMuted} ${c.buttonIconHoverText} ${c.buttonIconHoverBg}`}`,disabled:i||s.length===0,children:h?n.jsxs(n.Fragment,{children:[n.jsx(el,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-semibold",children:"Confirm"})]}):n.jsx(Rg,{className:"w-5 h-5"})}),n.jsx("button",{onClick:x,title:"Copy to clipboard",className:`${c.iconMuted} ${c.buttonIconHoverText} ${c.buttonIconHoverBg} p-1 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,disabled:i||s.length===0,children:f?n.jsx(el,{className:"w-5 h-5 text-green-400"}):n.jsx(su,{className:"w-5 h-5"})})]})]})},dx=({title:s,targetDate:r,themeClasses:c,behavior:i="discrete",playSound:f=!1,onOpenSettings:m,onDelete:h})=>{const[y,w]=v.useState(!1),[x,N]=v.useState([]),[j,S]=v.useState(!1),A=v.useRef(!1),V=v.useRef(null),J=v.useRef(null),ee=v.useCallback(()=>{const D=new Date,U=new Date(r),G=U.getTime()-D.getTime();let be={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,totalDifference:G};if(G>0){let H=U.getFullYear()-D.getFullYear(),b=U.getMonth()-D.getMonth(),O=U.getDate()-D.getDate(),$=U.getHours()-D.getHours(),_=U.getMinutes()-D.getMinutes(),Q=U.getSeconds()-D.getSeconds();if(Q<0&&(_--,Q+=60),_<0&&($--,_+=60),$<0&&(O--,$+=24),O<0){b--;const W=new Date(U.getFullYear(),U.getMonth(),0).getDate();O+=W}b<0&&(H--,b+=12),be={years:H,months:b,days:O,hours:$,minutes:_,seconds:Q,totalDifference:G}}else be.totalDifference=G;return be},[r]),[P,M]=v.useState(ee),Z=v.useCallback(()=>{try{const D=window.AudioContext||window.webkitAudioContext;if(!D)return;const U=new D,G=U.currentTime,be=U.createOscillator(),H=U.createGain();be.connect(H),H.connect(U.destination),be.type="square",be.frequency.value=880,H.gain.setValueAtTime(.05,G),H.gain.setValueAtTime(0,G+.1),H.gain.setValueAtTime(.05,G+.2),H.gain.setValueAtTime(0,G+.3),be.start(G),be.stop(G+.4),setTimeout(()=>{U.state!=="closed"&&U.close()},1e3)}catch(D){console.error("Error playing alarm sound:",D)}},[]);v.useEffect(()=>(j&&(Z(),V.current=window.setInterval(Z,2e3),J.current=window.setTimeout(()=>{S(!1)},2e4)),()=>{V.current&&(clearInterval(V.current),V.current=null),J.current&&(clearTimeout(J.current),J.current=null)}),[j,Z]);const T=()=>{w(!1),S(!1)};if(v.useEffect(()=>{if(A.current=!1,w(!1),S(!1),ee().totalDifference<=0&&i!=="discrete"&&(w(!0),A.current=!0),i==="confetti"&&x.length===0){const G=["#ef4444","#f59e0b","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899"],be=Array.from({length:50}).map((H,b)=>({id:b,left:`${Math.random()*100}%`,animationDuration:`${Math.random()*3+2}s`,bg:G[Math.floor(Math.random()*G.length)]}));N(be)}const U=setInterval(()=>{const G=ee();M(G),G.totalDifference<=0&&(A.current||(i!=="discrete"&&w(!0),f&&S(!0),A.current=!0))},1e3);return()=>clearInterval(U)},[ee,i,f]),!r)return n.jsx("div",{className:`text-sm text-center py-4 ${c.textSubtle}`,children:"Please set a date in the settings."});const{years:B,months:C,days:L,hours:se,minutes:we,seconds:Se,totalDifference:z}=P,ue=z<=0,ce=new Date(r).toLocaleString(),Ce=`${s}
Target: ${ce}`,Te=ue&&y&&i==="intense"?"animate-[pulse_0.5s_ease-in-out_infinite] bg-red-900/80 border-red-500":"";return n.jsxs("div",{className:`relative text-center p-2 transition-all duration-300 rounded-lg ${Te}`,children:[ue&&y&&i==="confetti"&&n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none rounded-lg z-0",children:[x.map(D=>n.jsx("div",{className:"absolute top-0 w-1.5 h-1.5 rounded-full animate-[fall_linear_infinite]",style:{left:D.left,backgroundColor:D.bg,animationDuration:D.animationDuration,opacity:.8}},D.id)),n.jsx("style",{children:`
                @keyframes fall {
                    0% { transform: translateY(-10px) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(200px) rotate(360deg); opacity: 0; }
                }
              `})]}),n.jsx("h3",{className:`relative z-10 text-lg font-bold ${c.header} break-all`,title:Ce,children:s}),ue?n.jsx("div",{className:"relative z-10 mt-2",children:y&&(i==="confetti"||i==="intense")?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:`text-xl font-bold ${c.header}`,children:"Time's Up!"}),n.jsx("button",{onClick:T,className:"px-4 py-1.5 text-sm font-bold rounded-full shadow-lg bg-white text-black hover:bg-gray-200 transition-colors",children:"Done"})]}):n.jsxs("div",{className:"animate-fade-in-up",children:[n.jsx("p",{className:`text-2xl font-bold ${c.ring.replace("ring-","text-")}`,children:"The time is now!"}),n.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{T(),m()},className:`text-sm font-semibold ${c.buttonSecondary} py-1.5 px-4 rounded-full transition-colors`,children:"Set new"}),n.jsx("button",{onClick:h,className:"text-sm font-semibold bg-red-800/50 hover:bg-red-700/50 text-red-300 py-1.5 px-4 rounded-full transition-colors",children:"Remove"})]})]})}):n.jsxs("div",{className:"flex justify-center items-start flex-wrap gap-3 mt-2 font-mono tracking-tight",children:[B>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-3xl font-bold",children:B}),n.jsx("span",{className:"text-xs block",children:"years"})]}),C>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-3xl font-bold",children:C}),n.jsx("span",{className:"text-xs block",children:"months"})]}),L>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-3xl font-bold",children:L}),n.jsx("span",{className:"text-xs block",children:"days"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-3xl font-bold",children:String(se).padStart(2,"0")}),n.jsx("span",{className:"text-xs block",children:"hours"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-3xl font-bold",children:String(we).padStart(2,"0")}),n.jsx("span",{className:"text-xs block",children:"minutes"})]}),z<1440*60*1e3&&n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-3xl font-bold",children:String(Se).padStart(2,"0")}),n.jsx("span",{className:"text-xs block",children:"seconds"})]})]}),ue&&i==="fullscreen"&&y&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm animate-fade-in-up",children:n.jsxs("div",{className:`relative w-full max-w-lg p-8 rounded-2xl border-2 ${c.modalBg} ${c.dashedBorder} text-center shadow-2xl`,children:[n.jsx(ru,{className:"w-20 h-20 mx-auto mb-6 text-yellow-400 animate-bounce"}),n.jsx("h2",{className:"text-xl font-medium uppercase tracking-widest text-slate-400 mb-2",children:"Countdown Finished"}),n.jsx("h1",{className:`text-4xl md:text-6xl font-bold mb-8 ${c.header} break-words`,children:s}),n.jsx("button",{onClick:T,className:`px-8 py-3 text-lg font-bold rounded-full shadow-lg transform hover:scale-105 transition-all ${c.buttonPrimary}`,children:"Ok"})]})})]})},fx=({base:s,targets:r,themeClasses:c})=>{const[i,f]=v.useState(null),[m,h]=v.useState(!0),[y,w]=v.useState(null),x=v.useMemo(()=>Array.isArray(r)?[...r].sort().join(","):"",[r]);return v.useEffect(()=>{if(!s||!x){w(s?null:"Please configure currencies in the settings."),h(!1),f(null);return}h(!0),w(null),f(null);const N=`currency-${s}-${x}`;try{const j=sessionStorage.getItem(N);if(j){const{data:S,timestamp:A}=JSON.parse(j);if(Date.now()-A<3600*1e3){f(S.rates),h(!1);return}}}catch(j){console.error("Could not read from session storage",j)}fetch(`https://api.frankfurter.app/latest?from=${s}&to=${x}`).then(j=>{if(!j.ok)throw new Error("Failed to fetch exchange rates.");return j.json()}).then(j=>{if(j.error)throw new Error(j.error);f(j.rates);try{const S={data:j,timestamp:Date.now()};sessionStorage.setItem(N,JSON.stringify(S))}catch(S){console.error("Could not write to session storage",S)}}).catch(j=>{w(j.message)}).finally(()=>{h(!1)})},[s,x]),m?n.jsx("div",{className:`text-sm text-center py-4 ${c.textSubtle}`,children:"Loading rates..."}):y?n.jsx("div",{className:"text-sm text-center py-4 text-red-400",children:y}):!i||Object.keys(i).length===0?n.jsx("div",{className:`text-sm text-center py-4 ${c.textSubtle}`,children:"No rates available. Select currencies in settings."}):n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:Object.entries(i).map(([N,j])=>{if(typeof j!="number")return null;const S=1/j;return n.jsxs("div",{className:"flex justify-between items-center p-1 font-mono",children:[n.jsxs("span",{className:`text-base ${c.textMuted}`,children:["1 ",N]}),n.jsx("span",{className:"text-base",children:"="}),n.jsxs("span",{className:`text-base font-bold ${c.header}`,children:[S.toFixed(2)," ",s]})]},N)})})},mx=({items:s,themeClasses:r,isEditMode:c})=>{const[i,f]=v.useState(null),m=h=>{if(!c){if(f(h.id),h.method==="navigate"){const y=document.createElement("iframe");y.style.display="none",y.src=h.url,document.body.appendChild(y),setTimeout(()=>{document.body.contains(y)&&document.body.removeChild(y)},2e3)}else{const y={method:h.method||"GET",mode:"no-cors",cache:"no-cache",credentials:"omit"};h.method==="POST"&&(y.body=""),fetch(h.url,y).catch(w=>{})}setTimeout(()=>f(null),300)}};return!s||s.length===0?n.jsx("div",{className:`text-sm text-center py-4 ${r.textSubtle}`,children:"No webhooks configured. Add them in settings."}):n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto pr-1",children:s.map(h=>{const y=i===h.id;return n.jsx("button",{onClick:()=>m(h),disabled:c,className:`
              p-3 rounded-lg font-semibold text-sm transition-all duration-200 truncate
              ${y?"bg-green-500 text-white scale-95 shadow-inner":`${r.buttonSecondary} hover:brightness-110`}
              ${c?"opacity-50 cursor-not-allowed":""}
            `,title:h.url,children:h.name},h.id)})})},hx=["Length","Weight","Volume","Temperature"],ss={Length:["Inch","Centimeter","Foot","Meter","Mile","Kilometer"],Weight:["Pound","Kilogram","Ounce","Gram"],Volume:["US Cup","Deciliter","Gallon","Liter","Fluid Ounce","Milliliter"],Temperature:["Fahrenheit","Celsius"]},hh={Meter:1,Centimeter:.01,Inch:.0254,Foot:.3048,Mile:1609.34,Kilometer:1e3,Kilogram:1,Gram:.001,Pound:.453592,Ounce:.0283495,Liter:1,Deciliter:.1,Milliliter:.001,Gallon:3.78541,"US Cup":.236588,"Fluid Ounce":.0295735},px=({themeClasses:s,isEditMode:r})=>{const[c,i]=v.useState("Length"),[f,m]=v.useState(ss.Length[0]),[h,y]=v.useState(ss.Length[1]),[w,x]=v.useState(""),[N,j]=v.useState(""),S=M=>{i(M),m(ss[M][0]),y(ss[M][1]),x(""),j("")},A=(M,Z,T)=>{if(M==="")return"";const B=parseFloat(M);if(isNaN(B))return"";if(c==="Temperature")return Z===T?M:Z==="Fahrenheit"&&T==="Celsius"?((B-32)*5/9).toFixed(2):Z==="Celsius"&&T==="Fahrenheit"?(B*9/5+32).toFixed(2):"";{const C=hh[Z],L=hh[T];if(!C||!L)return"";const we=B*C/L;return parseFloat(we.toPrecision(6)).toString()}},V=M=>{const Z=M.target.value;x(Z),j(A(Z,f,h))},J=M=>{const Z=M.target.value;j(Z),x(A(Z,h,f))},ee=M=>{const Z=M.target.value;m(Z),w&&j(A(w,Z,h))},P=M=>{const Z=M.target.value;y(Z),w&&j(A(w,f,Z))};return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{children:n.jsx("select",{value:c,onChange:M=>S(M.target.value),disabled:r,className:`w-full p-2 rounded-md border text-sm font-semibold ${s.inputBg} ${s.inputFocusRing} disabled:opacity-50 disabled:cursor-not-allowed`,children:hx.map(M=>n.jsx("option",{value:M,children:M},M))})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",value:w,onChange:V,placeholder:"0",disabled:r,className:`flex-1 p-2 rounded-md border ${s.inputBg} ${s.inputFocusRing} min-w-0 disabled:opacity-50 disabled:cursor-not-allowed`}),n.jsx("select",{value:f,onChange:ee,disabled:r,className:`w-[45%] min-w-0 p-2 rounded-md border text-sm ${s.inputBg} ${s.inputFocusRing} disabled:opacity-50 disabled:cursor-not-allowed`,children:ss[c].map(M=>n.jsx("option",{value:M,children:M},M))})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("span",{className:`${s.iconMuted}`,children:""})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",value:N,onChange:J,placeholder:"0",disabled:r,className:`flex-1 p-2 rounded-md border ${s.inputBg} ${s.inputFocusRing} min-w-0 disabled:opacity-50 disabled:cursor-not-allowed`}),n.jsx("select",{value:h,onChange:P,disabled:r,className:`w-[45%] min-w-0 p-2 rounded-md border text-sm ${s.inputBg} ${s.inputFocusRing} disabled:opacity-50 disabled:cursor-not-allowed`,children:ss[c].map(M=>n.jsx("option",{value:M,children:M},M))})]})]})]})},gx=({themeClasses:s})=>{const[r,c]=v.useState(null),[i,f]=v.useState(null),[m,h]=v.useState(navigator.onLine),[y,w]=v.useState(!0),[x,N]=v.useState(null),j=navigator.userAgent;let S="Unknown Browser";j.match(/chrome|chromium|crios/i)?S="Chrome":j.match(/firefox|fxios/i)?S="Firefox":j.match(/safari/i)?S="Safari":j.match(/opr\//i)?S="Opera":j.match(/edg/i)&&(S="Edge");let A="Unknown OS";j.indexOf("Win")!==-1&&(A="Windows"),j.indexOf("Mac")!==-1&&(A="MacOS"),j.indexOf("Linux")!==-1&&(A="Linux"),j.indexOf("Android")!==-1&&(A="Android"),j.indexOf("like Mac")!==-1&&(A="iOS"),v.useEffect(()=>{const ee=()=>h(!0),P=()=>h(!1);return window.addEventListener("online",ee),window.addEventListener("offline",P),()=>{window.removeEventListener("online",ee),window.removeEventListener("offline",P)}},[]);const V=()=>{w(!0),N(null);const ee=Date.now();fetch("https://ipapi.co/json/").then(P=>{if(!P.ok)throw new Error("Failed to fetch network data");return P.json()}).then(P=>{const M=Date.now();f(M-ee),c(P)}).catch(P=>{N("Could not load network info.");const M=Date.now();fetch("https://www.google.com/favicon.ico",{mode:"no-cors"}).then(()=>f(Date.now()-M)).catch(()=>{})}).finally(()=>{w(!1)})};v.useEffect(()=>{m&&V()},[m]);const J=ee=>{if(!ee)return"";const P=ee.toUpperCase().split("").map(M=>127397+M.charCodeAt(0));return String.fromCodePoint(...P)};return n.jsxs("div",{className:"flex flex-col gap-3 p-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex h-3 w-3",children:[m&&n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),n.jsx("span",{className:`relative inline-flex rounded-full h-3 w-3 ${m?"bg-green-500":"bg-red-500"}`})]}),n.jsx("span",{className:`font-bold ${m?"text-green-400":"text-red-400"}`,children:m?"Online":"Offline"})]}),n.jsx("div",{className:`text-xs ${s.textSubtle} font-mono`,children:i?`${i}ms`:"--ms"})]}),y?n.jsx("div",{className:`text-center py-4 text-sm ${s.textSubtle}`,children:"Scanning network..."}):x?n.jsx("div",{className:"text-center py-2 text-sm text-red-400",children:x}):r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`text-center p-2 rounded-md ${s.inputBg} border ${s.dashedBorder.replace("dashed","solid")}`,children:[n.jsx("div",{className:`text-xs uppercase tracking-wider ${s.textSubtle} mb-1`,children:"Public IP"}),n.jsx("div",{className:`text-xl font-mono font-bold ${s.header} break-all`,children:r.ip})]}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:J(r.country_code)}),n.jsxs("span",{className:s.textMuted,children:[r.city,", ",r.country_name]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{className:`w-4 h-4 ${s.iconMuted}`}),n.jsx("span",{className:`font-semibold ${s.modalText} truncate`,children:r.org})]})]})]}):null,n.jsxs("div",{className:`pt-2 mt-1 border-t ${s.dashedBorder} text-xs ${s.textSubtle} text-center`,children:[S," on ",A]})]})},xx=({city:s,themeClasses:r,use24HourFormat:c=!1,compactMode:i=!1,solarDynamicPath:f=!0})=>{const[m,h]=v.useState(null),[y,w]=v.useState(null),[x,N]=v.useState(!0),[j,S]=v.useState(null),[A,V]=v.useState(new Date);v.useEffect(()=>{const b=setInterval(()=>V(new Date),6e4);return()=>clearInterval(b)},[]);const J=b=>{let O=b.getFullYear(),$=b.getMonth()+1,_=b.getDate();$<3&&(O--,$+=12),$++;const Q=365.25*O,W=30.6*$;let ae=Q+W+_-694039.09;ae/=29.5305882;let te=parseInt(ae.toString());switch(ae-=te,te=Math.round(ae*8),te>=8&&(te=0),te){case 0:return"New Moon";case 1:return"Waxing Crescent";case 2:return"First Quarter";case 3:return"Waxing Gibbous";case 4:return"Full Moon";case 5:return"Waning Gibbous";case 6:return"Last Quarter";case 7:return"Waning Crescent";default:return"New Moon"}},ee=v.useCallback(async()=>{if(!s){N(!1),S("Please set a city."),h(null),w(null);return}N(!0),S(null);const b=`solar-om-v2-${s.toLowerCase()}`;try{const O=sessionStorage.getItem(b);if(O){const{astro:$,tz:_,timestamp:Q}=JSON.parse(O);if(Date.now()-Q<720*60*1e3){h($),w(_),N(!1);return}}}catch{}try{const $=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(s)}&count=1&language=en&format=json`)).json();if(!$.results||$.results.length===0)throw new Error("City not found");const _=$.results[0],Q=_.timezone;w(Q);const W=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${_.latitude}&longitude=${_.longitude}&daily=sunrise,sunset&timezone=auto`);if(!W.ok)throw new Error("Failed to fetch astro data");const te=(await W.json()).daily,me=te.sunrise[0],le=te.sunset[0],p=fe=>new Date(fe).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),ye={sunrise:p(me),sunset:p(le),moon_phase:J(new Date)};h(ye);try{sessionStorage.setItem(b,JSON.stringify({astro:ye,tz:Q,timestamp:Date.now()}))}catch{}}catch{S("Could not load solar data.")}finally{N(!1)}},[s]);v.useEffect(()=>{ee()},[ee]);const P=v.useMemo(()=>{const b=[];for(let O=0;O<20;O++){const $=Math.random()*200,_=Math.random()*95;Math.sqrt(Math.pow($-100,2)+Math.pow(_-100,2))<95&&b.push({id:O,cx:$,cy:_,r:.5+Math.random()*.8,delay:Math.random()*3,duration:2+Math.random()*3})}return b},[]),M=b=>{if(!b)return 0;const[O,$]=b.split(" ");let[_,Q]=O.split(":").map(Number);return $==="PM"&&_!==12&&(_+=12),$==="AM"&&_===12&&(_=0),_*60+Q},Z=b=>{if(!b)return"--:--";if(!c)return b;const[O,$]=b.split(" ");let[_,Q]=O.split(":").map(Number);return $==="PM"&&_!==12&&(_+=12),$==="AM"&&_===12&&(_=0),`${String(_).padStart(2,"0")}:${String(Q).padStart(2,"0")}`},T=b=>{const O=b.toLowerCase();let $;return O==="new moon"?$=n.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.5"}):O==="full moon"?$=n.jsx("circle",{cx:"12",cy:"12",r:"9",fill:"currentColor"}):O.includes("waxing")||O.includes("first")?$=n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),n.jsx("path",{d:"M 12 3 A 9 9 0 0 1 12 21 Z",fill:"currentColor"})]}):O.includes("waning")||O.includes("last")?$=n.jsxs(n.Fragment,{children:[n.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),n.jsx("path",{d:"M 12 3 A 9 9 0 0 0 12 21 Z",fill:"currentColor"})]}):$=n.jsx("path",{d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z",fill:"currentColor"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:`w-6 h-6 ${r.iconMuted} group-hover:text-white transition-colors`,children:$})};if(x)return n.jsx("div",{className:`text-center py-4 text-sm ${r.textSubtle}`,children:"Calculating orbit..."});if(j)return n.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[n.jsx("div",{className:"text-center text-sm text-red-400 mb-2",children:j}),n.jsx("button",{onClick:ee,className:`p-2 rounded-full ${r.buttonSecondary} transition-colors hover:brightness-110`,title:"Retry",children:n.jsx(ka,{className:"w-4 h-4"})})]});if(!m)return null;const B=M(m.sunrise),C=M(m.sunset);let L=0;if(y)try{const b=A.toLocaleTimeString("en-US",{timeZone:y,hour12:!1,hour:"2-digit",minute:"2-digit"}),[O,$]=b.split(":").map(Number);L=O*60+$}catch{L=A.getHours()*60+A.getMinutes()}else L=A.getHours()*60+A.getMinutes();const se=C-B,we=Math.floor(se/60),Se=se%60;let z;f?we<8?z=35:we<12?z=50:we<16?z=65:z=80:z=80;let ue=0,ce=!1;L>=B&&L<=C?(ce=!0,ue=(L-B)/se*100):L>C?ue=100:ue=0;const Ce=80,Te=z,D=100,U=100,G=(180-ue*1.8)*(Math.PI/180),be=D+Ce*Math.cos(G),H=U-Te*Math.sin(G);return n.jsxs("div",{className:"flex flex-col items-center p-3",children:[n.jsx("div",{className:`text-lg font-bold mb-3 ${r.header}`,children:s}),!i&&n.jsx("div",{className:"relative w-48 h-28 mb-2 overflow-hidden",children:n.jsxs("svg",{viewBox:"0 0 200 110",className:"w-full h-full overflow-visible",children:[n.jsx("style",{children:`
                        @keyframes twinkle {
                            0%, 100% { opacity: 0.3; transform: scale(0.8); }
                            50% { opacity: 1; transform: scale(1.2); }
                        }
                    `}),n.jsx("path",{d:`M 20 100 A 80 ${z} 0 0 1 180 100`,fill:"none",stroke:r.dashedBorder.replace("border-","rgba(128,128,128,0.3)"),strokeWidth:"4",strokeDasharray:"8 4"}),!ce&&P.map(b=>n.jsx("circle",{cx:b.cx,cy:b.cy,r:b.r,fill:"white",style:{transformOrigin:`${b.cx}px ${b.cy}px`,animation:`twinkle ${b.duration}s infinite ease-in-out ${b.delay}s`}},b.id)),n.jsx("line",{x1:"10",y1:"100",x2:"190",y2:"100",stroke:"currentColor",strokeWidth:"3",className:"opacity-30"}),n.jsx("line",{x1:"10",y1:"100",x2:"190",y2:"100",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"4 4",className:"opacity-80"}),ce&&n.jsx("foreignObject",{x:be-14,y:H-14,width:"28",height:"28",children:n.jsx(lu,{className:"w-7 h-7 text-yellow-400 animate-pulse [filter:drop-shadow(0_1px_0_#7c2d12)_drop-shadow(0_-1px_0_#7c2d12)_drop-shadow(1px_0_0_#7c2d12)_drop-shadow(-1px_0_0_#7c2d12)]"})})]})}),n.jsxs("div",{className:"flex justify-between w-full px-2 mb-4",children:[n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs uppercase font-bold tracking-wider text-orange-300/70 mb-0.5",children:"Rise"}),n.jsx("div",{className:`text-xl font-bold ${r.modalText}`,children:Z(m.sunrise)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs uppercase font-bold tracking-wider text-purple-300/70 mb-0.5",children:"Set"}),n.jsx("div",{className:`text-xl font-bold ${r.modalText}`,children:Z(m.sunset)})]})]}),!i&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-full border-t ${r.dashedBorder} my-2`}),n.jsxs("div",{className:"grid grid-cols-2 w-full gap-4 pt-1",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("span",{className:`text-xs uppercase tracking-wider font-semibold ${r.textSubtle} mb-1`,children:"Day Length"}),n.jsxs("span",{className:`text-lg font-bold ${r.modalText}`,children:[we,"h ",Se,"m"]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center group",children:[n.jsx("span",{className:`text-xs uppercase tracking-wider font-semibold ${r.textSubtle} mb-1`,children:"Moon"}),n.jsxs("div",{className:"flex items-center gap-2",children:[T(m.moon_phase),n.jsx("span",{className:`text-sm font-medium ${r.modalText} truncate max-w-[90px]`,children:m.moon_phase})]})]})]})]})]})},bx=(s,r,c)=>{const i=s.slice();for(let f=0;f<3;f++)i[f]=Math.round(i[f]+c*(r[f]-i[f]));return`rgb(${i[0]}, ${i[1]}, ${i[2]})`},yx=s=>bx([166,209,255],[255,160,0],s),vx=({themeClasses:s,enableScroll:r=!0,showOneRow:c=!1,selectedCapabilities:i=[],selectedFlows:f=[],devices:m,zones:h,flows:y,onToggle:w,onTriggerFlow:x,onOptimisticUpdate:N,isEditMode:j,homeyGlobalSettings:S})=>{const[A,V]=v.useState(null),J=(T,B,C)=>{j||(N(T,B,!C),w(T,B,C))},ee=T=>{j||(V(T),setTimeout(()=>V(null),500),x(T))},P=v.useMemo(()=>{const T={};if(Object.keys(m).length===0||Object.keys(h).length===0)return{};i.forEach(({deviceId:B,capabilityId:C})=>{const L=m[B];if(!L)return;const se=h[L.zone],we=se?se.name:"Unknown Zone",Se=L.capabilitiesObj[C];Se&&(T[we]||(T[we]=[]),T[we].push({deviceId:L.id,deviceName:L.name,capabilityId:C,...Se}))});for(const B in T)T[B].sort((C,L)=>C.deviceName.localeCompare(L.deviceName));return T},[i,m,h]),M=v.useMemo(()=>!f||Object.keys(y).length===0?[]:f.map(({flowId:T})=>y[T]).filter(Boolean).sort((T,B)=>T.name.localeCompare(B.name)),[f,y]);if(!(S!=null&&S.localIp)||!(S!=null&&S.apiToken))return n.jsx("div",{className:"text-sm text-center py-4 text-red-400",children:"-- Please configure your Homey's IP Address and API Token in the global Settings  Homey tab --"});if(Object.keys(m).length===0)return n.jsx("div",{className:`text-sm text-center py-4 ${s.textSubtle}`,children:"Waiting for data from Homey..."});if(i.length===0&&f.length===0)return n.jsx("div",{className:`text-sm text-center py-4 ${s.textSubtle}`,children:"No items selected. Add them in settings."});const Z=(T,B)=>{if(T==null)return"-";if(typeof T=="boolean"||typeof T=="number"&&(T===0||T===1)&&!B){const C=!!T;return n.jsxs("span",{className:"flex items-center justify-end",children:[n.jsx("span",{className:`inline-block w-2.5 h-2.5 mr-2 rounded-full ${C?"bg-green-500":"bg-red-500"}`}),C?"Yes":"No"]})}return typeof T=="number"?B==="%"&&T>=0&&T<=1?`${Math.round(T*100)}${B}`:`${Math.round(T*10)/10}${B||""}`:String(T)};return n.jsxs("div",{className:`space-y-4 pr-1 ${r?"max-h-96 overflow-y-auto":""}`,children:[Object.keys(P).sort().map(T=>n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-xs uppercase tracking-wider text-indigo-400 mb-2",children:T}),n.jsx("div",{className:"space-y-2",children:P[T].map(B=>{var se,we,Se;const C=["light_hue","light_saturation","light_temperature"].includes(B.capabilityId);let L="transparent";return C&&typeof B.value=="number"&&(B.capabilityId==="light_hue"?L=`hsl(${B.value*360}, 100%, 50%)`:B.capabilityId==="light_saturation"?L=`hsl(${(((Se=(we=(se=m[B.deviceId])==null?void 0:se.capabilitiesObj)==null?void 0:we.light_hue)==null?void 0:Se.value)??0)*360}, ${B.value*100}%, 50%)`:B.capabilityId==="light_temperature"&&(L=yx(B.value))),n.jsxs("div",{className:`flex ${c?"items-center":"items-end"} justify-between p-2 rounded-lg ${s.inputBg} border border-slate-700/50`,children:[n.jsx("div",{className:"flex-1 min-w-0",children:c?n.jsx("div",{className:"break-all text-base font-semibold",children:B.capabilityId==="onoff"?B.deviceName:B.capabilityId==="onoff"?"Toggle":B.title}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"break-all text-xs text-slate-400",children:B.deviceName}),n.jsx("div",{className:`break-all font-semibold text-sm ${s.modalText}`,children:B.capabilityId==="onoff"?"Toggle":B.title})]})}),n.jsx("div",{className:"flex-shrink-0 ml-2",children:B.capabilityId==="onoff"?n.jsx("button",{onClick:()=>J(B.deviceId,B.capabilityId,!!B.value),disabled:j,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${B.value?"bg-green-500":"bg-slate-600"} ${j?"opacity-50 cursor-not-allowed":""}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${B.value?"translate-x-6":"translate-x-1"}`})}):C?n.jsx("div",{className:"flex items-center justify-end",children:n.jsx("div",{className:"w-5 h-5 rounded-full border border-white/20",style:{backgroundColor:L}})}):n.jsx("span",{className:"font-bold font-mono text-base",children:Z(B.value,B.units)})})]},`${B.deviceId}-${B.capabilityId}`)})})]},T)),M.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-xs uppercase tracking-wider text-fuchsia-400 mb-2",children:"Flows"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(T=>{const B=A===T.id;return n.jsxs("button",{onClick:()=>ee(T.id),disabled:j,title:T.name,className:`flex items-center gap-2 p-2 rounded-lg font-semibold text-sm transition-all duration-200 ${B?"bg-green-500 text-white scale-95 shadow-inner":`${s.buttonSecondary} hover:brightness-110`} ${j?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx(Bi,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:T.name})]},T.id)})})]})]})},wx=[{label:"20 min",minutes:20},{label:"40 min",minutes:40},{label:"1 hour",minutes:60},{label:"1.5 hours",minutes:90},{label:"2 hours",minutes:120}],jx=({stations:s,themeClasses:r,isEditMode:c,widgetSettings:i})=>{var be;const[f,m]=v.useState(!1),[h,y]=v.useState(.5),[w,x]=v.useState(!1),[N,j]=v.useState(((be=s==null?void 0:s[0])==null?void 0:be.id)||""),[S,A]=v.useState(!1),[V,J]=v.useState(!1),[ee,P]=v.useState(null),[M,Z]=v.useState(null),[T,B]=v.useState(null),C=v.useRef(null),L=v.useRef(null),se=v.useRef(null),we=v.useRef(null),Se=s.find(H=>H.id===N)||s[0],z=H=>{(isNaN(H)||H<0)&&(H=0);const b=Math.floor(H/3600),O=Math.floor(H%3600/60),$=Math.floor(H%60);let _=`${String(O).padStart(2,"0")}:${String($).padStart(2,"0")}`;return b>0&&(_=`${String(b).padStart(2,"0")}:${_}`),_};v.useEffect(()=>{s&&s.length>0&&!s.find(H=>H.id===N)&&j(s[0].id)},[s,N]),v.useEffect(()=>{const H=b=>{se.current&&!se.current.contains(b.target)&&A(!1),we.current&&!we.current.contains(b.target)&&J(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const ue=H=>{const b=H.play();b!==void 0&&b.catch(O=>{O.name!=="AbortError"&&O.name!=="NotAllowedError"&&(console.error("Playback failed:",O),m(!1))})};v.useEffect(()=>(L.current=new Audio,L.current.volume=h,()=>{C.current&&clearTimeout(C.current),L.current&&(L.current.pause(),L.current=null)}),[]),v.useEffect(()=>{L.current&&(L.current.volume=w?0:h)},[h,w]),v.useEffect(()=>{const H=L.current;!H||!Se||H.src!==Se.url&&(H.src=Se.url,f&&ue(H))},[Se,f]),v.useEffect(()=>{const H=L.current;H&&(f?H.paused&&ue(H):H.paused||H.pause())},[f]),v.useEffect(()=>{if(!ee){T===null&&Z(null);return}const H=setInterval(()=>{const b=ee-Date.now();b<=0?(Z(z(0)),clearInterval(H)):Z(z(b/1e3))},1e3);return()=>clearInterval(H)},[ee,T]),v.useEffect(()=>{if(!f&&ee){C.current&&clearTimeout(C.current);const H=ee-Date.now();H>0&&(B(H),Z(z(H/1e3))),P(null)}if(f&&T){const H=Date.now()+T;P(H),B(null),C.current=window.setTimeout(()=>{m(!1),D()},T)}},[f,ee,T]);const ce=()=>{Se&&m(!f)},Ce=()=>{x(!w)},Te=H=>{j(H),A(!1)},D=()=>{C.current&&(clearTimeout(C.current),C.current=null),P(null),B(null)},U=H=>{D();const b=H*60*1e3,O=Date.now()+b;P(O),J(!1),f||m(!0),C.current=window.setTimeout(()=>{m(!1),D()},b)};if(!s||s.length===0)return n.jsx("div",{className:`text-sm text-center py-4 ${r.textSubtle}`,children:"No stations configured. Add some in settings."});const G=ee!==null||T!==null;return n.jsxs("div",{className:"flex flex-col gap-3 p-2",children:[n.jsxs("div",{className:"relative",ref:se,children:[n.jsxs("button",{onClick:()=>A(!S),disabled:c,className:`w-full flex items-center justify-between p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing} text-sm font-semibold text-left disabled:opacity-50 disabled:cursor-not-allowed`,children:[n.jsx("span",{className:"truncate",children:(Se==null?void 0:Se.name)||"Select Station"}),n.jsx(cr,{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`})]}),S&&!c&&n.jsx("div",{className:`absolute z-30 top-full mt-1 w-full rounded-md shadow-lg border max-h-96 overflow-y-auto ${r.modalBg} ${r.dashedBorder}`,children:n.jsx("ul",{className:"py-1",children:s.map(H=>n.jsx("li",{onClick:()=>Te(H.id),className:`px-3 py-2 text-sm cursor-pointer ${r.linkHoverBg} ${N===H.id?r.header:""}`,children:H.name},H.id))})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:ce,disabled:c,className:`p-3 rounded-full transition-all shadow-lg flex-shrink-0 ${f?r.buttonPrimary:r.buttonSecondary} hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed`,children:f?n.jsx(Ug,{className:"w-6 h-6"}):n.jsx(Bi,{className:"w-6 h-6"})}),n.jsxs("div",{className:`flex-1 flex items-center gap-2 bg-black/20 p-2 rounded-lg ${c?"opacity-50":""}`,children:[n.jsx("button",{onClick:Ce,disabled:c,className:"p-1 rounded-md hover:bg-white/10 transition-colors focus:outline-none disabled:cursor-not-allowed",title:w?"Unmute":"Mute",children:w?n.jsx(Fg,{className:`w-4 h-4 ${r.iconMuted}`}):n.jsx(Ig,{className:`w-4 h-4 ${r.iconMuted}`})}),n.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:h,disabled:c,onChange:H=>{y(parseFloat(H.target.value)),w&&x(!1)},className:"w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:cursor-not-allowed"})]})]}),n.jsx("div",{className:"h-6 flex items-center justify-center gap-1 overflow-hidden",children:f?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1 bg-green-400 animate-[pulse_0.6s_ease-in-out_infinite] h-3"}),n.jsx("div",{className:"w-1 bg-green-400 animate-[pulse_0.8s_ease-in-out_infinite] h-5"}),n.jsx("div",{className:"w-1 bg-green-400 animate-[pulse_1.1s_ease-in-out_infinite] h-2"}),n.jsx("div",{className:"w-1 bg-green-400 animate-[pulse_0.7s_ease-in-out_infinite] h-4"}),n.jsx("div",{className:"w-1 bg-green-400 animate-[pulse_0.9s_ease-in-out_infinite] h-3"}),n.jsx("span",{className:"ml-2 text-xs text-green-400 font-bold uppercase tracking-wider",children:"Live"})]}):n.jsx("span",{className:`text-xs ${r.textSubtle} uppercase tracking-wider`,children:"Ready"})}),(i==null?void 0:i.radioEnableSleepTimer)&&n.jsx("div",{className:`mt-2 pt-3 border-t ${r.dashedBorder} flex items-center justify-center`,children:c?n.jsx("div",{className:"relative opacity-50",children:n.jsxs("button",{disabled:!0,className:`flex items-center gap-2 text-sm font-semibold p-2 rounded-lg ${r.buttonSecondary} cursor-not-allowed`,children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsx("span",{children:"Sleep Timer"})]})}):n.jsx(n.Fragment,{children:G?n.jsxs("div",{className:`flex items-center gap-3 text-base ${!f&&T?"animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]":""}`,children:[n.jsx(nr,{className:`w-5 h-5 ${r.iconMuted}`}),n.jsx("span",{className:"font-mono font-semibold text-lg",children:M}),n.jsx("button",{onClick:D,className:"p-1.5 rounded-full hover:bg-red-900/50",children:n.jsx(Sa,{className:"w-5 h-5 text-red-400"})})]}):n.jsxs("div",{className:"relative",ref:we,children:[n.jsxs("button",{onClick:()=>J(!0),className:`flex items-center gap-2 text-sm font-semibold p-2 rounded-lg ${r.buttonSecondary}`,children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsx("span",{children:"Sleep Timer"})]}),V&&n.jsx("div",{className:`absolute bottom-full mb-2 w-full rounded-md shadow-lg border ${r.modalBg} ${r.dashedBorder} z-30`,children:n.jsx("ul",{className:"py-1",children:wx.map(H=>n.jsx("li",{children:n.jsx("button",{onClick:()=>U(H.minutes),className:`w-full text-center px-3 py-2 text-sm ${r.linkHoverBg}`,children:H.label})},H.minutes))})})]})})})]})},Nx=({url:s,className:r})=>{const[c,i]=v.useState(0);v.useEffect(()=>{i(0)},[s]);const f=()=>{i(y=>y+1)};let m;try{m=new URL(s).hostname}catch{return n.jsx(sr,{className:r})}if(c>=2)return n.jsx(sr,{className:r});const h=c===0?`https://icon.horse/icon/${m}`:`https://icons.duckduckgo.com/ip3/${m}.ico`;return n.jsx("img",{src:h,alt:"",className:r,onError:f})},Sx=({group:s,allColumns:r,themeClasses:c,openLinksInNewTab:i,isEditMode:f,onRemoveFavorite:m})=>{var y;const h=v.useMemo(()=>{var N;const w=[];r.forEach(j=>{j.groups.forEach(S=>{S.items&&S.items.forEach(A=>{A.type==="link"&&A.isFavorite&&w.push(A)})})});const x=(N=s.widgetSettings)==null?void 0:N.favoritesOrder;if(x){const j=new Map(x.map((S,A)=>[S,A]));w.sort((S,A)=>{const V=j.get(S.id),J=j.get(A.id);return V!==void 0&&J!==void 0?Number(V)-Number(J):V!==void 0?-1:J!==void 0?1:0})}return w},[r,(y=s.widgetSettings)==null?void 0:y.favoritesOrder]);return h.length===0?n.jsx("div",{className:`text-sm text-center py-4 ${c.textSubtle}`,children:"Mark links as favorites  in their settings to see them here."}):n.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-80 overflow-y-auto pr-1",children:h.map(w=>n.jsxs("div",{className:"relative group/fav",children:[n.jsxs("a",{href:w.url,target:i?"_blank":"_self",rel:"noopener noreferrer",className:`flex items-center gap-3 p-2 rounded-md transition-colors border ${c.dashedBorder} ${c.linkBg} ${c.linkHoverBg}`,title:w.comment,onClick:x=>{f&&x.preventDefault()},children:[n.jsx(Nx,{url:w.url,className:`w-6 h-6 object-contain flex-shrink-0 ${c.iconMuted}`}),n.jsx("span",{className:`truncate font-medium flex-1 ${c.linkText} ${c.linkHoverText}`,children:w.name})]}),f&&n.jsx("button",{onClick:x=>{x.stopPropagation(),x.preventDefault(),m(w.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full bg-black/50 hover:bg-red-900/80 text-slate-300 hover:text-red-200 transition-colors z-10",title:"Remove from favorites",children:n.jsx(Sa,{className:"w-4 h-4"})})]},w.id))})},kx=({src:s,onClose:r})=>(v.useEffect(()=>{const c=i=>{i.key==="Escape"&&r()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[r]),n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 animate-fade-in",onClick:r,children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white/70 hover:text-white transition-opacity",children:n.jsx(Sa,{className:"w-8 h-8"})}),n.jsx("img",{src:s,alt:"Enlarged view",className:"max-w-[95vw] max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:c=>c.stopPropagation()})]})),Tx=({url:s,base64:r,sourceType:c="url",height:i=200,fit:f="cover",borderRadius:m=!0,updateInterval:h=0,pictureClickUrl:y,pictureEnableZoom:w,openLinksInNewTab:x=!0,themeClasses:N,isEditMode:j})=>{const[S,A]=v.useState(0),[V,J]=v.useState(!1),[ee,P]=v.useState(!1),M=v.useRef(null),Z=v.useRef(null),T=v.useCallback(()=>{Z.current&&clearInterval(Z.current),h>0&&c==="url"&&s&&(Z.current=window.setInterval(()=>{A(Date.now())},h*60*1e3))},[h,c,s]);v.useEffect(()=>{c==="url"&&s&&A(Date.now()),T();const ce=()=>{!document.hidden&&c==="url"&&s&&(A(Date.now()),T())};return document.addEventListener("visibilitychange",ce),()=>{Z.current&&clearInterval(Z.current),document.removeEventListener("visibilitychange",ce)}},[c,s,T]),v.useEffect(()=>{if(!V)return;const ce=Ce=>{M.current&&!M.current.contains(Ce.target)&&J(!1)};return document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}},[V]);let B=c==="upload"?r:s;if(c==="url"&&s&&S>0&&(B=`${s}${s.includes("?")?"&":"?"}refresh=${S}`),!B)return n.jsxs("div",{className:`flex flex-col items-center justify-center ${N.textSubtle} border-2 border-dashed ${N.dashedBorder} rounded-lg`,style:{height:`${i}px`},children:[n.jsx(iu,{className:"w-8 h-8 mb-2 opacity-50"}),n.jsx("span",{className:"text-sm",children:"No image selected"})]});const C=!!y,L=!!w;let se="none";C&&L?se="options":C?se="link":L&&(se="zoom");const we=()=>{if(!j)switch(se){case"link":window.open(y,x?"_blank":"_self","noopener,noreferrer");break;case"zoom":P(!0);break;case"options":J(!0);break}},Se=ce=>{ce.stopPropagation(),P(!0),J(!1)},z=ce=>{ce.stopPropagation(),window.open(y,x?"_blank":"_self","noopener,noreferrer"),J(!1)},ue=j||se==="none"?"cursor-default":"cursor-pointer";return n.jsxs(n.Fragment,{children:[n.jsxs("div",{ref:M,className:`relative w-full overflow-hidden ${ue}`,style:{height:`${i}px`},onClick:we,children:[n.jsx("img",{src:B,alt:"Widget",className:`w-full h-full ${m?"rounded-lg":""}`,style:{objectFit:f},onError:ce=>{ce.target.style.display="none"}},B),V&&!j&&n.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center gap-8 animate-fade-in",onClick:ce=>{ce.stopPropagation(),J(!1)},children:[n.jsx("button",{onClick:Se,className:"text-white/80 hover:text-white hover:scale-110 transition-transform p-3 rounded-full bg-black/40",title:"Zoom In",children:n.jsx(Hg,{className:"w-8 h-8"})}),n.jsx("button",{onClick:z,className:"text-white/80 hover:text-white hover:scale-110 transition-transform p-3 rounded-full bg-black/40",title:"Open Link",children:n.jsx(wl,{className:"w-8 h-8"})})]})]}),ee&&B&&n.jsx(kx,{src:B,onClose:()=>P(!1)})]})},_x=({url:s,viewMode:r="desktop",height:c=400,updateInterval:i=0,themeClasses:f,isEditMode:m})=>{const[h,y]=v.useState(0);if(v.useEffect(()=>{if(i>0){const N=setInterval(()=>{y(j=>j+1)},i*60*1e3);return()=>clearInterval(N)}},[i]),!s)return n.jsxs("div",{className:`flex flex-col items-center justify-center ${f.textSubtle} border-2 border-dashed ${f.dashedBorder} rounded-lg`,style:{height:`${c}px`},children:[n.jsx(ou,{className:"w-8 h-8 mb-2 opacity-50"}),n.jsx("span",{className:"text-sm",children:"No URL configured"})]});const w=s.startsWith("http")?s:`https://${s}`,x=r==="mobile"?{width:"375px",maxWidth:"100%",margin:"0 auto",borderLeft:"1px solid rgba(128,128,128,0.2)",borderRight:"1px solid rgba(128,128,128,0.2)"}:{width:"100%"};return n.jsx("div",{className:`w-full overflow-hidden flex justify-center bg-white ${m?"pointer-events-none":""}`,style:{height:`${c}px`,borderRadius:"0.5rem"},children:n.jsx("div",{style:{...x,height:"100%"},children:n.jsx("iframe",{src:w,title:"Embedded Content",width:"100%",height:"100%",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",style:{border:"none",display:"block"}},h)})})},ph="---SPACER---",Fc={alarm_contact:{true:"Open",false:"Closed"},lock:{true:"Locked",false:"Unlocked"},alarm_motion:{true:"Motion",false:"Clear"},alarm_water:{true:"Leak!",false:"Dry"},window_open:{true:"Open",false:"Closed"},alarm_smoke:{true:"Smoke!",false:"Clear"},alarm_co:{true:"CO!",false:"Clear"},alarm_tamper:{true:"Tampered!",false:"OK"},alarm_battery:{true:"Low",false:"OK"}},gh=new Set(["alarm_water","alarm_smoke","alarm_co","alarm_tamper","alarm_battery"]),Bx=(s,r,c)=>{const i=s.slice();for(let f=0;f<3;f++)i[f]=Math.round(i[f]+c*(r[f]-i[f]));return`rgb(${i[0]}, ${i[1]}, ${i[2]})`},xh=s=>Bx([166,209,255],[255,160,0],s),Ex=({item:s,liveData:r,themeClasses:c,isEditMode:i,groupId:f,columnId:m,draggedItem:h,onPointerDown:y,dropTarget:w,openModal:x,homeyGlobalSettings:N,homeyDevices:j,homeyVariables:S,showOneRow:A,onOptimisticUpdate:V,isFirstItem:J,onToggle:ee,onTriggerFlow:P,onHomeySetValue:M})=>{const Z=v.useRef(null),[T,B]=v.useState(null),[C,L]=v.useState({name:"..."}),[se,we]=v.useState(null),[Se,z]=v.useState((r==null?void 0:r.value)??0),ue=v.useRef(null),ce=(h==null?void 0:h.type)==="groupItem"&&h.item.id===s.id,Ce=(w==null?void 0:w.itemId)===s.id,Te=c.ring.replace("ring-","text-");v.useEffect(()=>{s.type==="homey_slider"&&(r==null?void 0:r.value)!==void 0&&z(r.value)},[r==null?void 0:r.value,s.type]),v.useEffect(()=>{if(s.type==="homey_capability"||s.type==="homey_flow"||s.type==="homey_large_capability"||s.type==="homey_variable"||s.type==="homey_slider"){const{localIp:_,apiToken:Q}=N||{};if(!_||!Q)return;const W=_.trim().startsWith("http")?_.trim():`http://${_.trim()}`,ae={Authorization:`Bearer ${Q.replace(/^Bearer\s+/i,"").trim()}`};if(s.type==="homey_capability"||s.type==="homey_large_capability"||s.type==="homey_slider")Promise.all([fetch(`${W}/api/manager/devices/device/${s.deviceId}`,{headers:ae}),fetch(`${W}/api/manager/zones/zone`,{headers:ae})]).then(async([te,me])=>{var fe;if(!te.ok)throw new Error("Failed to fetch static device data");const le=await te.json(),p=await me.json(),ye=le.capabilitiesObj[s.capabilityId];L({name:le.name,capabilityTitle:s.capabilityId==="onoff"?"Toggle":(ye==null?void 0:ye.title)||"N/A",zone:(fe=p[le.zone])==null?void 0:fe.name})}).catch(te=>console.error("Failed to fetch static item data",te));else if(s.type==="homey_flow")fetch(`${W}/api/manager/flow/flow/${s.flowId}`,{headers:ae}).then(te=>{if(!te.ok)throw new Error("Failed to fetch static flow data");return te.json()}).then(te=>L({name:te.name})).catch(te=>console.error("Failed to fetch static flow data",te));else if(s.type==="homey_variable"){const te=S[s.variableId];te&&L({name:te.name})}}},[s,N,S]);const D=_=>{B(_),setTimeout(()=>B(null),500),P(_)},U=_=>{switch(_.type){case"text":return"HEADER";case"separator":return"SEPARATOR";case"homey_capability":return _.capabilityId==="onoff"?"TOGGLE":"SENSOR";case"homey_large_capability":return"LARGE SENSOR";case"homey_slider":return"SLIDER";case"homey_flow":return"FLOW";case"button_holder":return"BUTTON HOLDER";case"homey_variable":return"VARIABLE";default:return""}},G=(_,Q)=>{if(_==null)return"-";if(typeof _=="boolean"){if(s.type==="homey_capability"||s.type==="homey_large_capability"){const W=Fc[s.capabilityId];return W?_?W.true:W.false:_?"ON":"OFF"}return _?"ON":"OFF"}return typeof _=="number"?Q==="%"&&_>=0&&_<=1?`${Math.round(_*100)}${Q}`:`${Math.round(_*10)/10}${Q||""}`:String(_)},be=_=>{if(s.type!=="homey_slider")return;const Q=parseFloat(_.target.value);z(Q),V(s.deviceId,s.capabilityId,Q),ue.current&&clearTimeout(ue.current),ue.current=window.setTimeout(()=>{M(s.deviceId,s.capabilityId,Q)},250)},H=()=>{var _,Q,W,ae,te,me,le,p,ye,fe,ge,de,De;switch(s.type){case"text":return n.jsx("h4",{className:`font-bold text-xs uppercase tracking-wider ${Te}`,children:s.content});case"separator":return n.jsx("hr",{className:c.dashedBorder});case"homey_variable":{const xe=S[s.variableId],Ee=xe==null?void 0:xe.value,oe=s.customName||C.name;let I=String(Ee??"-"),he=!1,Fe=!1;if((xe==null?void 0:xe.type)==="boolean"&&typeof Ee=="boolean"){const{booleanDisplay:Le,booleanTrueText:Xe,booleanFalseText:Ie}=s,it=!!Ee,Tt=s.isInverted??!1?!it:it;switch(he=Tt===!0,Fe=Tt===!1,Le){case"onOff":I=Ee?"On":"Off";break;case"yesNo":I=Ee?"Yes":"No";break;case"openClosed":I=Ee?"Open":"Closed";break;case"lockedUnlocked":I=Ee?"Locked":"Unlocked";break;case"custom":I=Ee?Xe||"true":Ie||"false";break;default:I=Ee?"true":"false";break}}return n.jsxs("div",{children:[n.jsx("div",{className:"break-all text-sm text-slate-400",children:oe}),n.jsxs("div",{className:"flex items-center gap-2",children:[he&&n.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full bg-green-500"}),n.jsx("span",{className:`break-all font-semibold text-base ${Fe?"text-red-500":c.modalText}`,children:I})]})]})}case"homey_large_capability":{const xe=r==null?void 0:r.value,Ee=r==null?void 0:r.units,Ae=s.customName,oe=C.capabilityTitle==="Frggmttnad"?"Frgmttnad":C.capabilityTitle;if(["light_hue","light_saturation","light_temperature"].includes(s.capabilityId)&&typeof xe=="number"){let Tt="transparent";return s.capabilityId==="light_hue"?Tt=`hsl(${xe*360}, 100%, 50%)`:s.capabilityId==="light_saturation"?Tt=`hsl(${(((W=(Q=(_=j[s.deviceId])==null?void 0:_.capabilitiesObj)==null?void 0:Q.light_hue)==null?void 0:W.value)??0)*360}, ${xe*100}%, 50%)`:s.capabilityId==="light_temperature"&&(Tt=xh(xe)),n.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full px-1",children:[n.jsx("div",{className:"text-sm text-slate-400 truncate max-w-full mb-2",children:Ae||oe}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white/20",style:{backgroundColor:Tt}})})]})}if(gh.has(s.capabilityId)&&xe===!0)return n.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full px-1 text-red-500",children:[n.jsx("div",{className:"text-sm text-slate-400 truncate max-w-full mb-1",children:Ae||oe}),n.jsx(jl,{className:"w-8 h-8"}),n.jsx("span",{className:"font-bold mt-1 text-base",children:((ae=Fc[s.capabilityId])==null?void 0:ae.true)||"Alert!"})]});const he=!!xe,Fe=s.isInverted??!1,Ie=typeof xe=="boolean"&&(Fe?!he:he)===!0,it=Ie?"text-red-500":"",zt=typeof xe=="boolean"&&!Ie;return n.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full px-1",children:[n.jsx("div",{className:"text-sm text-slate-400 truncate max-w-full mb-1",children:Ae||oe}),n.jsxs("div",{className:"flex items-baseline justify-center",children:[zt&&n.jsx("span",{className:"inline-block w-2.5 h-2.5 mr-2 rounded-full bg-green-500 self-center"}),n.jsx("span",{className:`text-3xl font-bold font-mono tracking-tighter leading-none ${it}`,children:G(xe)}),typeof xe=="number"&&Ee&&n.jsx("span",{className:"text-2xl font-mono tracking-tighter leading-none text-slate-400 ml-1",children:Ee})]})]})}case"homey_slider":{const xe=s.customName;let Ee=C.capabilityTitle||"...";Ee==="Frggmttnad"&&(Ee="Frgmttnad");const oe=s.capabilityId==="dim"?(me=(te=j[s.deviceId])==null?void 0:te.capabilitiesObj)==null?void 0:me.onoff:void 0,I=(oe==null?void 0:oe.value)??!0,he=["light_hue","light_saturation","light_temperature"].includes(s.capabilityId);let Fe="";if(he)switch(s.capabilityId){case"light_hue":Fe="linear-gradient(to right, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00)";break;case"light_saturation":{const Xe=(((ye=(p=(le=j[s.deviceId])==null?void 0:le.capabilitiesObj)==null?void 0:p.light_hue)==null?void 0:ye.value)??0)*360;Fe=`linear-gradient(to right, hsl(${Xe}, 0%, 50%), hsl(${Xe}, 100%, 50%))`;break}case"light_temperature":Fe="linear-gradient(to right, rgb(166, 209, 255), rgb(255, 255, 255), rgb(255, 160, 0))";break}return n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"break-all font-semibold text-base",children:xe||Ee}),!A&&n.jsx("div",{className:"break-all text-xs text-slate-400",children:C.name})]}),oe&&n.jsx("div",{className:"ml-2 flex-shrink-0",children:n.jsx("button",{onClick:()=>ee(s.deviceId,"onoff",!!oe.value),disabled:i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${oe.value?"bg-green-500":"bg-slate-600"} ${i?"opacity-50 cursor-not-allowed":""}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${oe.value?"translate-x-6":"translate-x-1"}`})})})]}),n.jsx("div",{className:"flex items-center gap-1",children:he?n.jsxs("div",{className:"relative w-full h-5",children:[n.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-full h-2 rounded-lg",style:{background:Fe}}),n.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:Se,onChange:be,disabled:i||!I,className:`relative w-full h-full appearance-none bg-transparent cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none 
                                                    [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:shadow-md
                                                    [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:shadow-md
                                                    `})]}):n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:Se,onChange:be,disabled:i||!I,className:`flex-grow min-w-0 h-2 rounded-lg appearance-none cursor-pointer accent-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed ${I?"bg-slate-600":"bg-slate-700"}`}),n.jsxs("span",{className:"font-bold font-mono text-base w-11 text-right flex-shrink-0",children:[Math.round(Se*100),"%"]})]})})]})}case"homey_capability":{const xe=r==null?void 0:r.value,Ee=s.customName,Ae=C.capabilityTitle==="Frggmttnad"?"Frgmttnad":C.capabilityTitle;if(gh.has(s.capabilityId)&&xe===!0)return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex-1 min-w-0",children:A?n.jsx("div",{className:"break-all text-base font-semibold",children:Ee||C.name}):Ee?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"break-all font-semibold text-base",children:Ee}),n.jsxs("div",{className:"break-all text-xs text-slate-400",children:[C.name," - ",Ae]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"break-all text-sm text-slate-400",children:C.name}),n.jsx("div",{className:`break-all font-semibold text-base ${c.modalText}`,children:Ae})]})}),n.jsxs("div",{className:"flex-shrink-0 ml-2 flex items-center gap-2 font-bold text-red-400",children:[n.jsx(jl,{className:"w-5 h-5"}),n.jsx("span",{children:((fe=Fc[s.capabilityId])==null?void 0:fe.true)||"Alert!"})]})]});if(["light_hue","light_saturation","light_temperature"].includes(s.capabilityId)&&typeof xe=="number"){let it="transparent";return s.capabilityId==="light_hue"?it=`hsl(${xe*360}, 100%, 50%)`:s.capabilityId==="light_saturation"?it=`hsl(${(((De=(de=(ge=j[s.deviceId])==null?void 0:ge.capabilitiesObj)==null?void 0:de.light_hue)==null?void 0:De.value)??0)*360}, ${xe*100}%, 50%)`:s.capabilityId==="light_temperature"&&(it=xh(xe)),n.jsxs("div",{className:`flex justify-between ${A?"items-center":"items-end"}`,children:[n.jsx("div",{className:"flex-1 min-w-0",children:A?n.jsx("div",{className:"break-all text-base font-semibold",children:Ee||Ae}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"break-all text-sm text-slate-400",children:Ee||C.name}),n.jsx("div",{className:`break-all font-semibold text-base ${c.modalText}`,children:Ae})]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"w-5 h-5 rounded-full border border-white/20",style:{backgroundColor:it}})})]})}const I=!!xe,he=s.isInverted??!1,Xe=typeof xe=="boolean"&&(he?!I:I)===!0,Ie=typeof xe=="boolean"&&!Xe;return n.jsxs("div",{className:`flex justify-between ${A?"items-center":"items-end"}`,children:[n.jsx("div",{className:"flex-1 min-w-0",children:A?n.jsx("div",{className:"break-all text-base font-semibold",children:Ee||(s.capabilityId==="onoff"?C.name:Ae||"...")}):Ee?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"break-all font-semibold text-base",children:Ee}),n.jsxs("div",{className:"break-all text-xs text-slate-400",children:[C.name," - ",Ae]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"break-all text-sm text-slate-400",children:C.name}),n.jsx("div",{className:`break-all font-semibold text-base ${c.modalText}`,children:Ae})]})}),n.jsx("div",{className:"flex-shrink-0 ml-2",children:s.capabilityId==="onoff"?n.jsx("button",{onClick:()=>ee(s.deviceId,s.capabilityId,!!xe),disabled:i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${xe?"bg-green-500":"bg-slate-600"} ${i?"opacity-50 cursor-not-allowed":""}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${xe?"translate-x-6":"translate-x-1"}`})}):n.jsxs("div",{className:"flex items-center",children:[Ie&&n.jsx("span",{className:"inline-block w-2.5 h-2.5 mr-2 rounded-full bg-green-500"}),n.jsx("span",{className:`font-bold font-mono text-base ${Xe?"text-red-500":""}`,children:G(xe,r==null?void 0:r.units)})]})})]})}case"homey_flow":const Ue=s.customName;return n.jsxs("button",{onClick:()=>D(s.flowId),disabled:i,title:C.name,className:`w-full flex items-center gap-2 p-2 rounded-lg font-semibold text-sm transition-all duration-200 ${T===s.flowId?"bg-green-500 text-white scale-95 shadow-inner":`${c.buttonSecondary} hover:brightness-110`} ${i?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx(Bi,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:Ue||C.name})]});case"button_holder":const Be=s;if(i){const xe=Be.buttons.find(Ae=>Ae.id===se),Ee=Be.buttons.findIndex(Ae=>Ae.id===se);return n.jsxs("div",{className:"flex flex-col gap-4",onClick:Ae=>{Ae.target===Ae.currentTarget&&we(null)},children:[n.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[Be.buttons.map(Ae=>{const oe=Ae.flowId===ph,I=se===Ae.id;return n.jsx("div",{className:"relative cursor-pointer",title:oe?"Spacer":Ae.flowName,onClick:he=>{he.stopPropagation(),we(I?null:Ae.id)},children:n.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-full font-bold transition-all ${Array.from(Ae.symbol).length===1?"text-xl":"text-sm"} border border-solid ${c.ring.replace("ring-","border-")} border-opacity-50 hover:border-opacity-100 ${oe?`${c.textMuted}`:`${c.groupBg} hover:brightness-125`} ${I?`ring-2 ring-offset-2 ${c.ring} ring-offset-transparent`:""}`,children:Ae.symbol})},Ae.id)}),n.jsx("button",{onClick:()=>x("addFlowButton",{holderId:Be.id,groupId:f,columnId:m}),className:`w-12 h-12 flex items-center justify-center rounded-full border-2 border-dashed ${c.ring.replace("ring-","border-")} border-opacity-50 ${c.iconMuted} ${c.buttonIconHoverText} hover:border-opacity-100 transition-colors`,children:n.jsx(Ta,{className:"w-5 h-5"})})]}),xe&&n.jsxs("div",{className:`mt-2 p-2 rounded-lg border ${c.dashedBorder} ${c.inputBg} flex flex-col items-center gap-2 animate-fade-in-up shadow-lg`,children:[n.jsxs("div",{className:"flex justify-center gap-2 w-full",children:[n.jsx("button",{onClick:()=>x("moveFlowButton",{direction:"left",button:xe,holderId:Be.id,groupId:f,columnId:m}),className:`flex-1 p-2 rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed ${c.buttonSecondary}`,disabled:Ee===0,title:"Move Left",children:n.jsx(uu,{className:"w-5 h-5 mx-auto"})}),n.jsx("button",{onClick:()=>x("moveFlowButton",{direction:"right",button:xe,holderId:Be.id,groupId:f,columnId:m}),className:`flex-1 p-2 rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed ${c.buttonSecondary}`,disabled:Ee===Be.buttons.length-1,title:"Move Right",children:n.jsx(Wh,{className:"w-5 h-5 mx-auto"})})]}),n.jsxs("div",{className:"flex justify-center gap-2 w-full",children:[n.jsx("button",{onClick:()=>x("editFlowButton",{button:xe,holderId:Be.id,groupId:f,columnId:m}),className:`flex-1 p-2 rounded-md transition-colors ${c.buttonSecondary}`,title:"Edit",children:n.jsx(lr,{className:"w-5 h-5 mx-auto"})}),n.jsx("button",{onClick:()=>x("deleteFlowButton",{button:xe,holderId:Be.id,groupId:f,columnId:m}),className:`flex-1 p-2 rounded-md transition-colors ${c.buttonDanger}`,title:"Delete",children:n.jsx(mn,{className:"w-5 h-5 mx-auto"})})]}),n.jsx("div",{className:`w-full border-t ${c.dashedBorder} my-1 opacity-50`}),n.jsxs("button",{onClick:()=>we(null),className:`w-full flex items-center justify-center gap-2 py-1.5 rounded-md font-semibold text-sm ${c.buttonPrimary}`,title:"Done",children:[n.jsx(el,{className:"w-4 h-4"})," Done"]})]})]})}return n.jsx("div",{className:"flex flex-wrap justify-center items-center gap-2",children:Be.buttons.map(xe=>{if(xe.flowId===ph)return xe.symbol?n.jsx("div",{title:"Spacer",className:`w-12 h-12 flex items-center justify-center rounded-full font-bold text-slate-500 ${Array.from(xe.symbol).length===1?"text-xl":"text-sm"}`,children:xe.symbol},xe.id):n.jsx("div",{className:"w-12 h-12 flex-shrink-0"},xe.id);const Ae=T===xe.flowId;return n.jsx("button",{onClick:()=>D(xe.flowId),title:xe.flowName,className:`w-12 h-12 flex items-center justify-center rounded-full font-bold transition-all duration-200 ${Array.from(xe.symbol).length===1?"text-xl":"text-sm"} ${Ae?"bg-green-500 text-white scale-95 shadow-inner":c.buttonSecondary}`,children:xe.symbol},xe.id)})});default:return null}};if(!i){if(s.type==="separator"||s.type==="text"){const me=J&&(s.type==="text"||s.type==="separator");return s.type==="text"?n.jsx("div",{className:me?"pb-1":"pt-3 pb-1",children:n.jsx("h4",{className:`font-bold text-xs uppercase tracking-wider ${Te}`,children:s.content})}):n.jsx("div",{className:me?"pb-3":"py-3",children:n.jsx("hr",{className:`${c.dashedBorder}`})})}const _=s.type==="button_holder",Q=_?"bg-transparent":c.inputBg;let W=_?"":"p-2",ae="",te="";return s.type==="homey_large_capability"&&(W="p-0",ae="min-h-[5.5rem]",te="flex items-center justify-center"),n.jsx("div",{className:`rounded-lg ${Q} ${W} ${ae} ${te}`,children:H()})}const b=s.type==="button_holder"?"px-1":"px-2",O=s.type==="homey_large_capability"?"min-h-[5.5rem]":"min-h-[4rem]",$=s.type==="homey_large_capability"||s.type==="button_holder"?"flex items-center justify-center":"";return n.jsxs("div",{ref:Z,id:`item-${s.id}`,"data-droppable":"item","data-column-id":m,"data-group-id":f,"data-item-id":s.id,onContextMenu:_=>{i&&_.preventDefault()},style:{touchAction:"none",userSelect:"none"},className:`relative rounded-md transition-all ${ce?"opacity-30":""} ${Ce?`ring-2 ${c.ring}`:""}`,children:[n.jsx("div",{className:"absolute top-1 left-1 z-10 p-1.5 cursor-grab",onMouseDown:_=>{_.target.closest("button")||y(_,{type:"groupItem",item:s,sourceGroupId:f,sourceColumnId:m},Z.current)},onTouchStart:_=>{_.target.closest("button")||y(_,{type:"groupItem",item:s,sourceGroupId:f,sourceColumnId:m},Z.current)},children:n.jsx(cs,{className:"w-5 h-5 text-slate-400"})}),n.jsx("div",{className:"absolute top-1.5 left-1/2 -translate-x-1/2 z-10 px-2 h-4 flex items-center justify-center bg-black/30 rounded-full pointer-events-none",children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("span",{className:`font-bold tracking-wider uppercase ${s.type==="text"?Te:"text-slate-300"}`,style:{fontSize:"9px",lineHeight:"1"},children:U(s)})})}),n.jsxs("div",{className:"absolute top-1 right-1 z-10 flex items-center gap-1",children:[(s.type==="text"||s.type==="homey_capability"||s.type==="homey_large_capability"||s.type==="homey_flow"||s.type==="homey_variable"||s.type==="homey_slider")&&n.jsx("button",{onClick:()=>{s.type==="text"?x("addOrEditTextItem",{item:s,groupId:f,columnId:m}):s.type==="homey_variable"?x("editHomeyVariableSettings",{item:s,staticData:C,groupId:f,columnId:m}):x("editHomeyCustomItemName",{item:s,staticData:C,groupId:f,columnId:m})},className:`p-1.5 ${c.iconMuted} hover:text-white rounded-full bg-black/40 hover:bg-slate-600`,children:n.jsx(lr,{className:"w-4 h-4"})}),s.type!=="button_holder"&&n.jsx("button",{onClick:()=>x("deleteItem",{item:s,groupId:f,columnId:m}),className:`p-1.5 ${c.iconMuted} hover:text-red-400 rounded-full bg-black/40 hover:bg-slate-600`,children:n.jsx(mn,{className:"w-4 h-4"})}),s.type==="button_holder"&&n.jsx("button",{onClick:()=>x("deleteItem",{item:s,groupId:f,columnId:m}),className:`p-1.5 ${c.iconMuted} hover:text-red-400 rounded-full bg-black/40 hover:bg-slate-600`,children:n.jsx(mn,{className:"w-4 h-4"})})]}),n.jsx("div",{className:`w-full rounded ${c.inputBg} pt-8 pb-2 ${b} ${O} ${$}`,children:H()})]})},Ax=({group:s,columnId:r,themeClasses:c,homeyGlobalSettings:i,isEditMode:f,openModal:m,onPointerDown:h,draggedItem:y,dropTarget:w,homeyDevices:x,homeyVariables:N,onToggle:j,onTriggerFlow:S,onOptimisticUpdate:A,onHomeySetValue:V})=>{var B;const J=v.useMemo(()=>{const C={};return!x||Object.keys(x).length===0||s.items.forEach(L=>{if(L.type==="homey_capability"||L.type==="homey_large_capability"||L.type==="homey_slider"){const se=x[L.deviceId];if(se&&se.capabilitiesObj[L.capabilityId]){const we=se.capabilitiesObj[L.capabilityId];C[`${L.deviceId}-${L.capabilityId}`]={value:we.value,units:we.units}}}}),C},[s.items,x]),{showOneRow:ee,flowsInTwoColumns:P,largeCapabilityInTwoColumns:M}=((B=s.widgetSettings)==null?void 0:B.homeyCustomSettings)||{},Z=v.useMemo(()=>{if(!P&&!M||f)return s.items;const C=[];for(let L=0;L<s.items.length;L++){const se=s.items[L],we=P&&se.type==="homey_flow",Se=M&&se.type==="homey_large_capability";if(we||Se){const z=s.items[L+1];z&&z.type===se.type?(C.push([se,z]),L++):C.push([se])}else C.push(se)}return C},[s.items,P,M,f]),T=(C,L)=>n.jsx(Ex,{item:C,isFirstItem:L===0,liveData:J[`${C.deviceId}-${C.capabilityId}`],themeClasses:c,isEditMode:f,groupId:s.id,columnId:r,draggedItem:y,onPointerDown:h,dropTarget:w,openModal:m,homeyGlobalSettings:i,homeyDevices:x,homeyVariables:N,showOneRow:ee,onOptimisticUpdate:A,onToggle:j,onTriggerFlow:S,onHomeySetValue:V},C.id);return n.jsxs("div",{className:"space-y-2",children:[(!(i!=null&&i.localIp)||!(i!=null&&i.apiToken))&&n.jsx("div",{className:"text-sm text-center py-2 text-red-400",children:"-- Please configure your Homey's IP Address and API Token in the global Settings  Homey tab --"}),(P||M)&&!f?Z.map((C,L)=>Array.isArray(C)?n.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.map(se=>T(se,L))},C[0].id):T(C,L)):s.items.map((C,L)=>T(C,L)),f&&n.jsxs("button",{onClick:()=>m("addHomeyCustomItem",{groupId:s.id,columnId:r}),className:`w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed rounded-lg transition-colors ${c.dashedBorder} ${c.textSubtle} hover:border-slate-500 hover:text-slate-300 mt-2`,children:[n.jsx(Ta,{className:"w-5 h-5"})," Add Item"]}),!f&&s.items.length===0&&(!(i!=null&&i.localIp)||!(i!=null&&i.apiToken)?null:n.jsx("div",{className:"text-center py-4 text-slate-500 text-sm",children:"This widget is empty. Click 'Edit' to add items."}))]})},$x=({themeClasses:s,homeyGlobalSettings:r,connectionState:c,lastUpdate:i,countdown:f,log:m})=>{const[h,y]=v.useState(!1),[w,x]=v.useState(!1),{localIp:N,pollingInterval:j=10}=r||{},S=()=>{navigator.clipboard.writeText(m.join(`
`)).then(()=>{x(!0),setTimeout(()=>x(!1),2e3)})},A=()=>{switch(c){case"websocket":return n.jsxs("div",{className:"flex items-center gap-2 font-bold text-green-400",children:[n.jsx(rr,{className:"w-4 h-4"}),n.jsx("span",{children:"REAL-TIME (WEBSOCKET)"})]});case"polling":return n.jsxs("div",{className:"flex items-center gap-2 font-bold text-yellow-400",children:[n.jsx(ka,{className:"w-4 h-4"}),n.jsx("span",{children:"PERIODIC (POLLING)"})]});case"disconnected":return n.jsxs("div",{className:"flex items-center gap-2 font-bold text-red-400",children:[n.jsx(jl,{className:"w-4 h-4"}),n.jsx("span",{children:"DISCONNECTED"})]});default:return n.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-400",children:[n.jsx(ka,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"CONNECTING..."})]})}};return n.jsxs("div",{className:`p-3 text-sm space-y-3 ${s.modalText}`,children:[n.jsx("div",{className:"text-center text-xs uppercase tracking-wider",children:n.jsx(A,{})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[n.jsxs("div",{className:`p-2 rounded ${s.inputBg}`,children:[n.jsx("div",{className:`text-xs uppercase ${s.textSubtle}`,children:"Next Update"}),n.jsx("div",{className:"font-mono font-bold text-lg",children:c==="polling"?`${f}s`:"Live"})]}),n.jsxs("div",{className:`p-2 rounded ${s.inputBg}`,children:[n.jsx("div",{className:`text-xs uppercase ${s.textSubtle}`,children:"Last Success"}),n.jsx("div",{className:"font-mono font-bold text-lg",children:i?i.toLocaleTimeString():"--:--:--"})]})]}),n.jsxs("div",{className:`p-2 rounded ${s.inputBg} text-xs`,children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:s.textSubtle,children:"Polling Interval:"}),n.jsxs("span",{className:"font-mono",children:[j,"s"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:s.textSubtle,children:"Target IP:"}),n.jsx("span",{className:"font-mono break-all",children:N||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("button",{onClick:()=>y(!h),className:`w-full text-xs text-center p-1 rounded ${s.buttonSecondary}`,children:h?"Hide Log":"Show Log"}),h&&n.jsxs("div",{className:`mt-2 p-2 rounded border ${s.dashedBorder} bg-black/30 max-h-40 overflow-y-auto`,children:[n.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap break-all",children:m.join(`
`)}),n.jsx("button",{onClick:S,className:`w-full flex items-center justify-center gap-2 text-xs mt-2 p-1 rounded ${s.buttonSecondary}`,children:w?n.jsxs(n.Fragment,{children:[n.jsx(el,{className:"w-3 h-3 text-green-400"})," Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(su,{className:"w-3 h-3"})," Copy Log"]})})]})]})]})},du=({isOpen:s,onClose:r,title:c,children:i,themeClasses:f,hideOverlay:m=!1})=>(v.useEffect(()=>{const h=y=>{y.key==="Escape"&&r()};return window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}},[r]),s?n.jsx("div",{className:`fixed inset-0 z-50 flex justify-center items-center p-4 ${m?"":"bg-black bg-opacity-70"}`,onMouseDown:h=>h.stopPropagation(),onTouchStart:h=>h.stopPropagation(),onClick:h=>h.stopPropagation(),children:n.jsxs("div",{className:`${f.modalBg} rounded-lg shadow-xl w-full max-w-xl p-6`,onMouseDown:h=>h.stopPropagation(),onTouchStart:h=>h.stopPropagation(),onClick:h=>h.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:`text-xl font-bold ${f.modalText}`,children:c}),n.jsx("button",{onClick:r,className:`p-1 rounded-full transition-colors ${f.iconMuted} ${f.buttonIconHoverText} ${f.buttonIconHoverBg}`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{children:i})]})}):null),rs=s=>{var h;const c=new Intl.DateTimeFormat("sv-SE",{timeZone:"Europe/Stockholm",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(s),i=y=>{var w;return((w=c.find(x=>x.type===y))==null?void 0:w.value)||""},m=((h=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Stockholm",hour:"2-digit",hour12:!1}).formatToParts(s).find(y=>y.type==="hour"))==null?void 0:h.value)||"00";return{year:i("year"),month:i("month"),day:i("day"),hour:m}},Mx=({settings:s,themeClasses:r,isEditMode:c=!1})=>{const{area:i="SE3",showHourly:f=!0,showDayAvg:m,showMonthAvg:h,showToday:y,showYesterday:w,showTomorrow:x,showThisMonth:N,showLastMonth:j}=s||{},S=m===void 0?y??!0:m,A=h===void 0?N??j??!0:h,[V,J]=v.useState([]),[ee,P]=v.useState(null),[M,Z]=v.useState(null),[T,B]=v.useState(null),[C,L]=v.useState(null),[se,we]=v.useState(null),[Se,z]=v.useState(!0),[ue,ce]=v.useState(null),[Ce,Te]=v.useState(null),[D,U]=v.useState(null),G=v.useRef(null),[be,H]=v.useState(!1),b=v.useCallback(async()=>{z(!0),ce(null);let _;try{const te=await fetch("https://worldtimeapi.org/api/ip");if(!te.ok)throw new Error("World Time API failed");const me=await te.json();_=new Date(me.utc_datetime)}catch{_=new Date,console.warn("Could not get real date, using system time. Prices may be incorrect if system clock is wrong.")}const Q=rs(_),W=parseInt(Q.hour,10),ae=`${Q.year}/${Q.month}-${Q.day}`;try{let te=null;if(f||S)if(W>=13){const me=new Date(_);me.setDate(_.getDate()+1);const le=rs(me),p=`${le.year}/${le.month}-${le.day}`;try{const ye=await fetch(`https://www.elprisetjustnu.se/api/v1/prices/${p}_${i}.json`);if(ye.ok)if(te=await ye.json(),S&&te&&te.length>0){const fe=te.reduce((ge,de)=>ge+de.SEK_per_kWh,0)/te.length;L(fe)}else L(null);else L(null)}catch{L(null)}}else L(null);if(f){let me=te||[],le=null;if(te){const ge=new Date(_);ge.setDate(_.getDate()+1);const de=rs(ge);le=`${de.year}-${de.month}-${de.day}`}if(me.length===0){const ge=await fetch(`https://www.elprisetjustnu.se/api/v1/prices/${ae}_${i}.json`);if(ge.ok)me=await ge.json(),le=`${Q.year}-${Q.month}-${Q.day}`;else throw ge.status===404?new Error(`Price data for today (${ae}) is not yet available.`):new Error(`Could not fetch today's prices (status: ${ge.status}).`)}const p=new Map;me.forEach(ge=>{const de=ge.time_start.substring(0,13);p.has(de)||p.set(de,[]),p.get(de).push(ge.SEK_per_kWh)});const fe=Array.from(p.keys()).sort().map(ge=>{const de=p.get(ge),De=de.reduce((Ue,Be)=>Ue+Be,0)/de.length;return{hour:parseInt(ge.substring(11,13),10),price:De}});J(fe),U(le)}if(S){const me=`el-today-${ae}-${i}`,le=sessionStorage.getItem(me);if(le)P(JSON.parse(le));else try{const De=await fetch(`https://www.elprisetjustnu.se/api/v1/prices/${ae}_${i}.json`);if(De.ok){const Ue=await De.json();if(Ue&&Ue.length>0){const Be=Ue.reduce((xe,Ee)=>xe+Ee.SEK_per_kWh,0)/Ue.length;P(Be),Ue.length>=24&&sessionStorage.setItem(me,JSON.stringify(Be))}else P(null)}else P(null)}catch{P(null)}const p=new Date(_);p.setDate(_.getDate()-1);const ye=rs(p),fe=`${ye.year}/${ye.month}-${ye.day}`,ge=`el-yesterday-${fe}-${i}`,de=sessionStorage.getItem(ge);if(de)Z(JSON.parse(de));else{const De=await fetch(`https://www.elprisetjustnu.se/api/v1/prices/${fe}_${i}.json`);if(De.ok){const Ue=await De.json();if(Ue&&Ue.length>0){const Be=Ue.reduce((xe,Ee)=>xe+Ee.SEK_per_kWh,0)/Ue.length;Z(Be),sessionStorage.setItem(ge,JSON.stringify(Be))}else Z(null)}else Z(null)}}if(A){const me=parseInt(Q.day,10),le=`el-thismonth-${Q.year}-${Q.month}-${Q.day}-${i}`,p=sessionStorage.getItem(le);if(p)we(JSON.parse(p));else{const Ue=Array.from({length:me},(Ee,Ae)=>{const oe=String(Ae+1).padStart(2,"0"),I=`${Q.year}/${Q.month}-${oe}`;return fetch(`https://www.elprisetjustnu.se/api/v1/prices/${I}_${i}.json`)}),Be=await Promise.all(Ue);let xe=[];for(const Ee of Be)if(Ee.ok)try{const Ae=await Ee.json();xe.push(...Ae.map(oe=>oe.SEK_per_kWh))}catch{}if(xe.length>0){const Ee=xe.reduce((Ae,oe)=>Ae+oe,0)/xe.length;we(Ee),xe.length>=me*24&&sessionStorage.setItem(le,JSON.stringify(Ee))}else we(null)}const ye=new Date(_);ye.setMonth(ye.getMonth(),0);const fe=ye.getFullYear(),ge=ye.getMonth()+1,de=`el-lastmonth-${fe}-${ge}-${i}`,De=sessionStorage.getItem(de);if(De)B(JSON.parse(De));else{const Ue=ye.getDate(),Be=Array.from({length:Ue},(Ae,oe)=>{const I=String(oe+1).padStart(2,"0"),he=String(ge).padStart(2,"0"),Fe=`${fe}/${he}-${I}`;return fetch(`https://www.elprisetjustnu.se/api/v1/prices/${Fe}_${i}.json`)}),xe=await Promise.all(Be);let Ee=[];for(const Ae of xe)if(Ae.ok)try{const oe=await Ae.json();Ee.push(...oe.map(I=>I.SEK_per_kWh))}catch{}if(Ee.length>0){const Ae=Ee.reduce((oe,I)=>oe+I,0)/Ee.length;B(Ae),sessionStorage.setItem(de,JSON.stringify(Ae))}else B(null)}}}catch(te){const me=te instanceof Error?te.message:"An unknown error occurred";ce(me)}finally{Te(new Date),z(!1)}},[i,f,S,A]);v.useEffect(()=>{const _=async()=>{await b();const Q=new Date,W=new Date;W.setDate(Q.getDate()+1),W.setHours(0,1,0,0);const ae=W.getTime()-Q.getTime(),te=new Date;te.setHours(13,30,0,0),Q.getTime()>te.getTime()&&te.setDate(Q.getDate()+1);const me=te.getTime()-Q.getTime(),le=1800*1e3,p=Math.min(ae,me,le);G.current=window.setTimeout(_,p)};return _(),()=>{G.current&&clearTimeout(G.current)}},[b]);const O=v.useMemo(()=>{if(ee===null||M===null||M===0)return null;const Q=(ee-M)/M;return Q>.05?n.jsx(Gg,{className:"w-5 h-5 text-red-400"}):Q<-.05?n.jsx(Zg,{className:"w-5 h-5 text-green-400"}):n.jsx(Qg,{className:"w-5 h-5 text-yellow-400"})},[ee,M]),$=v.useMemo(()=>{if(!f||V.length===0)return null;const _=parseInt(rs(new Date).hour,10),Q=V.slice(0,24),W=Math.min(...Q.map(fe=>fe.price)),te=Math.max(...Q.map(fe=>fe.price))-W,me=fe=>{if(te<=0)return"bg-yellow-500";const ge=(fe-W)/te;return ge<.25?"bg-green-500":ge>.75?"bg-red-500":"bg-yellow-500"},le=({hour:fe,price:ge})=>{const de=D===rs(new Date).day&&fe===_,De=te>0?(ge-W)/te*100:50;return n.jsxs("div",{className:`grid grid-cols-[auto_1fr_auto] items-center gap-2 text-xs p-0.5 rounded ${de?`${r.inputBg}`:""}`,children:[n.jsx("span",{className:`font-mono ${de?r.ring.replace("ring-","text-"):"text-slate-400"}`,children:String(fe).padStart(2,"0")}),n.jsx("div",{className:`w-full rounded-full h-2 ${r.inputBg}`,children:n.jsx("div",{className:`${me(ge)} h-2 rounded-full`,style:{width:`${De}%`}})}),n.jsx("span",{className:`font-mono font-bold w-12 text-right ${de?"text-white":""}`,children:(ge*100).toFixed(1)})]})},p=Q.filter(fe=>fe.hour<12).sort((fe,ge)=>fe.hour-ge.hour),ye=Q.filter(fe=>fe.hour>=12).sort((fe,ge)=>fe.hour-ge.hour);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-baseline flex-wrap mb-2",children:[n.jsx("h4",{className:"text-xs uppercase tracking-wider font-bold text-slate-400",children:"Avg. Hourly Prices (re/kWh)"}),D&&n.jsxs("span",{className:"text-xs text-slate-400",children:["Valid for: ",D]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-x-3",children:[n.jsx("div",{className:"space-y-0.5",children:p.map(fe=>n.jsx(le,{...fe},fe.hour))}),n.jsx("div",{className:"space-y-0.5",children:ye.map(fe=>n.jsx(le,{...fe},fe.hour))})]})]})},[V,f,r,D]);return Se&&V.length===0&&ee===null?n.jsx("div",{className:`text-sm text-center py-4 ${r.textSubtle}`,children:"Loading electricity prices..."}):ue&&V.length===0&&ee===null?n.jsx("div",{className:"text-sm text-center py-4 text-red-400",children:ue}):n.jsxs("div",{className:"p-1",children:[be&&n.jsx(du,{isOpen:be,onClose:()=>H(!1),title:"Information om spotpris",themeClasses:r,children:n.jsxs("div",{className:`text-sm ${r.modalMutedText} space-y-4`,children:[n.jsx("p",{children:"Detta r elbrsens spotpris. Priset fr konsument r dock hgre eftersom det ocks omfattar kostnad fr elcertifikat, pslag, energiskatt och moms p 25 procent."}),n.jsxs("div",{children:[n.jsx("h4",{className:`font-bold ${r.modalText} mb-2`,children:"Berkningsexempel:"}),n.jsxs("div",{className:`p-3 rounded-md ${r.inputBg} space-y-1 font-mono text-xs`,children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Spotpris El"}),n.jsx("span",{children:"80 re"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Energiskatt"}),n.jsx("span",{children:"36 re"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Pslag, elcrt."}),n.jsx("span",{children:"15 re"})]}),n.jsxs("div",{className:"flex justify-between border-t border-slate-600 pt-1 mt-1",children:[n.jsx("span",{children:"+ moms 25 %"}),n.jsx("span",{})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:`font-bold ${r.modalText} mb-2`,children:"Grovt skattat elpris (inkl. allt):"}),n.jsxs("div",{className:`p-3 rounded-md ${r.inputBg} space-y-1 font-mono text-xs`,children:[n.jsxs("div",{className:"flex justify-between font-semibold text-slate-400 mb-1",children:[n.jsx("span",{children:"Spotpris"}),n.jsx("span",{children:"Kundpris"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"60 re"}),n.jsx("span",{children:"~139 re"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"80 re"}),n.jsx("span",{children:"~164 re"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"100 re"}),n.jsx("span",{children:"~189 re"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"120 re"}),n.jsx("span",{children:"~214 re"})]})]})]})]})}),n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"text-sm font-bold",children:i}),n.jsx("button",{onClick:()=>H(!0),className:`text-xs font-semibold py-0.5 px-2.5 rounded-md ${r.buttonSecondary} opacity-70 hover:opacity-100 transition-opacity`,title:"Mer information om elpriser",children:"Info"})]}),n.jsx("div",{className:"text-xs text-slate-500",children:Ce&&`Updated: ${Ce.toLocaleTimeString()}`})]}),ue&&n.jsx("div",{className:"text-sm text-center py-2 text-red-400 mb-2",children:ue}),n.jsxs("div",{className:"space-y-4",children:[S&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase text-slate-400 text-center font-bold tracking-wider mb-2",children:"Avg. Day Prices"}),n.jsxs("div",{className:`p-2 rounded-lg ${r.inputBg} space-y-4`,children:[ee!==null?n.jsxs("div",{className:`text-center p-3 rounded-lg ${r.groupBgSecondary} border ${r.ring.replace("ring-","border-")} shadow-lg`,children:[n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"text-sm uppercase text-slate-400 font-bold",children:"Today"}),O]}),n.jsx("div",{className:"text-3xl font-bold font-mono",children:(ee*100).toFixed(1)}),n.jsx("div",{className:"text-xs text-slate-500",children:"re/kWh"})]}):n.jsxs("div",{className:`text-center p-3 rounded-lg ${r.groupBgSecondary} border ${r.ring.replace("ring-","border-")} shadow-lg`,children:[n.jsx("div",{className:"text-sm uppercase text-slate-400 font-bold",children:"Today"}),n.jsx("div",{className:"text-3xl font-bold font-mono",children:"-"})]}),n.jsxs("div",{className:"flex justify-around items-start",children:[M!==null?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs uppercase text-slate-500",children:"Yesterday"}),n.jsx("div",{className:"text-xl font-bold font-mono",children:(M*100).toFixed(1)}),n.jsx("div",{className:"text-xs text-slate-500",children:"re/kWh"})]}):n.jsx("div",{}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs uppercase text-slate-500",children:"Tomorrow"}),C!==null?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xl font-bold font-mono",children:(C*100).toFixed(1)}),n.jsx("div",{className:"text-xs text-slate-500",children:"re/kWh"})]}):n.jsx("div",{className:"text-sm text-slate-500 pt-2 pb-1",children:"Sets ~13:30"})]})]})]})]}),A&&(se!==null||T!==null)&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase text-slate-400 text-center font-bold tracking-wider mb-2",children:"Avg. Month Prices"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[T!==null&&n.jsxs("div",{className:`p-2 rounded-lg ${r.inputBg}`,children:[n.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Last Month"}),n.jsx("div",{className:"text-xl font-bold font-mono",children:(T*100).toFixed(1)}),n.jsx("div",{className:"text-xs text-slate-500",children:"re/kWh"})]}),se!==null&&n.jsxs("div",{className:`p-2 rounded-lg ${r.inputBg}`,children:[n.jsx("div",{className:"text-xs uppercase text-slate-400",children:"This Month"}),n.jsxs("div",{className:"text-xl font-bold font-mono",children:["(",(se*100).toFixed(1),")"]}),n.jsx("div",{className:"text-xs text-slate-500",children:"re/kWh"})]})]})]})]}),f&&V.length>0&&n.jsx("div",{className:"pt-4 mt-4 border-t border-slate-700/50",children:$}),f&&V.length===0&&!Se&&!ue&&n.jsx("div",{className:`text-sm text-center py-4 ${r.textSubtle}`,children:"No hourly data available yet."}),n.jsx("div",{className:"text-center text-xs text-slate-600 mt-4",children:n.jsxs("p",{children:["Prices from ",n.jsx("a",{href:"https://www.elprisetjustnu.se",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-slate-400",children:"Elpriset just nu.se"})]})})]})},Dx={currentValue:"0",previousValue:null,operator:null,isNewEntry:!0},Ox=({group:s,allColumns:r,columnId:c,isEditMode:i,onPointerDown:f,draggedItem:m,dropTarget:h,openModal:y,openLinkGroupPopup:w,onToggleGroupCollapsed:x,themeClasses:N,openLinksInNewTab:j,todos:S,setTodos:A,onCalculatorStateChange:V,onScratchpadChange:J,showGroupToggles:ee,homeyGlobalSettings:P,onRequestDeleteTodo:M,homeyDevices:Z,homeyZones:T,homeyFlows:B,homeyVariables:C,homeyConnectionState:L,homeyLastUpdate:se,homeyCountdown:we,homeyLog:Se,onHomeyToggle:z,onHomeyTriggerFlow:ue,onHomeyOptimisticUpdate:ce,onHomeySetValue:Ce,onRemoveFavorite:Te})=>{var zt,Tt,an,dt,jt,Kt,St,ta,hn,Vt,Nn,Sn,kn,qt,Tn,ln,Wt,_e,st,pt,Pt,$t,_n,na,Yt,Gt,ot,Mt,Dt,bt,Ut,Ln,_a,Nl,Sl,tl,Zn,Ba,zn,Un,Qn,pn,kt,nl,al,Bn,In,aa,Ea,K,ve,je,pe,ke,Ne,He;const D=or.useRef(null),U=(h==null?void 0:h.groupId)===s.id&&!h.itemId,G=i&&(m==null?void 0:m.type)==="group"&&m.group.id===s.id,be=s.type||"links",H=s.widgetType,b=be==="widget",O=!b&&((zt=s.widgetSettings)==null?void 0:zt.displayAsPopup),$=(s.isCollapsed||O)&&!i,_=!!((Tt=s.widgetSettings)!=null&&Tt.compactMode)&&!i,Q=H==="calendar",W=H==="todo",ae=H==="calculator",te=H==="weather",me=H==="clock",le=H==="timer",p=H==="rss",ye=H==="scratchpad",fe=H==="countdown",ge=H==="currency",de=H==="webhook",De=H==="unit_converter",Ue=H==="network",Be=H==="solar",xe=H==="homey",Ee=H==="radio",Ae=H==="favorites",oe=H==="picture",I=H==="iframe",he=H==="homey_custom",Fe=H==="homey_status",Le=H==="electricity",Xe=b&&!["calculator","scratchpad","unit_converter","network","homey_status"].includes(H||""),Ie={default:N.groupBg,secondary:N.groupBgSecondary,tertiary:N.groupBgTertiary,quaternary:N.groupBgQuaternary,quinary:N.groupBgQuinary,green:"bg-[#60B162]",gray:"bg-[#F2F2F2]",black:"bg-[#0a0a0a] text-slate-200",dark_blue:"bg-[#172554] text-blue-100",transparent:"bg-transparent"}[s.colorVariant||"default"]||N.groupBg,it=N.ring.replace("ring-","border-");return n.jsxs("div",{ref:D,"data-droppable":"group","data-column-id":c,"data-group-id":s.id,onContextMenu:$e=>{i&&$e.preventDefault()},className:`rounded-lg p-3 transition-all duration-200 ${Ie} ${G?"opacity-30":"opacity-100"} ${U?`ring-2 ${N.ring}`:""} ${Ae?`border ${it}`:""}`,children:[n.jsxs("div",{className:`flex justify-between items-start group/header ${$?"":"mb-4"} ${i?"":"cursor-pointer"}`,onClick:i?void 0:O?()=>w(s,c):()=>x(c,s.id),children:[n.jsxs("div",{className:"flex items-start gap-2 min-w-0",style:i?{touchAction:"none",userSelect:"none"}:{},onMouseDown:$e=>{$e.target.closest("button")||f($e,{type:"group",group:s,sourceColumnId:c},D.current)},onTouchStart:$e=>{$e.target.closest("button")||f($e,{type:"group",group:s,sourceColumnId:c},D.current)},children:[i&&n.jsx(cs,{className:"w-5 h-5 text-slate-500 flex-shrink-0 cursor-grab mt-1"}),!i&&(O||ee)&&(O?n.jsx(wl,{className:`w-5 h-5 ${N.iconMuted} mt-1`}):n.jsx(cr,{className:`w-5 h-5 ${N.iconMuted} transition-transform duration-200 ${s.isCollapsed?"-rotate-90":"rotate-0"} mt-1`})),n.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[Q&&n.jsx(Lh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),W&&n.jsx(zh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),ae&&n.jsx(Vh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),te&&n.jsx(lu,{className:"w-5 h-5 flex-shrink-0 mt-1"}),me&&n.jsx(Uh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),le&&((an=s.widgetSettings)!=null&&an.isStopwatch?n.jsx(Cg,{className:"w-5 h-5 flex-shrink-0 mt-1"}):n.jsx(Ih,{className:"w-5 h-5 flex-shrink-0 mt-1"})),p&&n.jsx(Fh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),ye&&n.jsx(Jc,{className:"w-5 h-5 flex-shrink-0 mt-1"}),fe&&n.jsx(ru,{className:"w-5 h-5 flex-shrink-0 mt-1"}),ge&&n.jsx(Yh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),de&&n.jsx(rr,{className:"w-5 h-5 flex-shrink-0 mt-1"}),De&&n.jsx(Gh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),Ue&&n.jsx(Zh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),Be&&n.jsx(nr,{className:"w-5 h-5 flex-shrink-0 mt-1"}),xe&&n.jsx(ir,{className:"w-5 h-5 flex-shrink-0 mt-1"}),Ee&&n.jsx(Qh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),Ae&&n.jsx(os,{className:"w-5 h-5 flex-shrink-0 mt-1"}),oe&&n.jsx(iu,{className:"w-5 h-5 flex-shrink-0 mt-1"}),I&&n.jsx(ou,{className:"w-5 h-5 flex-shrink-0 mt-1"}),he&&n.jsx(ir,{className:"w-5 h-5 flex-shrink-0 mt-1"}),Fe&&n.jsx(Jh,{className:"w-5 h-5 flex-shrink-0 mt-1"}),Le&&n.jsx(rr,{className:"w-5 h-5 flex-shrink-0 mt-1"}),n.jsx("h2",{className:`text-lg font-bold ${N.header} break-all`,children:s.name})]})]}),n.jsx("div",{className:"flex items-center flex-shrink-0 ml-2",children:i&&n.jsxs("div",{className:"flex items-center gap-2 transition-opacity",children:[!b&&n.jsx("button",{onClick:()=>y("addLinkOrSeparator",{groupId:s.id,columnId:c}),className:`p-1 rounded-full transition-colors ${N.iconMuted} ${N.buttonIconHoverText} ${N.buttonIconHoverBg}`,children:n.jsx(Ta,{className:"w-5 h-5"})}),(Xe||!b)&&n.jsx("button",{onClick:()=>y("editWidgetSettings",{group:s,columnId:c}),className:`p-1 rounded-full transition-colors ${N.iconMuted} ${N.buttonIconHoverText} ${N.buttonIconHoverBg}`,children:n.jsx(is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>y("deleteGroup",{group:s,columnId:c}),className:`p-1 rounded-full transition-colors ${N.iconMuted} hover:text-red-400 ${N.buttonIconHoverBg}`,children:n.jsx(mn,{className:"w-4 h-4"})})]})})]}),!$&&(Q?n.jsx(tx,{themeClasses:N,holidayCountry:((dt=s.widgetSettings)==null?void 0:dt.holidayCountry)||"SE",isEditMode:i}):W?n.jsx(ax,{todos:S,setTodos:A,themeClasses:N,isEditMode:i,confirmDelete:((jt=s.widgetSettings)==null?void 0:jt.todoConfirmDelete)??!0,onRequestDelete:M}):ae?n.jsx(cx,{themeClasses:N,state:s.calculatorState||Dx,onStateChange:V,isEditMode:i}):te?n.jsx(lx,{city:((Kt=s.widgetSettings)==null?void 0:Kt.city)||"",showForecast:(St=s.widgetSettings)==null?void 0:St.weatherShowForecast,showTime:(ta=s.widgetSettings)==null?void 0:ta.weatherShowTime,timezone:(hn=s.widgetSettings)==null?void 0:hn.weatherTimezone,updateInterval:(Vt=s.widgetSettings)==null?void 0:Vt.weatherUpdateInterval,weatherClickUrl:(Nn=s.widgetSettings)==null?void 0:Nn.weatherClickUrl,openLinksInNewTab:j,isEditMode:i,themeClasses:N}):me?n.jsx(sx,{timezone:((Sn=s.widgetSettings)==null?void 0:Sn.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,showSeconds:(kn=s.widgetSettings)==null?void 0:kn.showSeconds,showDate:(qt=s.widgetSettings)==null?void 0:qt.showDate,themeClasses:N}):le?n.jsx(rx,{id:s.id,initialDuration:((Tn=s.widgetSettings)==null?void 0:Tn.timerDuration)??300,playSound:(ln=s.widgetSettings)==null?void 0:ln.timerPlaySound,allowOvertime:(Wt=s.widgetSettings)==null?void 0:Wt.timerOvertime,themeClasses:N,onOpenSettings:()=>y("editWidgetSettings",{group:s,columnId:c}),isEditMode:i}):p?n.jsx(ix,{rssUrl:((_e=s.widgetSettings)==null?void 0:_e.rssUrl)||"",itemCount:((st=s.widgetSettings)==null?void 0:st.rssItemCount)||5,updateInterval:((pt=s.widgetSettings)==null?void 0:pt.rssUpdateInterval)??60,enableScroll:(Pt=s.widgetSettings)==null?void 0:Pt.rssEnableScroll,themeClasses:N,openLinksInNewTab:j,isEditMode:i}):ye?n.jsx(ux,{content:(($t=s.widgetSettings)==null?void 0:$t.scratchpadContent)||"",onChange:$e=>J(s.id,$e),themeClasses:N,isEditMode:i}):fe?n.jsx(dx,{title:((_n=s.widgetSettings)==null?void 0:_n.countdownTitle)||"",targetDate:((na=s.widgetSettings)==null?void 0:na.countdownDate)||"",behavior:((Yt=s.widgetSettings)==null?void 0:Yt.countdownBehavior)||"discrete",playSound:(Gt=s.widgetSettings)==null?void 0:Gt.countdownPlaySound,themeClasses:N,onOpenSettings:()=>y("editWidgetSettings",{group:s,columnId:c}),onDelete:()=>y("deleteGroup",{group:s,columnId:c})}):ge?n.jsx(fx,{base:((ot=s.widgetSettings)==null?void 0:ot.currencyBase)||"USD",targets:((Mt=s.widgetSettings)==null?void 0:Mt.currencyTargets)||[],themeClasses:N}):de?n.jsx(mx,{items:((Dt=s.widgetSettings)==null?void 0:Dt.webhookItems)||[],themeClasses:N,isEditMode:i}):De?n.jsx(px,{themeClasses:N,isEditMode:i}):Ue?n.jsx(gx,{themeClasses:N}):Be?n.jsx(xx,{city:((bt=s.widgetSettings)==null?void 0:bt.solarCity)||"",themeClasses:N,use24HourFormat:(Ut=s.widgetSettings)==null?void 0:Ut.solarUse24HourFormat,compactMode:(Ln=s.widgetSettings)==null?void 0:Ln.solarCompactMode,solarDynamicPath:(_a=s.widgetSettings)==null?void 0:_a.solarDynamicPath}):xe?n.jsx(vx,{selectedCapabilities:((Sl=(Nl=s.widgetSettings)==null?void 0:Nl.homeySettings)==null?void 0:Sl.selectedCapabilities)||[],selectedFlows:((Zn=(tl=s.widgetSettings)==null?void 0:tl.homeySettings)==null?void 0:Zn.selectedFlows)||[],enableScroll:(zn=(Ba=s.widgetSettings)==null?void 0:Ba.homeySettings)==null?void 0:zn.enableScroll,showOneRow:(Qn=(Un=s.widgetSettings)==null?void 0:Un.homeySettings)==null?void 0:Qn.showOneRow,themeClasses:N,devices:Z,zones:T,flows:B,onToggle:z,onTriggerFlow:ue,onOptimisticUpdate:ce,isEditMode:i,homeyGlobalSettings:P}):Ee?n.jsx(jx,{stations:((pn=s.widgetSettings)==null?void 0:pn.radioStations)||[],themeClasses:N,isEditMode:i,widgetSettings:s.widgetSettings}):Ae?n.jsx(Sx,{group:s,allColumns:r,themeClasses:N,openLinksInNewTab:j,isEditMode:i,onRemoveFavorite:Te}):oe?n.jsx(Tx,{url:(kt=s.widgetSettings)==null?void 0:kt.pictureUrl,base64:(nl=s.widgetSettings)==null?void 0:nl.pictureBase64,sourceType:(al=s.widgetSettings)==null?void 0:al.pictureSourceType,height:(Bn=s.widgetSettings)==null?void 0:Bn.pictureHeight,fit:(In=s.widgetSettings)==null?void 0:In.pictureFit,borderRadius:(aa=s.widgetSettings)==null?void 0:aa.pictureBorderRadius,updateInterval:(Ea=s.widgetSettings)==null?void 0:Ea.pictureUpdateInterval,pictureClickUrl:(K=s.widgetSettings)==null?void 0:K.pictureClickUrl,pictureEnableZoom:(ve=s.widgetSettings)==null?void 0:ve.pictureEnableZoom,openLinksInNewTab:j,themeClasses:N,isEditMode:i}):I?n.jsx(_x,{url:((je=s.widgetSettings)==null?void 0:je.iframeUrl)||"",viewMode:(pe=s.widgetSettings)==null?void 0:pe.iframeViewMode,height:(ke=s.widgetSettings)==null?void 0:ke.iframeHeight,updateInterval:(Ne=s.widgetSettings)==null?void 0:Ne.iframeUpdateInterval,themeClasses:N,isEditMode:i}):he?n.jsx(Ax,{group:s,columnId:c,themeClasses:N,homeyGlobalSettings:P,isEditMode:i,openModal:y,onPointerDown:f,draggedItem:m,dropTarget:h,homeyDevices:Z,homeyVariables:C,onToggle:z,onTriggerFlow:ue,onOptimisticUpdate:ce,onHomeySetValue:Ce}):Fe?n.jsx($x,{themeClasses:N,homeyGlobalSettings:P,connectionState:L,lastUpdate:se,countdown:we,log:Se}):Le?n.jsx(Mx,{settings:(He=s.widgetSettings)==null?void 0:He.electricitySettings,themeClasses:N,isEditMode:i}):n.jsxs("div",{className:_?"space-y-1":"space-y-2",children:[s.items.map($e=>$e.type==="link"?n.jsx(Ph,{link:$e,groupId:s.id,columnId:c,isEditMode:i,onEdit:()=>y("editLink",{link:$e,groupId:s.id,columnId:c}),onDelete:()=>y("deleteItem",{item:$e,groupId:s.id,columnId:c}),onPointerDown:f,draggedItem:m,dropTarget:h,themeClasses:N,openLinksInNewTab:j,compact:_},$e.id):$e.type==="separator"?n.jsx(e0,{separator:$e,groupId:s.id,columnId:c,isEditMode:i,onDelete:()=>y("deleteItem",{item:$e,groupId:s.id,columnId:c}),onPointerDown:f,draggedItem:m,dropTarget:h,themeClasses:N,compact:_},$e.id):null),s.items.length===0&&n.jsx("div",{className:"text-center py-4 text-slate-500 text-sm",children:i?"Drop items here or click '+' to add one.":"No links in this group."})]}))]})},Cx=({column:s,allColumns:r,isEditMode:c,onPointerDown:i,draggedItem:f,dropTarget:m,openModal:h,openLinkGroupPopup:y,groupGap:w,showColumnTitles:x,onToggleGroupCollapsed:N,themeClasses:j,openLinksInNewTab:S,widthStyle:A,isDeletable:V,todos:J,setTodos:ee,onCalculatorStateChange:P,onScratchpadChange:M,showGroupToggles:Z,homeyGlobalSettings:T,onRequestDeleteTodo:B,homeyDevices:C,hideBackground:L,homeyZones:se,homeyFlows:we,homeyVariables:Se,homeyConnectionState:z,homeyLastUpdate:ue,homeyCountdown:ce,homeyLog:Ce,onHomeyToggle:Te,onHomeyTriggerFlow:D,onHomeyOptimisticUpdate:U,onHomeySetValue:G,onRemoveFavorite:be})=>{const H=or.useRef(null),b=(m==null?void 0:m.columnId)===s.id&&!m.groupId,O=c&&(f==null?void 0:f.type)==="column"&&f.column.id===s.id;return n.jsxs("div",{ref:H,style:A,"data-droppable":"column","data-column-id":s.id,onContextMenu:$=>{c&&$.preventDefault()},className:`flex-shrink-0 rounded-lg transition-all duration-200 h-fit ${L?"bg-transparent":j.columnBg} ${O?"opacity-30":"opacity-100"} ${b?`ring-2 ${j.ring}`:""}
`,children:[(x||c)&&n.jsxs("div",{className:"flex justify-between items-start mb-4 group/header p-2",style:c?{touchAction:"none",userSelect:"none"}:{},onMouseDown:$=>{$.target.closest("button")||i($,{type:"column",column:s},H.current)},onTouchStart:$=>{$.target.closest("button")||i($,{type:"column",column:s},H.current)},children:[n.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[c&&n.jsx(cs,{className:"w-5 h-5 text-slate-500 flex-shrink-0 cursor-grab mt-1"}),n.jsx("h2",{className:`text-xl font-bold ${j.header} break-all`,children:s.name})]}),c&&n.jsxs("div",{className:"flex items-center gap-2 transition-opacity flex-shrink-0 ml-2",children:[n.jsx("button",{onClick:()=>h("addWidget",{columnId:s.id}),className:`p-1 rounded-full transition-colors ${j.iconMuted} ${j.buttonIconHoverText} ${j.buttonIconHoverBg}`,children:n.jsx(Ta,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>h("editColumn",s),className:`p-1 rounded-full transition-colors ${j.iconMuted} ${j.buttonIconHoverText} ${j.buttonIconHoverBg}`,children:n.jsx(lr,{className:"w-4 h-4"})}),V&&n.jsx("button",{onClick:()=>h("deleteColumn",s),className:`p-1 rounded-full transition-colors ${j.iconMuted} hover:text-red-400 ${j.buttonIconHoverBg}`,children:n.jsx(mn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:`space-y-${w} p-2 ${x||c?"pt-0":""}`,children:[s.groups.map($=>n.jsx(Ox,{group:$,allColumns:r,columnId:s.id,isEditMode:c,onPointerDown:i,draggedItem:f,dropTarget:m,openModal:h,openLinkGroupPopup:y,onToggleGroupCollapsed:N,themeClasses:j,openLinksInNewTab:S,todos:J,setTodos:ee,onCalculatorStateChange:P,onScratchpadChange:M,showGroupToggles:Z,homeyGlobalSettings:T,onRequestDeleteTodo:B,homeyDevices:C,homeyZones:se,homeyFlows:we,homeyVariables:Se,homeyConnectionState:z,homeyLastUpdate:ue,homeyCountdown:ce,homeyLog:Ce,onHomeyToggle:Te,onHomeyTriggerFlow:D,onHomeyOptimisticUpdate:U,onHomeySetValue:G,onRemoveFavorite:be},$.id)),s.groups.length===0&&n.jsx("div",{className:`text-center py-8 text-sm border-2 border-dashed rounded-lg ${j.textSubtle} ${j.dashedBorder}`,children:c?"Drop a group here or click '+' to add one.":"This column is empty."})]})]})},yi=(s,r)=>"#"+s.replace(/^#/,"").replace(/../g,c=>("0"+Math.min(255,Math.max(0,parseInt(c,16)+r)).toString(16)).substr(-2)),bh=s=>{let r;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(s)?(r=s.substring(1).split(""),r.length==3&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]),r="0x"+r.join(""),[r>>16&255,r>>8&255,r&255].join(",")):"0,0,0"},Rx=s=>{const{background:r,panel:c,primary:i,secondary:f,text:m}=s,h=yi(i,-20),y=yi(f,-20),w=yi(c,-20),x=yi(c,20),N=`rgba(${bh(m)}, 0.6)`,j=`rgba(${bh(m)}, 0.4)`;return{name:"Custom",body:`bg-[${r}] text-[${m}]`,header:`text-[${m}]`,buttonPrimary:`bg-[${i}] hover:bg-[${h}] text-white`,buttonSecondary:`bg-[${f}] hover:bg-[${y}] text-white`,buttonDanger:"bg-red-600 hover:bg-red-500 text-white",buttonIconHoverBg:`hover:bg-[${x}]`,buttonIconHoverText:`hover:text-[${m}]`,modalBg:`bg-[${c}]`,modalText:`text-[${m}]`,modalMutedText:`text-[${N}]`,inputBg:`bg-[${w}] border-[${f}] text-[${m}]`,inputFocusRing:`focus:ring-[${i}] focus:border-[${i}]`,columnBg:`bg-[${r}]/50`,groupBg:`bg-[${c}]/80`,groupBgSecondary:`bg-[${x}]/80`,groupBgTertiary:`bg-[${f}]/30`,groupBgQuaternary:`bg-[${x}]/95`,groupBgQuinary:`bg-[${w}]/80`,linkBg:`bg-[${w}]/50`,linkHoverBg:`hover:bg-[${w}]`,linkText:`text-[${m}]`,linkHoverText:`hover:text-[${i}]`,iconMuted:`text-[${j}]`,ring:`ring-[${i}]`,dashedBorder:`border-[${f}]`,textMuted:`text-[${N}]`,textSubtle:`text-[${j}]`,scrollbarTrack:r,scrollbarThumb:f,scrollbarThumbHover:i}},ji={default:{name:"Default",body:"bg-slate-900 text-slate-100",header:"text-slate-100",buttonPrimary:"bg-purple-600 hover:bg-purple-500 text-white",buttonSecondary:"bg-indigo-600 hover:bg-indigo-500 text-white",buttonDanger:"bg-red-600 hover:bg-red-500 text-white",buttonIconHoverBg:"hover:bg-slate-700",buttonIconHoverText:"hover:text-white",modalBg:"bg-slate-800",modalText:"text-slate-100",modalMutedText:"text-slate-300",inputBg:"bg-slate-700 border-slate-600 text-white",inputFocusRing:"focus:ring-indigo-500 focus:border-indigo-500",columnBg:"bg-slate-900/50",groupBg:"bg-slate-800/80",groupBgSecondary:"bg-slate-700/90",groupBgTertiary:"bg-indigo-900/40",groupBgQuaternary:"bg-slate-600/90",groupBgQuinary:"bg-slate-950/80",linkBg:"bg-slate-700/50",linkHoverBg:"hover:bg-slate-700",linkText:"text-slate-200",linkHoverText:"hover:text-indigo-400",iconMuted:"text-slate-400",ring:"ring-indigo-500",dashedBorder:"border-slate-700",textMuted:"text-slate-400",textSubtle:"text-slate-500",scrollbarTrack:"#1e293b",scrollbarThumb:"#475569",scrollbarThumbHover:"#64748b"},forest:{name:"Forest",body:"bg-gray-900 text-green-100",header:"text-green-100",buttonPrimary:"bg-emerald-700 hover:bg-emerald-600 text-white",buttonSecondary:"bg-gray-600 hover:bg-gray-500 text-white",buttonDanger:"bg-red-700 hover:bg-red-600 text-white",buttonIconHoverBg:"hover:bg-gray-700",buttonIconHoverText:"hover:text-white",modalBg:"bg-gray-800",modalText:"text-green-100",modalMutedText:"text-gray-300",inputBg:"bg-gray-700 border-gray-600 text-white",inputFocusRing:"focus:ring-emerald-500 focus:border-emerald-500",columnBg:"bg-gray-900/50",groupBg:"bg-gray-800/80",groupBgSecondary:"bg-gray-700/90",groupBgTertiary:"bg-emerald-900/40",groupBgQuaternary:"bg-gray-600/90",groupBgQuinary:"bg-gray-950/80",linkBg:"bg-gray-700/50",linkHoverBg:"hover:bg-gray-700",linkText:"text-green-200",linkHoverText:"hover:text-emerald-400",iconMuted:"text-gray-400",ring:"ring-emerald-500",dashedBorder:"border-gray-700",textMuted:"text-gray-400",textSubtle:"text-gray-500",scrollbarTrack:"#1f2937",scrollbarThumb:"#4b5563",scrollbarThumbHover:"#6b7280"},sunset:{name:"Sunset",body:"bg-gradient-to-br from-stone-900 to-orange-900 text-orange-50",header:"text-orange-200 font-serif tracking-wide",buttonPrimary:"bg-orange-600 hover:bg-orange-500 text-white",buttonSecondary:"bg-stone-700 hover:bg-stone-600 text-orange-100",buttonDanger:"bg-red-600 hover:bg-red-500 text-white",buttonIconHoverBg:"hover:bg-orange-900",buttonIconHoverText:"hover:text-white",modalBg:"bg-stone-900 border border-orange-900",modalText:"text-orange-50",modalMutedText:"text-stone-400",inputBg:"bg-stone-800 border-stone-700 text-white",inputFocusRing:"focus:ring-orange-500 focus:border-orange-500",columnBg:"bg-stone-950/30",groupBg:"bg-stone-900/60 border border-orange-500/20",groupBgSecondary:"bg-stone-800/80",groupBgTertiary:"bg-orange-900/30",groupBgQuaternary:"bg-stone-700/70",groupBgQuinary:"bg-stone-950/80",linkBg:"bg-stone-800/40",linkHoverBg:"hover:bg-orange-900/40",linkText:"text-orange-100",linkHoverText:"hover:text-orange-300",iconMuted:"text-stone-500",ring:"ring-orange-500",dashedBorder:"border-orange-900/50",textMuted:"text-stone-400",textSubtle:"text-stone-500",scrollbarTrack:"#1c1917",scrollbarThumb:"#ea580c",scrollbarThumbHover:"#f97316"},matrix:{name:"Matrix",body:"bg-black text-green-400 font-mono",header:"text-green-400",buttonPrimary:"bg-green-700/50 hover:bg-green-600/50 border border-green-500 text-green-300",buttonSecondary:"bg-gray-700/50 hover:bg-gray-600/50 border border-gray-500 text-gray-300",buttonDanger:"bg-red-700/50 hover:bg-red-600/50 border border-red-500 text-red-300",buttonIconHoverBg:"hover:bg-gray-700",buttonIconHoverText:"hover:text-white",modalBg:"bg-black border border-green-700",modalText:"text-green-400",modalMutedText:"text-green-500",inputBg:"bg-black border-green-700 text-green-300 placeholder-green-700",inputFocusRing:"focus:ring-green-500 focus:border-green-500",columnBg:"bg-black/50 border border-green-900",groupBg:"bg-black/80 border border-green-800",groupBgSecondary:"bg-green-900/20 border border-green-600",groupBgTertiary:"bg-gray-900/90 border border-green-900",groupBgQuaternary:"bg-gray-800/80 border border-green-700",groupBgQuinary:"bg-black/95 border border-green-900",linkBg:"bg-black/50",linkHoverBg:"hover:bg-green-900/50",linkText:"text-green-400",linkHoverText:"hover:text-green-300",iconMuted:"text-green-600",ring:"ring-green-500",dashedBorder:"border-green-800",textMuted:"text-green-500",textSubtle:"text-green-600",scrollbarTrack:"#000000",scrollbarThumb:"#052e16",scrollbarThumbHover:"#14532d"},inferno:{name:"Inferno",body:"bg-red-950 text-yellow-200",header:"text-amber-100",buttonPrimary:"bg-yellow-500 hover:bg-yellow-400 text-red-900",buttonSecondary:"bg-red-800 hover:bg-red-700 text-yellow-100",buttonDanger:"bg-orange-600 hover:bg-orange-500 text-white",buttonIconHoverBg:"hover:bg-red-800",buttonIconHoverText:"hover:text-yellow-100",modalBg:"bg-red-900",modalText:"text-yellow-100",modalMutedText:"text-yellow-300",inputBg:"bg-red-800 border-red-700 text-yellow-100",inputFocusRing:"focus:ring-yellow-500 focus:border-yellow-500",columnBg:"bg-red-950/50",groupBg:"bg-red-900/80",groupBgSecondary:"bg-red-950/90",groupBgTertiary:"bg-red-700/30",groupBgQuaternary:"bg-red-800/80",groupBgQuinary:"bg-black/60",linkBg:"bg-red-800/50",linkHoverBg:"hover:bg-red-800",linkText:"text-yellow-200",linkHoverText:"hover:text-yellow-400",iconMuted:"text-yellow-500",ring:"ring-yellow-500",dashedBorder:"border-red-800",textMuted:"text-yellow-400",textSubtle:"text-yellow-600",scrollbarTrack:"#450a0a",scrollbarThumb:"#7f1d1d",scrollbarThumbHover:"#b91c1c"},ocean:{name:"Ocean",body:"bg-blue-950 text-cyan-100",header:"text-cyan-100",buttonPrimary:"bg-cyan-600 hover:bg-cyan-500 text-white",buttonSecondary:"bg-blue-800 hover:bg-blue-700 text-cyan-100",buttonDanger:"bg-rose-600 hover:bg-rose-500 text-white",buttonIconHoverBg:"hover:bg-blue-800",buttonIconHoverText:"hover:text-white",modalBg:"bg-blue-900",modalText:"text-cyan-100",modalMutedText:"text-cyan-300",inputBg:"bg-blue-800 border-blue-700 text-white",inputFocusRing:"focus:ring-cyan-500 focus:border-cyan-500",columnBg:"bg-blue-950/50",groupBg:"bg-blue-900/80",groupBgSecondary:"bg-blue-950/90",groupBgTertiary:"bg-cyan-900/30",groupBgQuaternary:"bg-blue-700/80",groupBgQuinary:"bg-blue-950/95",linkBg:"bg-blue-800/50",linkHoverBg:"hover:bg-blue-800",linkText:"text-cyan-200",linkHoverText:"hover:text-cyan-400",iconMuted:"text-cyan-400",ring:"ring-cyan-500",dashedBorder:"border-blue-800",textMuted:"text-cyan-400",textSubtle:"text-cyan-500",scrollbarTrack:"#172554",scrollbarThumb:"#1e3a8a",scrollbarThumbHover:"#1e40af"},arctic:{name:"Arctic",body:"bg-slate-100 text-slate-800",header:"text-slate-900",buttonPrimary:"bg-blue-600 hover:bg-blue-500 text-white",buttonSecondary:"bg-slate-300 hover:bg-slate-400 text-slate-800",buttonDanger:"bg-red-500 hover:bg-red-600 text-white",buttonIconHoverBg:"hover:bg-slate-300",buttonIconHoverText:"hover:text-slate-900",modalBg:"bg-white",modalText:"text-slate-900",modalMutedText:"text-slate-600",inputBg:"bg-white border-slate-300 text-slate-900",inputFocusRing:"focus:ring-blue-500 focus:border-blue-500",columnBg:"bg-slate-100/50",groupBg:"bg-slate-200/80",groupBgSecondary:"bg-white/90",groupBgTertiary:"bg-blue-100/80",groupBgQuaternary:"bg-slate-300/80",groupBgQuinary:"bg-slate-400/50",linkBg:"bg-white/50",linkHoverBg:"hover:bg-blue-100",linkText:"text-slate-700",linkHoverText:"hover:text-blue-600",iconMuted:"text-slate-500",ring:"ring-blue-500",dashedBorder:"border-slate-300",textMuted:"text-slate-500",textSubtle:"text-slate-400",scrollbarTrack:"#e2e8f0",scrollbarThumb:"#cbd5e1",scrollbarThumbHover:"#94a3b8"},synthwave:{name:"Synthwave",body:"bg-[#1f1e1f] text-[#f7ffff]",header:"text-[#d7db01]",buttonPrimary:"bg-[#cdd800] hover:bg-[#e0e83b] text-[#073630]",buttonSecondary:"bg-[#676666] hover:bg-[#7a7979] text-[#f7ffff]",buttonDanger:"bg-red-600 hover:bg-red-500 text-white",buttonIconHoverBg:"hover:bg-[#676666]",buttonIconHoverText:"hover:text-white",modalBg:"bg-[#055471]",modalText:"text-[#f7ffff]",modalMutedText:"text-slate-300",inputBg:"bg-black/30 border-[#676666] text-[#f7ffff]",inputFocusRing:"focus:ring-[#cdd800] focus:border-[#cdd800]",columnBg:"bg-[#1f1e1f]/50",groupBg:"bg-[#009ad8]/90",groupBgSecondary:"bg-[#055471]/90",groupBgTertiary:"bg-[#cdd800]/20",groupBgQuaternary:"bg-[#2b2b2b]/90",groupBgQuinary:"bg-black/60",linkBg:"bg-[#055471]/50",linkHoverBg:"hover:bg-[#055471]",linkText:"text-[#f7ffff]",linkHoverText:"hover:text-[#d7db01]",iconMuted:"text-slate-500",ring:"ring-[#cdd800]",dashedBorder:"border-[#676666]",textMuted:"text-slate-500",textSubtle:"text-slate-600",scrollbarTrack:"#1f1e1f",scrollbarThumb:"#676666",scrollbarThumbHover:"#cdd800"},coffee:{name:"Coffee",body:"bg-stone-900 text-amber-100",header:"text-amber-100",buttonPrimary:"bg-amber-700 hover:bg-amber-600 text-white",buttonSecondary:"bg-stone-600 hover:bg-stone-500 text-stone-100",buttonDanger:"bg-red-700 hover:bg-red-600 text-white",buttonIconHoverBg:"hover:bg-stone-700",buttonIconHoverText:"hover:text-amber-50",modalBg:"bg-stone-800",modalText:"text-amber-100",modalMutedText:"text-stone-400",inputBg:"bg-stone-700 border-stone-600 text-amber-100",inputFocusRing:"focus:ring-amber-600 focus:border-amber-600",columnBg:"bg-stone-900/50",groupBg:"bg-stone-800/80",groupBgSecondary:"bg-stone-700/90",groupBgTertiary:"bg-amber-900/30",groupBgQuaternary:"bg-stone-600/80",groupBgQuinary:"bg-stone-950/80",linkBg:"bg-stone-700/50",linkHoverBg:"hover:bg-stone-700",linkText:"text-amber-200",linkHoverText:"hover:text-amber-400",iconMuted:"text-stone-500",ring:"ring-amber-600",dashedBorder:"border-stone-600",textMuted:"text-stone-400",textSubtle:"text-stone-500",scrollbarTrack:"#1c1917",scrollbarThumb:"#44403c",scrollbarThumbHover:"#57534e"},vampire:{name:"Vampire",body:"bg-black text-slate-200",header:"text-red-600 font-serif tracking-wider",buttonPrimary:"bg-red-900 hover:bg-red-800 text-red-50 border border-red-950",buttonSecondary:"bg-gray-900 hover:bg-gray-800 text-red-200 border border-gray-800",buttonDanger:"bg-red-950 hover:bg-red-900 text-white border border-red-800",buttonIconHoverBg:"hover:bg-red-900/50",buttonIconHoverText:"hover:text-red-200",modalBg:"bg-neutral-950 border border-red-900",modalText:"text-slate-200",modalMutedText:"text-slate-500",inputBg:"bg-black border-red-900/50 text-red-50 placeholder-red-900/50",inputFocusRing:"focus:ring-red-800 focus:border-red-800",columnBg:"bg-black/40 border border-red-900/20",groupBg:"bg-neutral-950/90 border border-red-900/40 shadow-lg shadow-red-900/5",groupBgSecondary:"bg-red-950/40 border border-red-900/60",groupBgTertiary:"bg-gray-900/80 border border-gray-800",groupBgQuaternary:"bg-neutral-800/90",groupBgQuinary:"bg-black/80",linkBg:"bg-red-950/10",linkHoverBg:"hover:bg-red-900/40",linkText:"text-slate-300",linkHoverText:"hover:text-red-400",iconMuted:"text-red-900/70",ring:"ring-red-800",dashedBorder:"border-red-900/40",textMuted:"text-slate-500",textSubtle:"text-slate-600",scrollbarTrack:"#000000",scrollbarThumb:"#7f1d1d",scrollbarThumbHover:"#991b1b"},cyber:{name:"Cyber",body:"bg-slate-950 text-lime-400",header:"text-lime-400",buttonPrimary:"bg-fuchsia-700 hover:bg-fuchsia-600 text-white",buttonSecondary:"bg-slate-800 hover:bg-slate-700 text-lime-300",buttonDanger:"bg-red-600 hover:bg-red-500 text-white",buttonIconHoverBg:"hover:bg-slate-800",buttonIconHoverText:"hover:text-lime-300",modalBg:"bg-slate-900",modalText:"text-lime-400",modalMutedText:"text-slate-500",inputBg:"bg-slate-900 border-fuchsia-800 text-lime-300",inputFocusRing:"focus:ring-lime-500 focus:border-lime-500",columnBg:"bg-slate-950/50",groupBg:"bg-slate-900/90",groupBgSecondary:"bg-slate-800/90",groupBgTertiary:"bg-fuchsia-900/20",groupBgQuaternary:"bg-slate-800/80",groupBgQuinary:"bg-slate-950/90",linkBg:"bg-slate-800/50",linkHoverBg:"hover:bg-slate-800",linkText:"text-lime-400",linkHoverText:"hover:text-fuchsia-400",iconMuted:"text-slate-600",ring:"ring-lime-500",dashedBorder:"border-fuchsia-900",textMuted:"text-slate-500",textSubtle:"text-slate-600",scrollbarTrack:"#020617",scrollbarThumb:"#a3e635",scrollbarThumbHover:"#d946ef"},homey:{name:"Homey",body:"bg-slate-900 text-slate-100",header:"text-slate-100",buttonPrimary:"bg-[#489dfd] hover:bg-[#65adff] text-white",buttonSecondary:"bg-slate-700 hover:bg-slate-600 text-[#489dfd]",buttonDanger:"bg-red-600 hover:bg-red-500 text-white",buttonIconHoverBg:"hover:bg-slate-700/80",buttonIconHoverText:"hover:text-white",modalBg:"bg-slate-800/95",modalText:"text-slate-100",modalMutedText:"text-slate-300",inputBg:"bg-slate-700 border-slate-600 text-slate-100",inputFocusRing:"focus:ring-sky-500 focus:border-sky-500",columnBg:"bg-slate-900/60",groupBg:"bg-slate-800/80",groupBgSecondary:"bg-slate-700/85",groupBgTertiary:"bg-sky-900/30",groupBgQuaternary:"bg-slate-600/90",groupBgQuinary:"bg-slate-950/85",linkBg:"bg-slate-700/50",linkHoverBg:"hover:bg-slate-700",linkText:"text-[#e6e8eb]",linkHoverText:"hover:text-[#4fb0f9]",iconMuted:"text-slate-400",ring:"ring-sky-500",dashedBorder:"border-slate-700",textMuted:"text-slate-400",textSubtle:"text-slate-500",scrollbarTrack:"#0f172a",scrollbarThumb:"#334155",scrollbarThumbHover:"#475569"}},Hx=({options:s,value:r,onChange:c,themeClasses:i,disabled:f=!1})=>{const[m,h]=v.useState(!1),y=v.useRef(null),w=s.find(N=>N.value===r);v.useEffect(()=>{const N=j=>{y.current&&!y.current.contains(j.target)&&h(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const x=N=>{c(N),h(!1)};return n.jsxs("div",{ref:y,className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>h(!m),disabled:f,className:`w-full flex justify-between items-center px-4 py-2 rounded-md border text-left ${i.inputBg} ${i.inputFocusRing} disabled:opacity-50 disabled:cursor-not-allowed`,children:[n.jsx("span",{children:(w==null?void 0:w.label)||"Select..."}),n.jsx(cr,{className:`w-5 h-5 transition-transform ${m?"rotate-180":""}`})]}),m&&n.jsx("ul",{className:`absolute z-20 top-full mt-1 w-full rounded-md shadow-lg border ${i.modalBg} ${i.dashedBorder} overflow-hidden`,children:s.map(N=>n.jsx("li",{onClick:()=>x(N.value),className:`px-4 py-2 text-sm font-medium cursor-pointer ${N.value===r?i.header:i.modalMutedText} ${i.linkHoverBg}`,children:N.label},N.value))})]})},Lx=["#f8fafc","#f1f5f9","#e2e8f0","#cbd5e1","#94a3b8","#64748b","#475569","#334155","#1e293b","#0f172a","#fee2e2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c","#991b1b","#7f1d1d","#450a0a","#fff7ed","#ffedd5","#fed7aa","#fb923c","#f97316","#ea580c","#c2410c","#9a3412","#7c2d12","#431407","#fffbeb","#fef3c7","#fde68a","#fbbf24","#f59e0b","#d97706","#b45309","#92400e","#78350f","#451a03","#fefce8","#fef9c3","#fef08a","#facc15","#eab308","#ca8a04","#a16207","#854d0e","#713f12","#422006","#f7fee7","#ecfccb","#d9f99d","#a3e635","#84cc16","#65a30d","#4d7c0f","#3f6212","#365314","#1a2e05","#f0fdf4","#dcfce7","#bbf7d0","#4ade80","#22c55e","#16a34a","#15803d","#166534","#14532d","#052e16","#ecfdf5","#d1fae5","#a7f3d0","#34d399","#10b981","#059669","#047857","#065f46","#064e3b","#022c22","#f0fdfa","#ccfbf1","#99f6e4","#2dd4bf","#14b8a6","#0d9488","#0f766e","#134e4a","#115e59","#042f2e","#ecfeff","#cffafe","#a5f3fc","#22d3ee","#06b6d4","#0891b2","#0e7490","#155e75","#164e63","#083344","#eff6ff","#dbeafe","#bfdbfe","#60a5fa","#3b82f6","#2563eb","#1d4ed8","#1e40af","#1e3a8a","#172554","#eef2ff","#e0e7ff","#c7d2fe","#818cf8","#6366f1","#4f46e5","#4338ca","#3730a3","#312e81","#1e1b4b","#f5f3ff","#ede9fe","#ddd6fe","#a78bfa","#8b5cf6","#7c3aed","#6d28d9","#5b21b6","#4c1d95","#2e1065","#faf5ff","#f3e8ff","#e9d5ff","#c084fc","#a855f7","#9333ea","#7e22ce","#6b21a8","#581c87","#3b0764","#fdf4ff","#fae8ff","#f5d0fe","#e879f9","#d946ef","#c026d3","#a21caf","#86198f","#701a75","#4a044e","#fdf2f8","#fce7f3","#fbcfe8","#f472b6","#ec4899","#db2777","#be185d","#9d174d","#831843","#500724","#fff1f2","#ffe4e6","#fecdd3","#fb7185","#f43f5e","#e11d48","#be123c","#9f1239","#881337","#4c0519"],t0=({onSelect:s})=>n.jsx("div",{className:"mt-2 p-2 rounded-md border border-slate-600 bg-slate-900 grid grid-cols-10 gap-1 animate-fade-in-up",children:Lx.map(r=>n.jsx("button",{type:"button",className:"w-full h-7 rounded-md border border-white/10 transition-transform hover:scale-110 hover:z-10 focus:z-10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-white",style:{backgroundColor:r},onClick:()=>s(r),"aria-label":`Select color ${r}`},r))}),vl=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s==="x"?r:r&3|8).toString(16)}),zx=({settings:s,onSettingsChange:r,themeClasses:c})=>{var x,N,j;const[i,f]=v.useState("idle"),[m,h]=v.useState(""),y=S=>{const{name:A,value:V}=S.target;r({...s,homey:{...s.homey,[A]:A==="pollingInterval"?parseInt(V,10):V}})},w=async()=>{var ee,P;f("testing"),h("");const S=(ee=s.homey)==null?void 0:ee.localIp,A=(P=s.homey)==null?void 0:P.apiToken;if(!S||!A){h("IP Address and Token are required."),f("error");return}const V=S.trim().startsWith("http")?S.trim():`http://${S.trim()}`,J=A.replace(/^Bearer\s+/i,"").trim();try{const M=await fetch(`${V}/api/manager/zones/zone`,{headers:{Authorization:`Bearer ${J}`}});if(!M.ok)throw M.status===0?new Error("Connection Refused. Check IP and ensure you are on HTTP."):M.status===401?new Error("Unauthorized. Check your API Token."):new Error(`API returned status ${M.status}.`);f("success")}catch(M){h(M instanceof Error?M.message:"An unknown error occurred."),f("error")}finally{setTimeout(()=>f("idle"),3e3)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-md text-xs text-yellow-200",children:[n.jsx("strong",{children:"Requirement:"})," To connect to Homey on your local network, this dashboard page must be accessed via ",n.jsx("strong",{children:"HTTP"}),", not HTTPS. Read more under ",n.jsx("strong",{children:"About"}),"."]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"localIp",className:"block text-sm font-medium",children:"Homey Local IP Address"}),n.jsx("input",{type:"text",id:"localIp",name:"localIp",value:((x=s.homey)==null?void 0:x.localIp)||"",onChange:y,placeholder:"192.168.1.x",className:`w-full p-2 mt-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"apiToken",className:"block text-sm font-medium",children:"Personal Access Token"}),n.jsx("input",{type:"password",id:"apiToken",name:"apiToken",value:((N=s.homey)==null?void 0:N.apiToken)||"",onChange:y,placeholder:"Enter your token",className:`w-full p-2 mt-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Get your Personal Access Token from the Homey app:",n.jsx("span",{className:"font-semibold",children:" Settings  API Keys  Create New Key"}),"."]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pollingInterval",className:"block text-sm font-medium",children:"Polling Interval (seconds)"}),n.jsxs("select",{id:"pollingInterval",name:"pollingInterval",value:((j=s.homey)==null?void 0:j.pollingInterval)??10,onChange:y,className:`w-full p-2 mt-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`,children:[n.jsx("option",{value:5,children:"5 seconds"}),n.jsx("option",{value:10,children:"10 seconds (Default)"}),n.jsx("option",{value:20,children:"20 seconds"}),n.jsx("option",{value:30,children:"30 seconds"}),n.jsx("option",{value:60,children:"60 seconds"})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"When websocket is unavailable (live update), polling is used instead (delayed update)."})]}),n.jsxs("div",{children:[n.jsxs("button",{onClick:w,className:`w-full flex items-center justify-center gap-2 font-semibold py-2 px-4 rounded-lg transition-colors ${c.buttonSecondary} disabled:opacity-50`,disabled:i==="testing",children:[i==="testing"&&n.jsx(ka,{className:"w-4 h-4 animate-spin"}),i==="success"&&n.jsx(el,{className:"w-4 h-4"}),i==="error"&&n.jsx(qg,{className:"w-4 h-4"}),i==="idle"?"Test Connection":i==="testing"?"Testing...":i==="success"?"Success!":"Failed"]}),i==="error"&&n.jsx("p",{className:"text-xs text-red-400 mt-2 text-center",children:m})]})]})},Ux=({dashboards:s,onDashboardsChange:r,activeDashboardId:c,setActiveDashboardId:i,themeClasses:f,settings:m,onSettingsChange:h,editingDashboardId:y,setEditingDashboardId:w})=>{const[x,N]=v.useState(null),[j,S]=v.useState(null),[A,V]=v.useState(""),[J,ee]=v.useState(""),[P,M]=v.useState(""),[Z,T]=v.useState(!1);v.useEffect(()=>{if(!x&&!j)return;const z=ue=>{ue.target.closest(".confirmation-actions")||(N(null),S(null))};return document.addEventListener("click",z,!0),()=>{document.removeEventListener("click",z,!0)}},[x,j]);const B=()=>{const z={id:vl(),name:`Dashboard ${s.length+1}`,layoutType:"columns",columns:[]};r([...s,z]),s.length===0&&i(z.id)},C=()=>{const z={id:vl(),name:`Homey Layout ${s.filter(ue=>ue.layoutType==="layout").length+1}`,layoutType:"layout",items:[],canvasWidth:800,canvasHeight:600,bgCapabilityOpacity:.7};r([...s,z])},L=z=>{var Te;const ue={id:vl(),name:`${z.name} (Copy)`,columns:(Te=z.columns)==null?void 0:Te.map(D=>({...D,id:vl(),groups:D.groups.map(U=>({...U,id:vl(),items:U.items.map(G=>{const be={...G,id:vl()};return be.type==="button_holder"&&(be.buttons=G.buttons.map(H=>({...H,id:vl()}))),be})}))})),backgroundImage:z.backgroundImage,customBackgroundColor:z.customBackgroundColor},ce=[...s],Ce=ce.findIndex(D=>D.id===z.id);Ce!==-1?ce.splice(Ce+1,0,ue):ce.push(ue),r(ce)},se=(z,ue)=>{const ce=[...s];ue==="up"&&z>0?[ce[z-1],ce[z]]=[ce[z],ce[z-1]]:ue==="down"&&z<ce.length-1&&([ce[z],ce[z+1]]=[ce[z+1],ce[z]]),r(ce)},we=z=>{w(z.id),V(z.name),ee(z.backgroundImage||""),M(z.customBackgroundColor||"#0f172a"),T(!1)},Se=()=>{y&&(r(s.map(z=>z.id===y?{...z,name:A,backgroundImage:J,customBackgroundColor:P}:z)),w(null))};if(y){const z=s.find(ce=>ce.id===y),ue=(z==null?void 0:z.layoutType)==="layout";return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:()=>w(null),className:`flex items-center gap-1 text-sm ${f.modalMutedText} ${f.buttonIconHoverText} mb-2`,children:[n.jsx(uu,{className:"w-4 h-4"})," Back to List"]}),n.jsx("h3",{className:`font-bold ${f.modalText}`,children:"Edit Dashboard"}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${f.modalMutedText} mb-1`,children:"Name"}),n.jsx("input",{type:"text",value:A,onChange:ce=>V(ce.target.value),className:`w-full p-2 rounded-md border ${f.inputBg} ${f.inputFocusRing}`})]}),ue?n.jsxs("div",{className:`p-4 rounded-md border ${f.dashedBorder} bg-black/20 text-sm ${f.modalMutedText}`,children:[n.jsx("p",{children:"Background settings for Layout Dashboards are managed directly on the dashboard itself."}),n.jsxs("p",{className:"mt-2",children:["Go to the dashboard, enter Edit Mode, and click the ",n.jsx(is,{className:"inline w-4 h-4 mx-1"})," icon in the bottom right corner."]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${f.modalMutedText} mb-1`,children:"Background Image URL"}),n.jsx("input",{type:"text",value:J,onChange:ce=>ee(ce.target.value),placeholder:"https://...",className:`w-full p-2 rounded-md border ${f.inputBg} ${f.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${f.modalMutedText} mb-1`,children:"Background Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:()=>T(ce=>!ce),className:"h-10 w-12 border border-slate-500 p-0 cursor-pointer rounded",style:{backgroundColor:P},"aria-label":"Open color palette"}),n.jsx("input",{type:"text",value:P,onChange:ce=>M(ce.target.value),placeholder:"#0f172a",className:`flex-1 p-2 rounded-md border ${f.inputBg} ${f.inputFocusRing} font-mono`})]}),Z&&n.jsx(t0,{onSelect:ce=>{M(ce),T(!1)}})]})]}),n.jsx("div",{className:"pt-4 border-t border-slate-700 flex justify-end",children:n.jsx("button",{onClick:Se,className:`${f.buttonPrimary} font-semibold py-2 px-4 rounded-lg`,children:"Save Changes"})})]})}return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${f.modalMutedText} mb-2`,children:"Navigation Style"}),n.jsx(Hx,{value:m.dashboardView,onChange:z=>h({...m,dashboardView:z}),options:[{value:"dropdown",label:"Dropdown Menu"},{value:"tabs",label:"Tabs"}],themeClasses:f})]}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:[n.jsx("label",{className:`block text-sm font-medium ${f.modalMutedText} mb-1`,children:"Your Dashboards"}),s.map((z,ue)=>n.jsx("div",{className:`flex items-center gap-2 py-2 px-4 rounded-md ${f.inputBg} border border-transparent hover:border-slate-600`,children:x===z.id?n.jsxs("div",{className:"flex-1 flex items-center justify-between animate-fade-in",children:[n.jsxs("span",{className:"text-sm text-red-400 font-semibold truncate",children:['Delete "',z.name,'"?']}),n.jsxs("div",{className:"flex items-center gap-2 confirmation-actions",children:[n.jsx("button",{onClick:()=>{var Ce;const ce=s.filter(Te=>Te.id!==z.id);r(ce),c===z.id&&i(((Ce=ce[0])==null?void 0:Ce.id)||""),N(null)},className:"p-1 rounded bg-red-600 text-white hover:bg-red-500 transition-colors",title:"Confirm Delete",children:n.jsx(el,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(null),className:"p-1 rounded bg-slate-600 text-white hover:bg-slate-500 transition-colors",title:"Cancel",children:n.jsx(Sa,{className:"w-4 h-4"})})]})]}):j===z.id?n.jsxs("div",{className:"flex-1 flex items-center justify-between animate-fade-in",children:[n.jsxs("span",{className:"text-sm text-indigo-400 font-semibold truncate",children:['Duplicate "',z.name,'"?']}),n.jsxs("div",{className:"flex items-center gap-2 confirmation-actions",children:[n.jsx("button",{onClick:()=>{L(z),S(null)},className:"p-1 rounded bg-indigo-600 text-white hover:bg-indigo-500 transition-colors",title:"Confirm Duplicate",children:n.jsx(el,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(null),className:"p-1 rounded bg-slate-600 text-white hover:bg-slate-500 transition-colors",title:"Cancel",children:n.jsx(Sa,{className:"w-4 h-4"})})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 font-medium truncate",children:z.name}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>se(ue,"up"),disabled:ue===0,className:`p-1 rounded-full transition-colors disabled:opacity-30 ${f.iconMuted} ${f.buttonIconHoverText} ${f.buttonIconHoverBg}`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}),n.jsx("button",{onClick:()=>se(ue,"down"),disabled:ue===s.length-1,className:`p-1 rounded-full transition-colors disabled:opacity-30 ${f.iconMuted} ${f.buttonIconHoverText} ${f.buttonIconHoverBg}`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})})]}),n.jsx("div",{className:"h-4 w-px bg-slate-600 mx-1"}),n.jsx("button",{onClick:()=>we(z),className:`p-1 rounded-full transition-colors ${f.iconMuted} ${f.buttonIconHoverText} ${f.buttonIconHoverBg}`,title:"Settings",children:n.jsx(is,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(z.id),className:`p-1 rounded-full transition-colors ${f.iconMuted} ${f.buttonIconHoverText} ${f.buttonIconHoverBg}`,title:"Duplicate",children:n.jsx(Dg,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>{if(s.length<=1){alert("You cannot delete the last dashboard.");return}N(z.id)},className:`p-1 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${f.iconMuted} hover:text-red-400 ${f.buttonIconHoverBg}`,disabled:s.length<=1,title:"Delete",children:n.jsx(mn,{className:"w-4 h-4"})})]})},z.id))]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:B,className:`w-full flex items-center justify-center gap-2 p-2 rounded-lg border-2 border-dashed ${f.dashedBorder} ${f.textSubtle} hover:border-slate-500 hover:text-slate-300 transition-colors`,children:[n.jsx(cu,{className:"w-4 h-4"})," Add Regular Dashboard"]}),n.jsxs("button",{onClick:C,className:`w-full flex items-center justify-center gap-2 p-2 rounded-lg border-2 border-dashed ${f.dashedBorder} ${f.textSubtle} hover:border-slate-500 hover:text-slate-300 transition-colors`,children:[n.jsx(ir,{className:"w-4 h-4"})," Add Homey Layout"]})]})]})},Ix=({isOpen:s,onClose:r,settings:c,onSettingsChange:i,pageTitle:f,onPageTitleChange:m,themeClasses:h,onExport:y,onImport:w,onReset:x,dashboards:N,onDashboardsChange:j,activeDashboardId:S,setActiveDashboardId:A,appVersion:V})=>{var O;const J=v.useRef(null),[ee,P]=v.useState("layout"),[M,Z]=v.useState(c.customThemeColors),[T,B]=v.useState(null),[C,L]=v.useState(null),se=()=>{B(null),r()},we=()=>{var $;($=J.current)==null||$.click()},Se=$=>{const{name:_,value:Q}=$.target,W=_==="columnGap";i({...c,[_]:W?parseFloat(Q):parseInt(Q,10)})},z=$=>{const{name:_,checked:Q}=$.target;i({...c,[_]:Q})},ue=$=>{const{name:_,value:Q}=$.target;i({...c,[_]:Q})},ce=$=>{const{name:_,value:Q}=$.target;i({...c,[_]:parseInt(Q,10)})},Ce=$=>{const{name:_,value:Q}=$.target,W={...M,[_]:Q};Z(W),i({...c,customThemeColors:W})},Te=((O=h.inputFocusRing.split(" ").find($=>$.startsWith("focus:ring-")))==null?void 0:O.replace("focus:",""))||"ring-indigo-500",D=[{id:"layout",name:"Layout & Appearance"},{id:"dashboards",name:"Dashboards"},{id:"features",name:"Features"},{id:"theme",name:"Theme"},{id:"homey",name:"Homey"},{id:"backup",name:"Backup & Restore"},{id:"about",name:"About"}],U=[{id:"background",label:"Body Background"},{id:"panel",label:"Panel Background"},{id:"primary",label:"Primary Color"},{id:"secondary",label:"Secondary Color"},{id:"text",label:"Text Color"}],G=navigator.language.startsWith("sv"),be=G?"https://kattstallet.se/att-hjalpa/":"https://www.paypal.com/us/fundraiser/charity/4858974",H=G?"Std Kattstallet":"Donate via PayPal",b=()=>{localStorage.setItem("startpage_donation_hidden_until",(Date.now()+7776e6).toString()),window.open(be,"_blank")};return n.jsx(du,{isOpen:s,onClose:se,title:"Global Settings",themeClasses:h,hideOverlay:ee==="theme"&&c.theme==="custom",children:n.jsxs("div",{className:`${h.modalMutedText}`,children:[n.jsx("div",{className:"border-b border-slate-700 mb-6",children:n.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto","aria-label":"Tabs",children:D.map($=>n.jsx("button",{onClick:()=>P($.id),className:`flex-shrink-0 whitespace-nowrap py-3 px-2 border-b-2 font-medium text-sm transition-colors ${ee===$.id?`border-indigo-500 ${h.modalText}`:`border-transparent ${h.modalMutedText} hover:border-slate-400 ${h.buttonIconHoverText}`}`,children:$.name},$.id))})}),n.jsxs("div",{className:"min-h-[350px] max-h-[70vh] overflow-y-auto p-2",children:[ee==="layout"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pageTitle",className:`block text-sm font-medium ${h.modalMutedText} mb-1`,children:"Page Title"}),n.jsx("input",{type:"text",id:"pageTitle",name:"pageTitle",value:f,onChange:$=>m($.target.value),className:`w-full p-2 rounded-md border ${h.inputBg} ${h.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"columnGap",className:"block text-sm font-medium",children:"Column Gap"}),n.jsx("input",{type:"range",id:"columnGap",name:"columnGap",min:"0",max:"8",step:"0.5",value:c.columnGap,onChange:Se,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer mt-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 px-1",children:[n.jsx("span",{children:"Tight"}),n.jsx("span",{children:"Wide"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"groupGap",className:"block text-sm font-medium",children:"Group Gap"}),n.jsx("input",{type:"range",id:"groupGap",name:"groupGap",min:"1",max:"10",value:c.groupGap,onChange:Se,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer mt-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 px-1",children:[n.jsx("span",{children:"Tight"}),n.jsx("span",{children:"Wide"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"columnWidth",className:"block text-sm font-medium",children:"Global Column Size"}),n.jsx("input",{type:"range",id:"columnWidth",name:"columnWidth",min:"1",max:"9",value:c.columnWidth,onChange:Se,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer mt-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 px-1",children:[n.jsx("span",{children:"Smaller"}),n.jsx("span",{children:"Larger"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"scale",className:"block text-sm font-medium",children:"UI Scale"}),n.jsx("input",{type:"range",id:"scale",name:"scale",min:"1",max:"11",value:c.scale,onChange:Se,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer mt-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 px-1",children:[n.jsx("span",{children:"Smallest"}),n.jsx("span",{children:"Largest"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showColumnTitles",className:"text-sm font-medium",children:"Show Column Titles"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showColumnTitles",name:"showColumnTitles",checked:c.showColumnTitles,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"hideColumnBackground",className:"text-sm font-medium",children:"Hide Column Background"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"hideColumnBackground",name:"hideColumnBackground",checked:c.hideColumnBackground,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"centerContent",className:"text-sm font-medium",children:"Center Content"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"centerContent",name:"centerContent",checked:c.centerContent,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showGroupToggles",className:"text-sm font-medium",children:"Show Collapse Arrows"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showGroupToggles",name:"showGroupToggles",checked:c.showGroupToggles??!0,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),ee==="dashboards"&&n.jsx(Ux,{dashboards:N,onDashboardsChange:j,activeDashboardId:S,setActiveDashboardId:A,themeClasses:h,settings:c,onSettingsChange:i,editingDashboardId:T,setEditingDashboardId:B}),ee==="features"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showSearch",className:"text-sm font-medium",children:"Show Search Bar"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showSearch",name:"showSearch",checked:c.showSearch,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"searchEngine",className:"block text-sm font-medium",children:"Search Engine"}),n.jsxs("select",{id:"searchEngine",name:"searchEngine",value:c.searchEngine,onChange:ue,className:`w-full p-2 mt-2 rounded-md border ${h.inputBg} ${h.inputFocusRing}`,children:[n.jsx("option",{value:"google",children:"Google"}),n.jsx("option",{value:"duckduckgo",children:"DuckDuckGo"}),n.jsx("option",{value:"bing",children:"Bing"}),n.jsx("option",{value:"brave",children:"Brave Search"}),n.jsx("option",{value:"ecosia",children:"Ecosia"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-slate-700 flex items-center justify-between",children:[n.jsx("label",{htmlFor:"openLinksInNewTab",className:"text-sm font-medium",children:"Open links in new tab"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"openLinksInNewTab",name:"openLinksInNewTab",checked:c.openLinksInNewTab,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"pt-6 border-t border-slate-700 flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showBottomPanel",className:"text-sm font-medium",children:"Manover panel at Bottom"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showBottomPanel",name:"showBottomPanel",checked:c.showBottomPanel,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"pt-6 border-t border-slate-700 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showQuotes",className:"text-sm font-medium",children:"Daily Quotes"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showQuotes",name:"showQuotes",checked:c.showQuotes,onChange:z,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.showQuotes&&n.jsxs("div",{className:"space-y-3 pl-2 border-l-2 border-slate-700",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"quoteCategory",className:"block text-sm font-medium",children:"Category"}),n.jsxs("select",{id:"quoteCategory",name:"quoteCategory",value:c.quoteCategory,onChange:ue,className:`w-full p-2 mt-1 rounded-md border ${h.inputBg} ${h.inputFocusRing}`,children:[n.jsx("option",{value:"inspirational",children:"Inspirational"}),n.jsx("option",{value:"programming",children:"Programming & Tech"}),n.jsx("option",{value:"philosophy",children:"Philosophy"}),n.jsx("option",{value:"funny",children:"Fun & Witty"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"quoteFrequency",className:"block text-sm font-medium",children:"Update Frequency"}),n.jsxs("select",{id:"quoteFrequency",name:"quoteFrequency",value:c.quoteFrequency,onChange:ue,className:`w-full p-2 mt-1 rounded-md border ${h.inputBg} ${h.inputFocusRing}`,children:[n.jsx("option",{value:"daily",children:"Daily"}),n.jsx("option",{value:"always",children:"Every Page Load"})]})]})]})]})]}),ee==="theme"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Select Theme"}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-4 gap-3",children:[Object.entries(ji).map(([$,_])=>n.jsxs("button",{onClick:()=>i({...c,theme:$}),className:`relative text-left p-2 rounded-lg border-2 transition-all flex items-center gap-3 ${c.theme===$?`${Te.replace("ring-","border-")} shadow-lg scale-105`:"border-slate-700 hover:border-slate-500 opacity-80 hover:opacity-100"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded-full ${_.body} border border-slate-500 flex-shrink-0`}),n.jsx("span",{className:"text-sm font-medium",children:_.name})]},$)),n.jsxs("button",{onClick:()=>i({...c,theme:"custom"}),className:`text-left p-2 rounded-lg border-2 transition-all flex items-center gap-3 ${c.theme==="custom"?`${Te.replace("ring-","border-")} shadow-lg scale-105`:"border-slate-700 hover:border-slate-500 opacity-80 hover:opacity-100"}`,children:[n.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 border border-slate-500 flex-shrink-0 text-white",children:n.jsx(zg,{className:"w-3 h-3"})}),n.jsx("span",{className:"text-sm font-medium",children:"Custom"})]})]})]}),c.theme==="custom"&&n.jsxs("div",{className:"p-4 border border-slate-700 rounded-lg bg-slate-800/50 animate-fade-in-up",children:[n.jsx("h4",{className:"text-sm font-bold mb-3 text-indigo-400 uppercase tracking-wider",children:"Custom Theme Editor"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-6",children:U.map(({id:$,label:_})=>n.jsxs("div",{children:[n.jsx("label",{htmlFor:$,className:"block text-xs font-medium mb-1 text-slate-400",children:_}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:()=>L(Q=>Q===$?null:$),className:"h-9 w-12 border border-slate-500 p-0 cursor-pointer rounded",style:{backgroundColor:M[$]},"aria-label":`Open color palette for ${_}`}),n.jsx("input",{id:$,name:$,type:"text",value:M[$],onChange:Ce,className:`flex-1 px-2 text-xs rounded ${h.inputBg} border border-slate-500 font-mono uppercase focus:border-indigo-500 outline-none`})]}),C===$&&n.jsx(t0,{onSelect:Q=>{Ce({target:{name:$,value:Q}}),L(null)}})]},$))})]})]}),ee==="homey"&&n.jsx(zx,{settings:c,onSettingsChange:i,themeClasses:h}),ee==="backup"&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-3",children:"Backup & Restore"}),n.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Save all your columns, links, and settings to a file, or restore them from a backup."}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"backupReminderInterval",className:"block text-sm font-medium mb-1",children:"Remind me to backup (after latest Edit):"}),n.jsxs("select",{id:"backupReminderInterval",name:"backupReminderInterval",value:c.backupReminderInterval??7,onChange:ce,className:`w-full p-2 rounded-md border ${h.inputBg} ${h.inputFocusRing}`,children:[n.jsx("option",{value:"0",children:"Never"}),n.jsx("option",{value:3,children:"Every 3 days"}),n.jsx("option",{value:7,children:"Every 7 days (Default)"}),n.jsx("option",{value:14,children:"Every 14 days"}),n.jsx("option",{value:30,children:"Every 30 days"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:y,className:`flex items-center justify-center gap-2 ${h.buttonSecondary} font-semibold py-2 px-4 rounded-lg transition-colors`,children:[n.jsx(_i,{}),"Export Data"]}),n.jsxs("button",{onClick:we,className:`flex items-center justify-center gap-2 ${h.buttonSecondary} font-semibold py-2 px-4 rounded-lg transition-colors`,children:[n.jsx(Og,{}),"Import Data"]}),n.jsx("input",{type:"file",ref:J,onChange:w,accept:"application/json",className:"hidden"})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700",children:[n.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Reset Application"}),n.jsx("p",{className:"text-xs text-slate-400 mt-2 mb-4",children:"This will permanently delete all your columns, links, and settings, and restore the startpage to its default state. This action cannot be undone."}),n.jsx("button",{onClick:x,className:`w-full sm:w-auto ${h.buttonDanger} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"Reset to Defaults"})]})]}),ee==="about"&&n.jsxs("div",{className:"space-y-4 text-sm leading-relaxed pr-2 overscroll-contain",children:[n.jsx("h3",{className:`text-lg font-bold ${h.modalText}`,children:"About StartPanel"}),n.jsxs("p",{className:"text-xs text-slate-400",children:["Version ",V]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-1",children:"How Your Data is Saved"}),n.jsx("p",{children:"All your settings, links, and widgets are stored directly in your web browser's local storage. This means your data stays on your device and is not sent to any external server, ensuring your privacy."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-1 text-amber-400",children:"Important: Backup Your Data"}),n.jsx("p",{children:"Because all data is stored locally, it can be permanently lost if you clear your browser's data, if the browser has a critical error, or if you switch to a different device."}),n.jsxs("p",{className:"mt-2",children:["We ",n.jsx("strong",{className:"font-bold",children:"strongly recommend"}),' that you regularly use the "Export Data" feature in the "Backup & Restore" tab to save a backup file of your configuration to a safe place.']})]}),n.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[n.jsx("h4",{className:"font-semibold mb-1",children:"How to Run StartPanel"}),n.jsx("h5",{className:"font-semibold mt-2 mb-1",children:"1. Run via GitHub Pages"}),n.jsxs("p",{children:["Open directly in your browser:",n.jsx("br",{}),n.jsx("a",{href:"https://nicce70.github.io/StartPanel/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"https://nicce70.github.io/StartPanel/"})]}),n.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Homey control works only with Webhooks."}),n.jsx("h5",{className:"font-semibold mt-3 mb-1",children:"2. Run from NAS / Local Web Server"}),n.jsxs("p",{children:["Download the compiled ",n.jsx("code",{children:"/docs"})," folder from the GitHub Releases page and place it on your NAS web server."]}),n.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Apache, Nginx, Lighttpd, Asustor ADM and similar servers work fine. Running locally enables both Homey webhooks and status readback by polling."}),n.jsxs("p",{className:"mt-3",children:["Detailed setup instructions can be found in the README on GitHub:",n.jsx("br",{}),n.jsx("a",{href:"https://github.com/Nicce70/StartPanel",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"https://github.com/Nicce70/StartPanel"})]}),n.jsx("p",{className:"mt-3 text-xs text-slate-400",children:"No backend, no cloud, and no database is required  everything runs directly in your browser."})]}),n.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[n.jsxs("h4",{className:"font-semibold mb-2 text-red-400 flex items-center gap-2",children:[n.jsx(os,{className:"w-4 h-4"}),G?"Std ett katthem":"Donate to Cat Shelter"]}),n.jsx("p",{className:"mb-3",children:G?"Denna app r gratis! Om du tycker den r anvndbar, vervg grna en liten donation fr att hjlpa katter i nd.":"This app is free! If you find it useful, please consider making a small donation to help cats in need."}),n.jsxs("button",{onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 rounded-md text-xs font-bold ${h.buttonPrimary} transition-colors`,children:[n.jsx(os,{className:"w-3 h-3"}),H]})]}),n.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[n.jsx("h4",{className:"font-semibold mb-1",children:"Credits"}),n.jsx("p",{children:"This is a freeware application created by Niklas Holmgren."}),n.jsx("p",{children:"Powered by Google AI Studio."})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 mt-6 border-t border-slate-700",children:[n.jsxs("span",{className:`text-xs ${h.textSubtle}`,children:["Version ",V]}),n.jsx("div",{className:"flex justify-end gap-3",children:!T&&n.jsx("button",{type:"button",onClick:se,className:`${h.buttonPrimary} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"Done"})})]})]})})},Fx=({group:s,onClose:r,themeClasses:c,openLinksInNewTab:i})=>{var h;const f=v.useRef(null),m=!!((h=s.widgetSettings)!=null&&h.compactMode);return v.useEffect(()=>{const y=w=>{w.key==="Escape"&&r()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[r]),n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:r,children:n.jsxs("div",{ref:f,onClick:y=>y.stopPropagation(),onMouseDown:y=>y.stopPropagation(),onTouchStart:y=>y.stopPropagation(),className:`relative w-full max-w-md p-4 rounded-lg shadow-2xl border ${c.modalBg} ${c.dashedBorder}`,children:[n.jsx("button",{onClick:r,className:`absolute top-3 right-3 p-1 rounded-full ${c.iconMuted} hover:text-white hover:bg-white/10`,children:n.jsx(Sa,{className:"w-5 h-5"})}),n.jsx("h2",{className:`text-lg font-bold mb-4 pr-8 ${c.header}`,children:s.name}),n.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:n.jsx("div",{className:m?"space-y-1":"space-y-2",children:s.items.map(y=>y.type==="link"?n.jsx(Ph,{link:y,groupId:s.id,columnId:"",isEditMode:!1,onEdit:()=>{},onDelete:()=>{},onPointerDown:()=>{},draggedItem:null,dropTarget:null,themeClasses:c,openLinksInNewTab:i,compact:m,onLinkClick:r},y.id):y.type==="separator"?n.jsx(e0,{separator:y,groupId:s.id,columnId:"",isEditMode:!1,onDelete:()=>{},onPointerDown:()=>{},draggedItem:null,dropTarget:null,themeClasses:c,compact:m},y.id):null)})})]})})},Vc="startpage_donation_hidden_until",yh="startpage_first_visit",Vx=({themeClasses:s})=>{const[r,c]=v.useState(!1),i=navigator.language.startsWith("sv"),f={url:i?"https://kattstallet.se/att-hjalpa/":"https://www.paypal.com/us/fundraiser/charity/4858974",header:i?"Std ett katthem":"Support a Cat Shelter",body:i?"Denna app r gratis! Om du tycker den r anvndbar, vervg grna en liten donation fr att hjlpa katter i nd.":"This app is free! If you find it useful, please consider making a small donation to help cats in need.",buttonText:i?"Std Kattstallet":"Donate via PayPal"};v.useEffect(()=>{const y=Date.now(),w=localStorage.getItem(Vc);if(w&&y<parseInt(w,10)){c(!1);return}const x=localStorage.getItem(yh);if(!x){localStorage.setItem(yh,y.toString()),c(!1);return}const N=720*60*60*1e3;if(y-parseInt(x,10)<N){c(!1);return}c(!0)},[]);const m=()=>{localStorage.setItem(Vc,(Date.now()+7776e6).toString()),window.open(f.url,"_blank"),c(!1)},h=()=>{localStorage.setItem(Vc,(Date.now()+7776e6).toString()),c(!1)};return r?n.jsxs("div",{className:`fixed bottom-4 left-4 z-40 max-w-sm p-5 rounded-lg shadow-xl border ${s.modalBg} ${s.dashedBorder} animate-fade-in-up`,onMouseDown:y=>y.stopPropagation(),onTouchStart:y=>y.stopPropagation(),children:[n.jsx("button",{onClick:h,className:"absolute top-2 right-2 p-1 rounded-full text-slate-400 hover:bg-white/10 hover:text-white transition-colors",title:"Dismiss for 90 days",children:n.jsx(Sa,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex justify-between items-start mb-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[n.jsx(os,{className:"w-6 h-6 animate-pulse"}),n.jsx("h3",{className:`font-bold text-lg ${s.header}`,children:f.header})]})}),n.jsx("p",{className:`text-sm mb-4 leading-relaxed ${s.textMuted}`,children:f.body}),n.jsxs("button",{onClick:m,className:`w-full flex items-center justify-center gap-2 text-sm font-bold py-3 rounded-md transition-colors ${s.buttonPrimary}`,children:[n.jsx(os,{className:"w-4 h-4"}),f.buttonText]})]}):null},vh={inspirational:[{text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"It does not matter how slowly you go as long as you do not stop.",author:"Confucius"},{text:"Your time is limited, don't waste it living someone else's life.",author:"Steve Jobs"},{text:"Everything you've ever wanted is on the other side of fear.",author:"George Addair"},{text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill"},{text:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt"},{text:"Do not wait to strike till the iron is hot, but make it hot by striking.",author:"William Butler Yeats"},{text:"It is never too late to be what you might have been.",author:"George Eliot"},{text:"Happiness is not something ready made. It comes from your own actions.",author:"Dalai Lama"}],programming:[{text:"Talk is cheap. Show me the code.",author:"Linus Torvalds"},{text:"Programs must be written for people to read, and only incidentally for machines to execute.",author:"Harold Abelson"},{text:"Any fool can write code that a computer can understand. Good programmers write code that humans can understand.",author:"Martin Fowler"},{text:"First, solve the problem. Then, write the code.",author:"John Johnson"},{text:"Experience is the name everyone gives to their mistakes.",author:"Oscar Wilde"},{text:"Java is to JavaScript what car is to Carpet.",author:"Chris Heilmann"},{text:"Knowledge is power.",author:"Francis Bacon"},{text:"Simplicity is the soul of efficiency.",author:"Austin Freeman"},{text:"Before software can be reusable it first has to be usable.",author:"Ralph Johnson"},{text:"Make it work, make it right, make it fast.",author:"Kent Beck"}],philosophy:[{text:"The unexamined life is not worth living.",author:"Socrates"},{text:"I think, therefore I am.",author:"Ren Descartes"},{text:"He who has a why to live can bear almost any how.",author:"Friedrich Nietzsche"},{text:"We are what we repeatedly do. Excellence, then, is not an act, but a habit.",author:"Aristotle"},{text:"Man is condemned to be free.",author:"Jean-Paul Sartre"},{text:"The only thing I know is that I know nothing.",author:"Socrates"},{text:"Life must be understood backward. But it must be lived forward.",author:"Sren Kierkegaard"},{text:"Waste no more time arguing about what a good man should be. Be one.",author:"Marcus Aurelius"},{text:"Happiness depends upon ourselves.",author:"Aristotle"},{text:"No man's knowledge here can go beyond his experience.",author:"John Locke"}],funny:[{text:"I am so clever that sometimes I don't understand a single word of what I am saying.",author:"Oscar Wilde"},{text:"People say nothing is impossible, but I do nothing every day.",author:"A.A. Milne"},{text:"Behind every great man is a woman rolling her eyes.",author:"Jim Carrey"},{text:"If you think you are too small to make a difference, try sleeping with a mosquito.",author:"Dalai Lama"},{text:"My bed is a magical place where I suddenly remember everything I forgot to do.",author:"Unknown"},{text:"Common sense is like deodorant. The people who need it most never use it.",author:"Unknown"},{text:"I'm not lazy, I'm on energy saving mode.",author:"Unknown"},{text:"Life is short. Smile while you still have teeth.",author:"Unknown"},{text:"The road to success is dotted with many tempting parking spaces.",author:"Will Rogers"},{text:"A day without sunshine is like, you know, night.",author:"Steve Martin"}]},qc="startpage_cached_quote",wh="startpage_quote_dismissed",qx=({settings:s,themeClasses:r})=>{const[c,i]=v.useState(null),[f,m]=v.useState(!1),[h,y]=v.useState(!1),w=v.useCallback(S=>{const A=vh[S]||vh.inspirational,V=Math.floor(Math.random()*A.length);return A[V]},[]);v.useEffect(()=>{if(!s.showQuotes){m(!1);return}const A=new Date().toDateString();if(s.quoteFrequency==="daily"&&localStorage.getItem(wh)===A){m(!1);return}let V=null;if(s.quoteFrequency==="daily"){const J=localStorage.getItem(qc);if(J)try{const{quote:ee,date:P,category:M}=JSON.parse(J);P===A&&M===s.quoteCategory&&(V=ee)}catch{}}V||(V=w(s.quoteCategory),s.quoteFrequency==="daily"&&localStorage.setItem(qc,JSON.stringify({quote:V,date:A,category:s.quoteCategory}))),i(V),m(!0)},[s.showQuotes,s.quoteCategory,s.quoteFrequency,w]);const x=()=>{m(!1),s.quoteFrequency==="daily"&&localStorage.setItem(wh,new Date().toDateString())},N=()=>{const S=w(s.quoteCategory);i(S),s.quoteFrequency==="daily"&&localStorage.setItem(qc,JSON.stringify({quote:S,date:new Date().toDateString(),category:s.quoteCategory}))},j=()=>{if(!c)return;const S=`"${c.text}"  ${c.author}`;navigator.clipboard.writeText(S).then(()=>{y(!0),setTimeout(()=>y(!1),2e3)})};return!f||!c?null:n.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-30 w-[90%] max-w-2xl",children:n.jsxs("div",{className:`relative p-6 rounded-xl shadow-2xl backdrop-blur-md border ${r.modalBg.replace("bg-","bg-opacity-90 bg-")} ${r.dashedBorder} transition-all duration-300 animate-fade-in-up`,onMouseDown:S=>S.stopPropagation(),onTouchStart:S=>S.stopPropagation(),children:[n.jsx("div",{className:"absolute -top-4 -left-4 opacity-10 rotate-12 pointer-events-none",children:n.jsx(Lg,{className:`w-16 h-16 ${r.modalText}`})}),n.jsx("button",{onClick:x,className:`absolute top-2 right-2 p-1 rounded-full ${r.iconMuted} hover:text-white hover:bg-white/10 transition-colors`,title:s.quoteFrequency==="daily"?"Close for today":"Close",children:n.jsx(Sa,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsxs("p",{className:`text-lg md:text-xl font-serif italic leading-relaxed ${r.modalText}`,children:['"',c.text,'"']}),n.jsxs("p",{className:`text-sm font-semibold uppercase tracking-wider ${r.textSubtle}`,children:[" ",c.author]})]}),n.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1",children:[n.jsx("button",{onClick:N,className:`p-1.5 rounded-md ${r.iconMuted} hover:text-white hover:bg-white/10 transition-colors`,title:"New Quote",children:n.jsx(ka,{className:"w-4 h-4"})}),n.jsx("button",{onClick:j,className:`p-1.5 rounded-md ${r.iconMuted} hover:text-white hover:bg-white/10 transition-colors`,title:"Copy to Clipboard",children:h?n.jsx(el,{className:"w-4 h-4 text-green-400"}):n.jsx(su,{className:"w-4 h-4"})})]})]})})},Yx=({dashboards:s,activeDashboardId:r,setActiveDashboardId:c,themeClasses:i,isEditMode:f})=>{const m=()=>{const N=(s.findIndex(j=>j.id===r)+1)%s.length;c(s[N].id)},h=()=>{const N=(s.findIndex(j=>j.id===r)-1+s.length)%s.length;c(s[N].id)},y=()=>{window.location.reload()},w=`p-3 rounded-full transition-colors disabled:opacity-30 disabled:cursor-not-allowed ${i.buttonSecondary}`;return n.jsxs("div",{className:`flex-shrink-0 z-30 flex items-center justify-between h-16 px-4 border-t ${i.modalBg.replace("bg-","bg-opacity-80 bg-")} ${i.dashedBorder} backdrop-blur-sm`,onMouseDown:x=>x.stopPropagation(),onTouchStart:x=>x.stopPropagation(),children:[s.length>1?n.jsx("button",{onClick:h,disabled:f,className:w,"aria-label":"Previous dashboard",title:"Previous dashboard",children:n.jsx(uu,{className:"w-6 h-6"})}):n.jsx("div",{}),n.jsx("button",{onClick:y,disabled:f,className:w,"aria-label":"Update page",title:"Update page",children:n.jsx(ka,{className:"w-6 h-6"})}),s.length>1?n.jsx("button",{onClick:m,disabled:f,className:w,"aria-label":"Next dashboard",title:"Next dashboard",children:n.jsx(Wh,{className:"w-6 h-6"})}):n.jsx("div",{})]})},Gx=({isVisible:s,onBackupNow:r,onDismiss:c,themeClasses:i})=>s?n.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 w-[95%] max-w-lg p-4 rounded-lg shadow-xl border bg-yellow-900/80 border-yellow-700/50 backdrop-blur-md animate-fade-in-up",children:[n.jsx("button",{onClick:c,className:"absolute top-2 right-2 p-1 rounded-full text-yellow-200 hover:bg-yellow-700/50 transition-colors",title:"Dismiss",children:n.jsx(Sa,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(jl,{className:"w-8 h-8 text-yellow-300"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-yellow-200",children:"Remember to Backup!"}),n.jsx("p",{className:"text-sm text-yellow-200/90",children:"You've made changes since your last backup. Export your data to prevent loss."})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[n.jsx("button",{onClick:c,className:"text-sm font-semibold text-yellow-200 hover:text-white px-4 py-2 rounded-md",children:"Dismiss"}),n.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-sm font-bold bg-yellow-500 text-yellow-950 hover:bg-yellow-400 px-4 py-2 rounded-md transition-colors shadow",children:[n.jsx(_i,{className:"w-4 h-4"}),"Export Now"]})]})]}):null,Zx=({latestVersion:s,releaseNotes:r,onUpdate:c,onDismiss:i,themeClasses:f})=>{const[m,h]=v.useState(!1);return n.jsxs("div",{className:`relative z-50 p-4 border-b ${f.modalBg.replace("bg-","bg-opacity-95 bg-")} ${f.dashedBorder} shadow-lg animate-fade-in-down`,children:[n.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Yg,{className:"w-6 h-6 text-indigo-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold",children:["New Version Available: ",s]}),n.jsxs("button",{onClick:()=>h(!m),className:"text-sm text-indigo-400 hover:underline flex items-center gap-1",children:[m?"Hide":"Show"," Release Notes",n.jsx(cr,{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 w-full sm:w-auto",children:[n.jsx("button",{onClick:i,className:`flex-1 sm:flex-initial text-sm font-semibold py-2 px-4 rounded-lg transition-colors ${f.buttonSecondary}`,children:"Pminn mig senare"}),n.jsxs("button",{onClick:c,className:`flex-1 sm:flex-initial flex items-center justify-center gap-2 text-sm font-bold py-2 px-4 rounded-lg transition-colors ${f.buttonPrimary}`,children:[n.jsx(_i,{className:"w-4 h-4"}),"Update Now"]})]})]}),m&&n.jsxs("div",{className:"max-w-7xl mx-auto mt-4 pt-4 border-t border-slate-700 animate-fade-in",children:[n.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider text-slate-400 mb-2",children:"What's New:"}),n.jsx("pre",{className:"w-full max-h-48 overflow-y-auto p-3 rounded-md bg-black/20 text-sm text-slate-300 whitespace-pre-wrap font-sans",children:r||"No release notes provided."})]})]})},Qx=({currentColor:s,themeClasses:r})=>{const[c,i]=v.useState(s||"default"),f=r.ring.replace("ring-","ring-offset-"),m=`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8' height='8' fill-opacity='1'%3e%3cpath d='M0 0h4v4H0V0zm4 4h4v4H4V4z' fill='%23E5E7EB'/%3e%3cpath d='M4 0h4v4H4V0zm0 8V4H0v4h4z' fill='%23FFFFFF'/%3e%3c/svg%3e")`,h=[{id:"default",name:"Default",bgClass:r.groupBg},{id:"secondary",name:"Secondary",bgClass:r.groupBgSecondary},{id:"tertiary",name:"Tertiary",bgClass:r.groupBgTertiary},{id:"quaternary",name:"Alternative (Light/Dark)",bgClass:r.groupBgQuaternary},{id:"quinary",name:"Alternative (Darker)",bgClass:r.groupBgQuinary}],y=[{id:"green",name:"Green",bgClass:"bg-[#60B162]"},{id:"gray",name:"Light Gray",bgClass:"bg-[#F2F2F2]"},{id:"black",name:"Almost Black",bgClass:"bg-[#0a0a0a]"},{id:"dark_blue",name:"Midnight Blue",bgClass:"bg-[#172554]"},{id:"transparent",name:"Transparent",bgStyle:{backgroundImage:m}}],w=x=>n.jsxs("label",{className:"relative cursor-pointer group",children:[n.jsx("input",{type:"radio",name:"colorVariant",value:x.id,checked:c===x.id,onChange:()=>i(x.id),className:"sr-only"}),n.jsx("div",{className:`w-10 h-10 rounded-lg border-2 border-black/50 transition-all ${x.bgClass||""} ${c===x.id?`ring-2 ring-white ${f}`:"hover:scale-105 opacity-80 hover:opacity-100"}`,style:x.bgStyle||{},title:x.name})]},x.id);return n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:`block text-sm font-medium ${r.modalMutedText} mb-2`,children:"Background Color"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-black/20 border border-slate-700/50 h-full",children:[n.jsx("span",{className:"text-[9px] uppercase font-bold tracking-wider text-slate-400 mb-2 block text-center",children:"Theme Adaptive (Dynamic)"}),n.jsx("div",{className:"flex gap-1 flex-wrap justify-center",children:h.map(w)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-black/20 border border-slate-700/50 h-full",children:[n.jsx("span",{className:"text-[9px] uppercase font-bold tracking-wider text-slate-400 mb-2 block text-center",children:"Fixed Colors (Static)"}),n.jsx("div",{className:"flex gap-1 flex-wrap justify-center",children:y.map(w)})]})]})]})},jh=["AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","SEK","SGD","THB","TRY","USD","ZAR"],Xx=({group:s,themeClasses:r})=>{var h,y;const c=((h=s.widgetSettings)==null?void 0:h.currencyBase)||"USD",i=((y=s.widgetSettings)==null?void 0:y.currencyTargets)||[],[f,m]=v.useState(c);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currencyBase",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Base Currency (Your Currency)"}),n.jsx("select",{id:"currencyBase",name:"currencyBase",value:f,onChange:w=>m(w.target.value),className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`,children:jh.map(w=>n.jsx("option",{value:w,children:w},w))})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${r.modalMutedText} mb-2`,children:"Currencies to Monitor"}),n.jsx("div",{className:`grid grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 rounded-md border ${r.inputBg} border-slate-600`,children:jh.filter(w=>w!==f).map(w=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-white/5 rounded p-1",children:[n.jsx("input",{type:"checkbox",name:"currencyTargets",value:w,defaultChecked:i.includes(w),className:"rounded text-indigo-600 bg-slate-700 border-slate-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm",children:w})]},w))})]})]})},Jx=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s==="x"?r:r&3|8).toString(16)}),Kx=({group:s,themeClasses:r})=>{var w;const[c,i]=v.useState(((w=s.widgetSettings)==null?void 0:w.webhookItems)||[]),f=()=>{const x={id:Jx(),name:"New Button",url:"http://",method:"GET"};i([...c,x])},m=(x,N,j)=>{i(c.map(S=>S.id===x?{...S,[N]:j}:S))},h=x=>{i(c.filter(N=>N.id!==x))},y=(x,N)=>{if(N==="up"&&x>0){const j=[...c];[j[x-1],j[x]]=[j[x],j[x-1]],i(j)}else if(N==="down"&&x<c.length-1){const j=[...c];[j[x],j[x+1]]=[j[x+1],j[x]],i(j)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-md text-xs text-yellow-200 mb-4",children:[n.jsx("strong",{children:"Important Network Limitation:"}),n.jsx("br",{}),"If you are viewing this dashboard via ",n.jsx("strong",{children:"HTTPS"}),", modern browsers will block requests to local ",n.jsx("strong",{children:"HTTP"})," addresses (like 192.168.x.x).",n.jsxs("ul",{className:"list-disc list-inside mt-1 opacity-80",children:[n.jsxs("li",{children:["Use ",n.jsx("strong",{children:"HTTPS"})," URLs for your webhooks (e.g., Homey Cloud)."]}),n.jsxs("li",{children:["Or host this dashboard via ",n.jsx("strong",{children:"HTTP"})," on your local network."]})]})]}),n.jsx("input",{type:"hidden",name:"webhookItemsJSON",value:JSON.stringify(c)}),n.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:c.map((x,N)=>n.jsxs("div",{className:`p-3 rounded-lg border ${r.inputBg} border-slate-600 flex flex-col gap-2`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:x.name,onChange:j=>m(x.id,"name",j.target.value),placeholder:"Button Name",maxLength:30,className:`flex-1 p-1.5 rounded text-sm ${r.modalBg} border border-slate-500 focus:border-indigo-500 outline-none`}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{type:"button",onClick:()=>y(N,"up"),disabled:N===0,className:`p-1 ${r.iconMuted} hover:text-white disabled:opacity-30`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}),n.jsx("button",{type:"button",onClick:()=>y(N,"down"),disabled:N===c.length-1,className:`p-1 ${r.iconMuted} hover:text-white disabled:opacity-30`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}),n.jsx("button",{type:"button",onClick:()=>h(x.id),className:"p-1 text-red-400 hover:text-red-300",children:n.jsx(mn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:x.method,onChange:j=>m(x.id,"method",j.target.value),className:`w-40 p-1.5 rounded text-sm ${r.modalBg} border border-slate-500 focus:border-indigo-500 outline-none`,children:[n.jsx("option",{value:"GET",children:"GET (Fetch)"}),n.jsx("option",{value:"POST",children:"POST (Fetch)"}),n.jsx("option",{value:"navigate",children:"Background (Iframe)"})]}),n.jsx("input",{type:"url",value:x.url,onChange:j=>m(x.id,"url",j.target.value),placeholder:"http://192.168.1.x/api/trigger",className:`flex-1 p-1.5 rounded text-sm ${r.modalBg} border border-slate-500 focus:border-indigo-500 outline-none font-mono`})]})]},x.id))}),n.jsxs("button",{type:"button",onClick:f,className:`w-full flex items-center justify-center gap-2 p-2 rounded-lg border-2 border-dashed ${r.dashedBorder} ${r.textSubtle} hover:border-slate-500 hover:text-slate-300 transition-colors`,children:[n.jsx(Ta,{className:"w-4 h-4"}),"Add Button"]})]})},Wx=({group:s,themeClasses:r,globalIp:c,globalToken:i})=>{var be,H,b,O,$,_,Q,W;const[f,m]=v.useState(((H=(be=s.widgetSettings)==null?void 0:be.homeySettings)==null?void 0:H.selectedCapabilities)||[]),[h,y]=v.useState(((O=(b=s.widgetSettings)==null?void 0:b.homeySettings)==null?void 0:O.selectedFlows)||[]),[w,x]=v.useState({}),[N,j]=v.useState({}),[S,A]=v.useState({}),[V,J]=v.useState(!1),[ee,P]=v.useState(null),[M,Z]=v.useState("all"),[T,B]=v.useState(((_=($=s.widgetSettings)==null?void 0:$.homeySettings)==null?void 0:_.enableScroll)??!0),[C,L]=v.useState(((W=(Q=s.widgetSettings)==null?void 0:Q.homeySettings)==null?void 0:W.showOneRow)??!1),[se,we]=v.useState("items"),Se=async()=>{if(!c||!i){P("Homey IP and Token must be configured in global Settings first.");return}J(!0),P(null);const ae=i.replace(/^Bearer\s+/i,"").trim();let te=c.trim();te.startsWith("http")||(te=`http://${te}`);try{const me={Authorization:`Bearer ${ae}`},[le,p,ye]=await Promise.all([fetch(`${te}/api/manager/devices/device`,{headers:me}),fetch(`${te}/api/manager/zones/zone`,{headers:me}),fetch(`${te}/api/manager/flow/flow`,{headers:me})]);if(!le.ok||!p.ok||!ye.ok)throw[le.status,p.status,ye.status].includes(0)?new Error("Connection Refused. Ensure you are on HTTP."):new Error("Failed to fetch data. Check global settings.");const[fe,ge,de]=await Promise.all([le.json(),p.json(),ye.json()]);x(fe),j(ge);const De={};for(const Ue in de)de[Ue].triggerable&&(De[Ue]=de[Ue]);A(De)}catch(me){console.error(me),P(me instanceof Error?me.message:"Unknown error. Mixed Content issue?")}finally{J(!1)}};v.useEffect(()=>{Se()},[c,i]);const z=(ae,te)=>f.some(me=>me.deviceId===ae&&me.capabilityId===te),ue=(ae,te)=>{z(ae,te)?m(me=>me.filter(le=>!(le.deviceId===ae&&le.capabilityId===te))):m(me=>[...me,{deviceId:ae,capabilityId:te}])},ce=ae=>h.some(te=>te.flowId===ae),Ce=ae=>{ce(ae)?y(te=>te.filter(me=>me.flowId!==ae)):y(te=>[...te,{flowId:ae}])},Te=v.useMemo(()=>Object.values(N).sort((ae,te)=>ae.name.localeCompare(te.name)),[N]),D=v.useMemo(()=>Object.values(S).sort((ae,te)=>ae.name.localeCompare(te.name)),[S]),U=({name:ae,type:te})=>n.jsx("button",{type:"button",onClick:()=>we(te),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-colors ${se===te?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:ae}),G=({name:ae,type:te})=>n.jsx("button",{type:"button",onClick:()=>Z(te),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-colors ${M===te?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:ae});return n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"hidden",name:"selectedCapabilitiesJSON",value:JSON.stringify(f)}),n.jsx("input",{type:"hidden",name:"selectedFlowsJSON",value:JSON.stringify(h)}),T&&n.jsx("input",{type:"hidden",name:"enableScroll",value:"on"}),C&&n.jsx("input",{type:"hidden",name:"showOneRow",value:"on"}),n.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-lg gap-1",children:[n.jsx(U,{name:"Items",type:"items"}),n.jsx(U,{name:"Display",type:"display"})]}),se==="items"&&n.jsx("div",{className:"space-y-4",children:!c||!i?n.jsxs("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-md text-sm text-yellow-200 text-center",children:["Please configure your Homey's IP Address and API Token in the main ",n.jsx("strong",{children:"Settings  Homey"})," tab first."]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:`font-bold ${r.modalText}`,children:"Select Items to Display"}),n.jsx("button",{type:"button",onClick:Se,className:`p-1.5 rounded hover:bg-white/10 transition-colors ${r.iconMuted}`,title:"Refresh List",children:n.jsx(ka,{className:`w-4 h-4 ${V?"animate-spin":""}`})})]}),n.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-lg gap-1",children:[n.jsx(G,{name:"All",type:"all"}),n.jsx(G,{name:"Toggles",type:"toggle"}),n.jsx(G,{name:"Sensors",type:"sensor"}),n.jsx(G,{name:"Flows",type:"flow"})]}),ee&&n.jsx("div",{className:"text-red-400 text-sm",children:ee}),n.jsx("div",{className:`max-h-80 overflow-y-auto border rounded-md ${r.inputBg} ${r.dashedBorder} space-y-2 p-2`,children:V?n.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"Loading devices & flows..."}):n.jsxs(n.Fragment,{children:[(M==="all"||M==="toggle"||M==="sensor")&&Te.map(ae=>{const te=Object.values(w).filter(me=>{if(me.zone!==ae.id)return!1;const le=me.capabilities.includes("onoff"),p=me.capabilities.some(ye=>ye!=="onoff");return M==="toggle"?le:M==="sensor"?p:!0});return te.length===0?null:n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-xs uppercase tracking-wider text-indigo-400 mb-2 mt-3 px-1",children:ae.name}),te.map(me=>n.jsxs("div",{className:"p-2 rounded-md bg-black/20 mb-2",children:[n.jsx("div",{className:"font-medium text-sm mb-2",children:me.name}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(me.capabilitiesObj).map(([le,p])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-white/10 rounded p-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:z(me.id,le),onChange:()=>ue(me.id,le),className:"rounded border-slate-600 text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{children:le==="onoff"?"Toggle":p.title})]},le))})]},me.id))]},ae.id)}),(M==="all"||M==="flow")&&D.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-xs uppercase tracking-wider text-fuchsia-400 mb-2 mt-4 px-1",children:"Flows"}),n.jsx("div",{className:"p-2 rounded-md bg-black/20 mb-2 space-y-3",children:n.jsx("div",{className:"space-y-1",children:D.map(ae=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-white/10 rounded p-1 text-sm",children:[n.jsx("input",{type:"checkbox",checked:ce(ae.id),onChange:()=>Ce(ae.id),className:"rounded border-slate-600 text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"truncate",children:ae.name})]},ae.id))})})]}),!V&&Object.keys(w).length===0&&Object.keys(S).length===0&&n.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"No devices or flows found."})]})})]})}),se==="display"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"enableScroll",className:"text-sm font-medium",children:"Enable Vertical Scroll"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"enableScroll",name:"enableScroll",checked:T,onChange:ae=>B(ae.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500 -mt-2",children:"If disabled, the widget will grow to fit all its content."}),n.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showOneRow",className:"text-sm font-medium",children:"Show One Row"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showOneRow",name:"showOneRow",checked:C,onChange:ae=>L(ae.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:"Condenses each item to a single line. Toggles show the device name; sensors show the capability name."})]})]})]})},Px=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s==="x"?r:r&3|8).toString(16)}),eb=[{id:"sr-p1",name:"Sveriges Radio P1",url:"https://sverigesradio.se/topsy/direkt/srapi/132.mp3"},{id:"sr-p2",name:"Sveriges Radio P2",url:"https://sverigesradio.se/topsy/direkt/srapi/163.mp3"},{id:"sr-p3",name:"Sveriges Radio P3",url:"https://sverigesradio.se/topsy/direkt/srapi/164.mp3"},{id:"sr-p4-sthlm",name:"SR P4 Stockholm",url:"https://sverigesradio.se/topsy/direkt/srapi/701.mp3"},{id:"mix-megapol",name:"Mix Megapol",url:"https://live-bauerse-fm.sharp-stream.com/mixmegapol_instream_se_mp3"},{id:"rockklassiker",name:"Rockklassiker",url:"https://live-bauerse-fm.sharp-stream.com/rockklassiker_instream_se_mp3"},{id:"bandit-metal",name:"Bandit Metal",url:"https://wr03-ice.stream.khz.se/wr03_mp3"},{id:"rix-fm",name:"Rix FM",url:"https://fm01-ice.stream.khz.se/fm01_mp3"},{id:"lugna-favoriter",name:"Lugna Favoriter",url:"https://fm03-ice.stream.khz.se/fm03_mp3"},{id:"star-fm",name:"Star FM",url:"https://fm05-ice.stream.khz.se/fm05_mp3"}],tb=({group:s,themeClasses:r})=>{var x,N;const[c,i]=v.useState(((x=s.widgetSettings)==null?void 0:x.radioStations)||[]),f=()=>{const j={id:Px(),name:"New Station",url:"https://"};i([...c,j])},m=(j,S,A)=>{i(c.map(V=>V.id===j?{...V,[S]:A}:V))},h=j=>{i(c.filter(S=>S.id!==j))},y=(j,S)=>{const A=[...c],V=S==="up"?j-1:j+1;V>=0&&V<A.length&&([A[j],A[V]]=[A[V],A[j]],i(A))},w=()=>{i(eb)};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"hidden",name:"radioStationsJSON",value:JSON.stringify(c)}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:`block text-sm font-medium ${r.modalMutedText}`,children:"My Stations"}),n.jsxs("button",{type:"button",onClick:w,className:`flex items-center gap-2 text-xs font-semibold py-1 px-2 rounded-md transition-colors ${r.buttonSecondary}`,children:[n.jsx(ka,{className:"w-3 h-3"}),"Reset to Defaults"]})]}),n.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:c.map((j,S)=>n.jsxs("div",{className:`p-3 rounded-lg border ${r.inputBg} border-slate-600 flex flex-col gap-2`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:j.name,onChange:A=>m(j.id,"name",A.target.value),placeholder:"Station Name",maxLength:40,className:`flex-1 p-1.5 rounded text-sm ${r.modalBg} border border-slate-500 focus:border-indigo-500 outline-none`}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{type:"button",onClick:()=>y(S,"up"),disabled:S===0,className:`p-1 rounded-full transition-colors ${r.iconMuted} ${r.buttonIconHoverText} ${r.buttonIconHoverBg} disabled:opacity-30`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}),n.jsx("button",{type:"button",onClick:()=>y(S,"down"),disabled:S===c.length-1,className:`p-1 rounded-full transition-colors ${r.iconMuted} ${r.buttonIconHoverText} ${r.buttonIconHoverBg} disabled:opacity-30`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5 7.5"})})}),n.jsx("button",{type:"button",onClick:()=>h(j.id),className:"p-1 text-red-400 hover:text-red-300",children:n.jsx(mn,{className:"w-4 h-4"})})]})]}),n.jsx("input",{type:"url",value:j.url,onChange:A=>m(j.id,"url",A.target.value),placeholder:"https://... Stream URL",className:`w-full p-1.5 rounded text-sm ${r.modalBg} border border-slate-500 focus:border-indigo-500 outline-none font-mono`})]},j.id))}),n.jsxs("button",{type:"button",onClick:f,className:`w-full flex items-center justify-center gap-2 p-2 rounded-lg border-2 border-dashed ${r.dashedBorder} ${r.textSubtle} hover:border-slate-500 hover:text-slate-300 transition-colors`,children:[n.jsx(Ta,{className:"w-4 h-4"}),"Add Station"]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"radioEnableSleepTimer",className:"text-sm font-medium",children:"Enable Sleep Timer"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"radioEnableSleepTimer",name:"radioEnableSleepTimer",defaultChecked:((N=s.widgetSettings)==null?void 0:N.radioEnableSleepTimer)??!1,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500 -mt-2",children:"Shows an option in the widget to automatically turn off the radio after a set time."})]})},nb=({group:s,dashboards:r,themeClasses:c})=>{const i=v.useMemo(()=>{const y=[];return r.forEach(w=>{var x;(x=w.columns)==null||x.forEach(N=>{N.groups.forEach(j=>{j.items&&j.items.forEach(S=>{S.type==="link"&&S.isFavorite&&y.push(S)})})})}),y},[r]),[f,m]=v.useState(()=>{var j;const y=(j=s.widgetSettings)==null?void 0:j.favoritesOrder;if(!y)return i;const w=[...i],x=new Map(y.map((S,A)=>[S,A]));w.sort((S,A)=>{const V=x.get(S.id),J=x.get(A.id);return V!==void 0&&J!==void 0?Number(V)-Number(J):V!==void 0?-1:J!==void 0?1:0});const N=new Set(w.map(S=>S.id));return i.forEach(S=>{N.has(S.id)||w.push(S)}),w}),h=(y,w)=>{const x=[...f];w==="up"&&y>0?[x[y-1],x[y]]=[x[y],x[y-1]]:w==="down"&&y<x.length-1&&([x[y],x[y+1]]=[x[y+1],x[y]]),m(x)};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"hidden",name:"favoritesOrderJSON",value:JSON.stringify(f.map(y=>y.id))}),n.jsx("p",{className:`text-sm ${c.modalMutedText}`,children:"Use the arrow buttons to reorder your favorite links."}),n.jsxs("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto pr-2",children:[f.map((y,w)=>n.jsxs("div",{className:`p-2 rounded-lg border ${c.inputBg} border-slate-600 flex items-center justify-between`,children:[n.jsx("span",{className:"font-medium text-sm truncate",children:y.name}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx("button",{type:"button",onClick:()=>h(w,"up"),disabled:w===0,className:`p-1 rounded-full transition-colors ${c.iconMuted} ${c.buttonIconHoverText} ${c.buttonIconHoverBg} disabled:opacity-30`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}),n.jsx("button",{type:"button",onClick:()=>h(w,"down"),disabled:w===f.length-1,className:`p-1 rounded-full transition-colors ${c.iconMuted} ${c.buttonIconHoverText} ${c.buttonIconHoverBg} disabled:opacity-30`,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})})]})]},y.id)),f.length===0&&n.jsx("p",{className:"text-center text-sm text-slate-500 py-4",children:"No favorite links found."})]})]})},ab=1024*1024,lb=({group:s,themeClasses:r})=>{var M,Z,T,B,C,L,se,we,Se;const[c,i]=v.useState(((M=s.widgetSettings)==null?void 0:M.pictureSourceType)||"url"),[f,m]=v.useState(((Z=s.widgetSettings)==null?void 0:Z.pictureUrl)||""),[h,y]=v.useState(((T=s.widgetSettings)==null?void 0:T.pictureBase64)||""),[w,x]=v.useState(((B=s.widgetSettings)==null?void 0:B.pictureHeight)||200),[N,j]=v.useState(((C=s.widgetSettings)==null?void 0:C.pictureFit)||"cover"),[S,A]=v.useState(((L=s.widgetSettings)==null?void 0:L.pictureBorderRadius)??!0),[V,J]=v.useState(null),ee=z=>{var Ce;J(null);const ue=(Ce=z.target.files)==null?void 0:Ce[0];if(!ue)return;if(ue.size>ab){J("File is too large. Max size is 1MB.");return}const ce=new FileReader;ce.onloadend=()=>{const Te=ce.result;y(Te)},ce.onerror=()=>{J("Failed to read file.")},ce.readAsDataURL(ue)},P=()=>{y("");const z=document.getElementById("pictureUpload");z&&(z.value="")};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"hidden",name:"pictureSourceType",value:c}),n.jsx("input",{type:"hidden",name:"pictureUrl",value:f}),n.jsx("input",{type:"hidden",name:"pictureBase64",value:h}),n.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>i("url"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${c==="url"?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:"Image URL"}),n.jsx("button",{type:"button",onClick:()=>i("upload"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${c==="upload"?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:"Upload File"})]}),n.jsx("div",{className:`p-4 rounded-lg border ${r.inputBg} ${r.dashedBorder} space-y-4`,children:c==="url"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pictureUrlInput",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Image Address"}),n.jsx("input",{type:"url",id:"pictureUrlInput",value:f,onChange:z=>m(z.target.value),placeholder:"https://example.com/image.jpg",className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pictureUpdateInterval",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Auto-Refresh Interval"}),n.jsxs("select",{id:"pictureUpdateInterval",name:"pictureUpdateInterval",defaultValue:((se=s.widgetSettings)==null?void 0:se.pictureUpdateInterval)||0,className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`,children:[n.jsx("option",{value:"0",children:"Off"}),n.jsx("option",{value:"1",children:"Every 1 minute"}),n.jsx("option",{value:"5",children:"Every 5 minutes"}),n.jsx("option",{value:"15",children:"Every 15 minutes"}),n.jsx("option",{value:"60",children:"Every 1 hour"})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Useful for dynamic images like weather maps or webcams. Forces a refresh to bypass browser cache."})]})]}):n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pictureUpload",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Select Image (Max 1MB)"}),h?n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 relative rounded overflow-hidden border border-slate-600",children:n.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"})}),n.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-red-400 hover:bg-red-900/20 rounded transition-colors",children:[n.jsx(mn,{className:"w-4 h-4"}),"Remove"]})]}):n.jsx("input",{type:"file",id:"pictureUpload",accept:"image/*",onChange:ee,className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700"}),V&&n.jsx("p",{className:"text-xs text-red-400 mt-2",children:V})]})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pictureClickUrl",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Clickable Link (optional)"}),n.jsx("input",{type:"url",id:"pictureClickUrl",name:"pictureClickUrl",defaultValue:((we=s.widgetSettings)==null?void 0:we.pictureClickUrl)||"",placeholder:"https://example.com",className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"If both Link and Enlarge are enabled, a menu will appear on click."})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"pictureEnableZoom",className:"text-sm font-medium",children:"Enlarge on click"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"pictureEnableZoom",name:"pictureEnableZoom",defaultChecked:((Se=s.widgetSettings)==null?void 0:Se.pictureEnableZoom)??!1,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500 -mt-3",children:"Allows viewing a larger version of the image."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pictureHeight",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Height (px)"}),n.jsx("input",{type:"number",id:"pictureHeight",name:"pictureHeight",value:w,onChange:z=>x(Number(z.target.value)),min:"50",max:"1000",className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pictureFit",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Fit Mode"}),n.jsxs("select",{id:"pictureFit",name:"pictureFit",value:N,onChange:z=>j(z.target.value),className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`,children:[n.jsx("option",{value:"cover",children:"Cover (Crop)"}),n.jsx("option",{value:"contain",children:"Contain (Full)"}),n.jsx("option",{value:"fill",children:"Fill (Stretch)"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"pictureBorderRadius",className:"text-sm font-medium",children:"Rounded Corners"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"pictureBorderRadius",name:"pictureBorderRadius",checked:S,onChange:z=>A(z.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})},sb=({group:s,themeClasses:r})=>{var N,j,S,A;const[c,i]=v.useState(((N=s.widgetSettings)==null?void 0:N.iframeUrl)||""),[f,m]=v.useState(((j=s.widgetSettings)==null?void 0:j.iframeHeight)||400),[h,y]=v.useState(((S=s.widgetSettings)==null?void 0:S.iframeViewMode)||"desktop"),[w,x]=v.useState(((A=s.widgetSettings)==null?void 0:A.iframeUpdateInterval)||0);return n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"hidden",name:"iframeUrl",value:c}),n.jsx("input",{type:"hidden",name:"iframeViewMode",value:h}),n.jsxs("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-md text-xs text-yellow-200 mb-2",children:[n.jsx("strong",{children:"Warning:"}),' Many major websites (e.g., Google, Facebook, YouTube) block being embedded in iframes for security reasons. If the widget shows "refused to connect" or is blank, the site likely does not allow embedding.']}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"iframeUrlInput",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Website URL"}),n.jsx("input",{type:"url",id:"iframeUrlInput",value:c,onChange:V=>i(V.target.value),placeholder:"https://example.com",className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"iframeHeight",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Height (px)"}),n.jsx("input",{type:"number",id:"iframeHeight",name:"iframeHeight",value:f,onChange:V=>m(Number(V.target.value)),min:"100",max:"2000",className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"iframeUpdateInterval",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Auto Refresh (mins)"}),n.jsx("input",{type:"number",id:"iframeUpdateInterval",name:"iframeUpdateInterval",value:w,onChange:V=>x(Number(V.target.value)),min:"0",max:"999",className:`w-full p-2 rounded-md border text-sm ${r.inputBg} ${r.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"0 to disable"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${r.modalMutedText} mb-2`,children:"View Mode"}),n.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>y("desktop"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${h==="desktop"?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:"Desktop (Full Width)"}),n.jsx("button",{type:"button",onClick:()=>y("mobile"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${h==="mobile"?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:"Mobile (Phone Width)"})]}),n.jsx("p",{className:"text-xs text-slate-500 mt-2",children:'"Mobile" restricts the width to ~375px to trigger responsive layouts on supported sites.'})]})]})},rb=({themeClasses:s,globalIp:r,globalToken:c,itemType:i,onSelect:f})=>{const[m,h]=v.useState([]),[y,w]=v.useState(!0),[x,N]=v.useState(null),[j,S]=v.useState(""),[A,V]=v.useState(!1),J=async()=>{if(!r||!c){N("Homey IP and Token must be configured in global Settings first."),w(!1);return}w(!0),N(null);const M=c.replace(/^Bearer\s+/i,"").trim(),Z=r.trim().startsWith("http")?r.trim():`http://${r.trim()}`,T={Authorization:`Bearer ${M}`};try{if(i==="capability"||i==="large_capability"||i==="slider"){const[B,C]=await Promise.all([fetch(`${Z}/api/manager/devices/device`,{headers:T}),fetch(`${Z}/api/manager/zones/zone`,{headers:T})]);if(!B.ok||!C.ok)throw new Error("Failed to fetch devices or zones.");const[L,se]=await Promise.all([B.json(),C.json()]),we=Object.values(L).flatMap(Se=>Object.entries(Se.capabilitiesObj).filter(([z,ue])=>ue.getable?i==="slider"?ue.type==="number"&&ue.setable===!0:i==="large_capability"&&!A?z!=="onoff"&&(ue.type==="number"||ue.type==="boolean"):!0:!1).map(([z,ue])=>{var ce;return{id:`${Se.id}-${z}`,name:`${Se.name} - ${z==="onoff"?"Toggle":ue.title}`,zone:((ce=se[Se.zone])==null?void 0:ce.name)||"Unknown Zone",deviceId:Se.id,capabilityId:z}}));h(we)}else if(i==="flow"){const B=await fetch(`${Z}/api/manager/flow/flow`,{headers:T});if(!B.ok)throw new Error("Failed to fetch flows.");const C=await B.json(),L=Object.values(C).filter(se=>se.triggerable).map(se=>({id:se.id,name:se.name,flowId:se.id}));h(L)}else if(i==="variable"){const B=await fetch(`${Z}/api/manager/logic/variable`,{headers:T});if(!B.ok)throw new Error("Failed to fetch variables.");const C=await B.json(),L=Object.values(C).map(se=>({id:se.id,name:se.name,variableId:se.id,zone:se.type}));h(L)}}catch(B){N(B instanceof Error?B.message:"An unknown error occurred.")}finally{w(!1)}};v.useEffect(()=>{J()},[r,c,i,A]);const ee=v.useMemo(()=>m.filter(M=>M.name.toLowerCase().includes(j.toLowerCase())||M.zone&&M.zone.toLowerCase().includes(j.toLowerCase())),[m,j]),P=M=>{i==="capability"||i==="large_capability"||i==="slider"?f({deviceId:M.deviceId,capabilityId:M.capabilityId}):i==="flow"?f({flowId:M.flowId}):i==="variable"&&f({variableId:M.variableId})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:n.jsx(qh,{className:`h-4 w-4 ${s.iconMuted}`,"aria-hidden":"true"})}),n.jsx("input",{type:"search",placeholder:"Search...",value:j,onChange:M=>S(M.target.value),className:`w-full p-2 pl-9 rounded-md border text-sm ${s.inputBg} ${s.inputFocusRing}`})]}),x&&n.jsx("div",{className:"text-red-400 text-sm",children:x}),n.jsx("div",{className:`h-80 overflow-y-auto border rounded-md ${s.inputBg} ${s.dashedBorder} p-1`,children:y?n.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"Loading..."}):n.jsxs("ul",{className:"space-y-1",children:[ee.map(M=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>P(M),className:`w-full text-left p-2 rounded transition-colors ${s.linkHoverBg}`,children:[n.jsx("div",{className:"font-medium text-sm",children:M.name}),M.zone&&n.jsx("div",{className:`text-xs ${i==="variable"?"text-amber-400":"text-indigo-400"}`,children:M.zone})]})},M.id)),ee.length===0&&n.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"No items found."})]})}),i==="large_capability"&&n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs("label",{className:"flex items-center text-sm text-slate-400 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:A,onChange:M=>V(M.target.checked),className:"mr-2 rounded border-slate-600 text-indigo-600 focus:ring-indigo-500 bg-slate-700"}),"Show all capabilities (advanced)"]})})]})},ib=({group:s,themeClasses:r})=>{var w,x,N,j,S,A;const[c,i]=v.useState(((x=(w=s.widgetSettings)==null?void 0:w.homeyCustomSettings)==null?void 0:x.showOneRow)??!1),[f,m]=v.useState(((j=(N=s.widgetSettings)==null?void 0:N.homeyCustomSettings)==null?void 0:j.flowsInTwoColumns)??!1),[h,y]=v.useState(((A=(S=s.widgetSettings)==null?void 0:S.homeyCustomSettings)==null?void 0:A.largeCapabilityInTwoColumns)??!1);return n.jsxs("div",{className:"space-y-3 pt-4 mt-4 border-t border-slate-700",children:[c&&n.jsx("input",{type:"hidden",name:"homeyCustomShowOneRow",value:"on"}),f&&n.jsx("input",{type:"hidden",name:"homeyCustomFlowsInTwoColumns",value:"on"}),h&&n.jsx("input",{type:"hidden",name:"homeyCustomLargeCapabilityInTwoColumns",value:"on"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"homeyCustomShowOneRow",className:"text-sm font-medium",children:"Show One Row"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"homeyCustomShowOneRow",checked:c,onChange:V=>i(V.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:"Condenses each item to a single line. Toggles show the device name; sensors show the capability name."}),n.jsx("div",{className:"pt-3 border-t border-slate-700"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"homeyCustomFlowsInTwoColumns",className:"text-sm font-medium",children:"Flows in Two Columns"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"homeyCustomFlowsInTwoColumns",checked:f,onChange:V=>m(V.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:"Displays consecutive flow buttons side-by-side to save space."}),n.jsx("div",{className:"pt-3 border-t border-slate-700"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"homeyCustomLargeCapabilityInTwoColumns",className:"text-sm font-medium",children:"Large Capability in Two Columns"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"homeyCustomLargeCapabilityInTwoColumns",checked:h,onChange:V=>y(V.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:'Displays consecutive "Large Capability" items side-by-side.'})]})},ob=({item:s,variable:r,themeClasses:c})=>{const[i,f]=v.useState(s.booleanDisplay||"default");return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-slate-400 mb-2",children:["Editing: ",n.jsx("span",{className:"font-semibold text-white",children:s.customName||(r==null?void 0:r.name)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customName",className:`block text-sm font-medium ${c.modalMutedText} mb-1`,children:"Custom Name (Optional)"}),n.jsx("input",{type:"text",name:"customName",defaultValue:s.customName||"",placeholder:"Leave empty to use default name",className:`w-full p-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`})]}),(r==null?void 0:r.type)==="boolean"&&n.jsxs("div",{className:"pt-4 border-t border-slate-700 space-y-4",children:[n.jsx("h4",{className:`text-sm font-medium ${c.modalMutedText}`,children:"Boolean Display Options"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"booleanDisplay",className:"sr-only",children:"Display Style"}),n.jsxs("select",{id:"booleanDisplay",name:"booleanDisplay",value:i,onChange:m=>f(m.target.value),className:`w-full p-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`,children:[n.jsx("option",{value:"default",children:"Default (true / false)"}),n.jsx("option",{value:"onOff",children:"On / Off"}),n.jsx("option",{value:"yesNo",children:"Yes / No"}),n.jsx("option",{value:"openClosed",children:"Open / Closed"}),n.jsx("option",{value:"lockedUnlocked",children:"Locked / Unlocked"}),n.jsx("option",{value:"custom",children:"Custom..."})]})]}),i==="custom"&&n.jsxs("div",{className:"grid grid-cols-2 gap-3 animate-fade-in-up",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"booleanTrueText",className:`block text-xs font-medium ${c.modalMutedText} mb-1`,children:"Text for TRUE"}),n.jsx("input",{type:"text",name:"booleanTrueText",defaultValue:s.booleanTrueText||"Larmat",className:`w-full p-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"booleanFalseText",className:`block text-xs font-medium ${c.modalMutedText} mb-1`,children:"Text for FALSE"}),n.jsx("input",{type:"text",name:"booleanFalseText",defaultValue:s.booleanFalseText||"Ej larmat",className:`w-full p-2 rounded-md border ${c.inputBg} ${c.inputFocusRing}`})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{htmlFor:"isInverted",className:"text-sm font-medium",children:"Invert Logic"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Default: 'True' is the normal state (green dot). Check this to treat 'False' as the normal state."})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[n.jsx("input",{type:"checkbox",id:"isInverted",name:"isInverted",defaultChecked:s.isInverted,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]})},cb=({group:s,themeClasses:r})=>{var w,x,N,j,S;const{area:c,showHourly:i,showDayAvg:f,showMonthAvg:m}=((w=s.widgetSettings)==null?void 0:w.electricitySettings)||{},h=f===void 0?((N=(x=s.widgetSettings)==null?void 0:x.electricitySettings)==null?void 0:N.showToday)??!0:f,y=m===void 0?((S=(j=s.widgetSettings)==null?void 0:j.electricitySettings)==null?void 0:S.showThisMonth)??!0:m;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"area",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Electricity Area (Elomrde)"}),n.jsxs("select",{id:"area",name:"area",defaultValue:c||"SE3",className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`,children:[n.jsx("option",{value:"SE1",children:"SE1 - Lule"}),n.jsx("option",{value:"SE2",children:"SE2 - Sundsvall"}),n.jsx("option",{value:"SE3",children:"SE3 - Stockholm"}),n.jsx("option",{value:"SE4",children:"SE4 - Malm"})]})]}),n.jsxs("div",{className:"pt-4 border-t border-slate-700 space-y-3",children:[n.jsx("label",{className:`block text-sm font-medium ${r.modalMutedText}`,children:"Data to Display"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showHourly",className:"text-sm font-medium",children:"Avg Hourly Prices"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showHourly",name:"showHourly",defaultChecked:i??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showDayAvg",className:"text-sm font-medium",children:"Avg Day Prices"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showDayAvg",name:"showDayAvg",defaultChecked:h,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showMonthAvg",className:"text-sm font-medium",children:"Avg Month Prices"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showMonthAvg",name:"showMonthAvg",defaultChecked:y,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:"Note: Fetching monthly averages can be slow the first time they are loaded."})]})]})},ub=({group:s,themeClasses:r})=>{var N,j,S,A;const[c,i]=v.useState(((N=s.widgetSettings)==null?void 0:N.isStopwatch)??!1),f=c;let m,h,y,w,x;if(c)m=0,h=0,y=0,w=!1,x=!1;else{const V=(j=s.widgetSettings)==null?void 0:j.timerDuration;if(V===0)m=0,h=5,y=0,w=!0,x=!1;else{const J=V??300;m=Math.floor(J/3600),h=Math.floor(J%3600/60),y=J%60,w=((S=s.widgetSettings)==null?void 0:S.timerPlaySound)??!0,x=((A=s.widgetSettings)==null?void 0:A.timerOvertime)??!1}}return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-700",children:[n.jsx("label",{htmlFor:"isStopwatch",className:"text-sm font-medium",children:"Stopwatch Mode"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"isStopwatch",name:"isStopwatch",checked:c,onChange:()=>i(V=>!V),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-400 mb-4 -mt-2",children:"Enable to count up from zero. Disable to count down from a set time."}),n.jsxs("div",{className:`grid grid-cols-3 gap-4 transition-opacity ${f?"opacity-50":""}`,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"hours",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Hours"}),n.jsx("input",{type:"number",id:"hours",name:"hours",defaultValue:m,min:"0",max:"23",disabled:f,className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"minutes",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Minutes"}),n.jsx("input",{type:"number",id:"minutes",name:"minutes",defaultValue:h,min:"0",max:"59",disabled:f,className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"seconds",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Seconds"}),n.jsx("input",{type:"number",id:"seconds",name:"seconds",defaultValue:y,min:"0",max:"59",disabled:f,className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`})]})]}),n.jsxs("div",{className:`flex items-center justify-between pt-4 mt-4 border-t border-slate-700 transition-opacity ${f?"opacity-50":""}`,children:[n.jsx("label",{htmlFor:"timerPlaySound",className:"text-sm font-medium",children:"Play Sound on Finish"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"timerPlaySound",name:"timerPlaySound",defaultChecked:w,disabled:f,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),!c&&n.jsxs("div",{className:`flex items-center justify-between pt-4 mt-4 border-t border-slate-700 transition-opacity ${f?"opacity-50":""}`,children:[n.jsx("label",{htmlFor:"timerOvertime",className:"text-sm font-medium",children:"Count up after finish (Overtime)"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"timerOvertime",name:"timerOvertime",defaultChecked:x,disabled:f,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]},String(c))};var Rh;const db=((Rh=Intl.supportedValuesOf)==null?void 0:Rh.call(Intl,"timeZone"))??[Intl.DateTimeFormat().resolvedOptions().timeZone],fb=({group:s,themeClasses:r})=>{var y,w,x,N,j,S;const[c,i]=v.useState(((y=s.widgetSettings)==null?void 0:y.weatherShowTime)??!1),f=((w=s.widgetSettings)==null?void 0:w.city)||"",m=((x=s.widgetSettings)==null?void 0:x.weatherShowForecast)??!1,h=((N=s.widgetSettings)==null?void 0:N.weatherTimezone)||Intl.DateTimeFormat().resolvedOptions().timeZone;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"City"}),n.jsx("input",{type:"text",id:"city",name:"city",defaultValue:f,required:!0,placeholder:"e.g. Paris, FR",className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use City, Country Code (e.g. Lund, SE) if there are multiple cities with the same name."})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"weatherShowForecast",className:"text-sm font-medium",children:"Show 2-day forecast"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"weatherShowForecast",name:"weatherShowForecast",defaultChecked:m,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"weatherClickUrl",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Clickable Link (optional)"}),n.jsx("input",{type:"url",id:"weatherClickUrl",name:"weatherClickUrl",defaultValue:((j=s.widgetSettings)==null?void 0:j.weatherClickUrl)||"",placeholder:"https://your-favorite-weather-site.com",className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Makes the entire widget a link to the specified URL."})]}),n.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"weatherUpdateInterval",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Update Interval (minutes)"}),n.jsx("input",{type:"number",id:"weatherUpdateInterval",name:"weatherUpdateInterval",defaultValue:((S=s.widgetSettings)==null?void 0:S.weatherUpdateInterval)??60,min:"0",max:"999",className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0 to disable auto-updates. Data is cached for 30 mins to prevent excessive requests."})]}),n.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"weatherShowTime",className:"text-sm font-medium",children:"Show local time"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"weatherShowTime",name:"weatherShowTime",checked:c,onChange:A=>i(A.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"weatherTimezone",className:`block text-sm font-medium ${r.modalMutedText} mb-1`,children:"Timezone"}),n.jsx("select",{id:"weatherTimezone",name:"weatherTimezone",defaultValue:h,required:!0,className:`w-full p-2 rounded-md border ${r.inputBg} ${r.inputFocusRing} max-h-60`,children:db.map(A=>n.jsx("option",{value:A,children:A.replace(/_/g," ")},A))})]})]})]})},We=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s==="x"?r:r&3|8).toString(16)}),mb=[{id:"sr-p1",name:"Sveriges Radio P1",url:"https://sverigesradio.se/topsy/direkt/srapi/132.mp3"},{id:"sr-p2",name:"Sveriges Radio P2",url:"https://sverigesradio.se/topsy/direkt/srapi/163.mp3"},{id:"sr-p3",name:"Sveriges Radio P3",url:"https://sverigesradio.se/topsy/direkt/srapi/164.mp3"},{id:"sr-p4-sthlm",name:"SR P4 Stockholm",url:"https://sverigesradio.se/topsy/direkt/srapi/701.mp3"},{id:"mix-megapol",name:"Mix Megapol",url:"https://live-bauerse-fm.sharp-stream.com/mixmegapol_instream_se_mp3"},{id:"rockklassiker",name:"Rockklassiker",url:"https://live-bauerse-fm.sharp-stream.com/rockklassiker_instream_se_mp3"},{id:"bandit-metal",name:"Bandit Metal",url:"https://wr03-ice.stream.khz.se/wr03_mp3"},{id:"rix-fm",name:"Rix FM",url:"https://fm01-ice.stream.khz.se/fm01_mp3"},{id:"lugna-favoriter",name:"Lugna Favoriter",url:"https://fm03-ice.stream.khz.se/fm03_mp3"},{id:"star-fm",name:"Star FM",url:"https://fm05-ice.stream.khz.se/fm05_mp3"}],Nh=[{code:"",name:"None"},{code:"SE",name:"Sweden"},{code:"NO",name:"Norway"},{code:"DK",name:"Denmark"},{code:"FI",name:"Finland"},{code:"DE",name:"Germany"},{code:"GB",name:"United Kingdom"},{code:"US",name:"United States"},{code:"FR",name:"France"},{code:"ES",name:"Spain"},{code:"IT",name:"Italy"},{code:"JP",name:"Japan"},{code:"AU",name:"Australia"},{code:"CA",name:"Canada"},{code:"CN",name:"China"},{code:"IN",name:"India"},{code:"BR",name:"Brazil"}],hb=({modalState:s,onClose:r,openModal:c,themeClasses:i,dashboards:f,onDashboardsChange:m,activeDashboard:h,setActiveDashboardId:y,todos:w,setTodos:x,settings:N,setSettings:j,setPageTitle:S,homeyFlows:A,homeyVariables:V,onApplyImport:J,onResetToDefaults:ee,onExport:P,setImportData:M})=>{const[Z,T]=v.useState(""),B=v.useRef(null),[C,L]=v.useState(null),[se,we]=v.useState(null),[Se,z]=v.useState("url"),[ue,ce]=v.useState(1920),[Ce,Te]=v.useState(1080),[D,U]=v.useState(1),[G,be]=v.useState(1);v.useEffect(()=>{var le;if(s){if(s.type==="addLink")T("https://");else if(s.type==="editLink"&&((le=s.data)!=null&&le.link))T(s.data.link.url);else if(s.type==="dashboardLayoutSettings"){const p=s.data.dashboard;we((p==null?void 0:p.backgroundImage)||null),L(null);const ye=(p==null?void 0:p.backgroundImage)||"";z(ye.startsWith("data:")?"upload":"url"),ce((p==null?void 0:p.canvasWidth)||1920),Te((p==null?void 0:p.canvasHeight)||1080),U((p==null?void 0:p.layoutScale)||1),be((p==null?void 0:p.bgCapabilityOpacity)??.7)}}},[s]);const H=le=>{var fe;L(null);const p=(fe=le.target.files)==null?void 0:fe[0];if(!p)return;p.size>2*1024*1024&&L("File is large (>2MB). Large files may fill up browser storage.");const ye=new FileReader;ye.onloadend=()=>{we(ye.result)},ye.onerror=()=>{L("Failed to read file.")},ye.readAsDataURL(p)};if(!s)return null;const b=le=>{m(f.map(p=>p.id===h.id?le(p):p))},O=le=>{if(!s||!s.data)return;if(h.layoutType==="layout"){b(ge=>{const de=JSON.parse(JSON.stringify(ge)),De=s.data.itemType;if(de.items||(de.items=[]),"deviceId"in le){const Ue=De==="large_capability"?"homey_large_capability":"homey_capability",xe={...{id:We(),type:Ue,deviceId:le.deviceId,capabilityId:le.capabilityId},x:0,y:0,w:Ue==="homey_large_capability"?6:5,h:4};de.items.push(xe)}else if("variableId"in le){const Be={...{id:We(),type:"homey_variable",variableId:le.variableId},x:0,y:0,w:5,h:4};de.items.push(Be)}return de}),r();return}const{groupId:p,columnId:ye,itemType:fe}=s.data;b(ge=>{const de=JSON.parse(JSON.stringify(ge)),De=de.columns.find(Be=>Be.id===ye),Ue=De==null?void 0:De.groups.find(Be=>Be.id===p);if(Ue){let Be;"deviceId"in le?fe==="large_capability"?Be={id:We(),type:"homey_large_capability",deviceId:le.deviceId,capabilityId:le.capabilityId}:fe==="slider"?Be={id:We(),type:"homey_slider",deviceId:le.deviceId,capabilityId:le.capabilityId}:Be={id:We(),type:"homey_capability",deviceId:le.deviceId,capabilityId:le.capabilityId}:"flowId"in le?Be={id:We(),type:"homey_flow",flowId:le.flowId}:Be={id:We(),type:"homey_variable",variableId:le.variableId},Ue.items.push(Be)}return de}),r()},$=le=>{var Ee,Ae;if(le.preventDefault(),!s)return;const p=new FormData(le.target);if(s.type==="exportOptions"){const oe=p.get("filename")||`startpanel-backup-${new Date().toISOString().slice(0,10)}`;P(oe);return}const ye=p.get("name"),fe=p.get("url"),ge=p.get("comment"),de=parseInt(p.get("width"),10),De=p.has("isFavorite"),Ue=p.get("customName"),Be=JSON.parse(JSON.stringify(f)),xe=Be.find(oe=>oe.id===h.id);if(xe){switch(s.type){case"addColumn":xe.columns.push({id:We(),name:ye,groups:[],width:de||3}),m(Be);break;case"editColumn":xe.columns=xe.columns.map(oe=>oe.id===s.data.id?{...oe,name:ye,width:de||3}:oe),m(Be);break;case"dashboardLayoutSettings":{const oe=Be.find(I=>I.id===s.data.dashboard.id);if(oe){oe.name=ye,oe.canvasWidth=parseInt(p.get("canvasWidth"),10),oe.canvasHeight=parseInt(p.get("canvasHeight"),10),oe.layoutScale=parseFloat(p.get("layoutScale")),oe.bgCapabilityOpacity=parseFloat(p.get("bgCapabilityOpacity")),oe.showCardTypes=p.has("showCardTypes"),oe.showCardNames=p.has("showCardNames"),oe.showComponentLabels=oe.showCardNames;const I=p.get("bgType");I==="url"?oe.backgroundImage=p.get("bgUrl"):I==="upload"&&(oe.backgroundImage=se),oe.customBackgroundColor=p.get("bgColor"),m(Be)}break}case"addGroup":{const oe=xe.columns.find(I=>I.id===s.data.columnId);oe&&oe.groups.push({id:We(),name:ye,items:[],type:"links"}),m(Be);break}case"editGroup":{const oe=xe.columns.find(he=>he.id===s.data.columnId),I=oe==null?void 0:oe.groups.find(he=>he.id===s.data.group.id);I&&(I.name=ye),m(Be);break}case"editWidgetSettings":{const oe=Be.find(he=>he.id===h.id).columns.find(he=>he.id===s.data.columnId),I=oe==null?void 0:oe.groups.find(he=>he.id===s.data.group.id);if(I)if(ye&&(I.name=ye),p.has("colorVariant")&&(I.colorVariant=p.get("colorVariant")),I.widgetSettings||(I.widgetSettings={}),I.type!=="widget"&&(I.widgetSettings.compactMode=p.has("compactMode"),I.widgetSettings.displayAsPopup=p.has("displayAsPopup")),I.widgetType==="weather")I.widgetSettings.city=p.get("city"),I.widgetSettings.weatherShowForecast=p.has("weatherShowForecast"),I.widgetSettings.weatherClickUrl=p.get("weatherClickUrl"),I.widgetSettings.weatherShowTime=p.has("weatherShowTime"),p.has("weatherShowTime")&&(I.widgetSettings.weatherTimezone=p.get("weatherTimezone")),I.widgetSettings.weatherUpdateInterval=parseInt(p.get("weatherUpdateInterval"),10);else if(I.widgetType==="clock")I.widgetSettings.timezone=p.get("timezone"),I.widgetSettings.showSeconds=p.has("showSeconds"),I.widgetSettings.showDate=p.has("showDate");else if(I.widgetType==="timer"){const he=p.has("isStopwatch");if(I.widgetSettings.isStopwatch=he,he)I.widgetSettings.timerDuration=0,I.widgetSettings.timerPlaySound=!1,I.widgetSettings.timerOvertime=!1;else{const Fe=parseInt(p.get("hours"),10)||0,Le=parseInt(p.get("minutes"),10)||0,Xe=parseInt(p.get("seconds"),10)||0;I.widgetSettings.timerDuration=Fe*3600+Le*60+Xe,I.widgetSettings.timerPlaySound=p.has("timerPlaySound"),I.widgetSettings.timerOvertime=p.has("timerOvertime")}}else if(I.widgetType==="rss")I.widgetSettings.rssUrl=p.get("rssUrl"),I.widgetSettings.rssItemCount=parseInt(p.get("rssItemCount"),10)||5,I.widgetSettings.rssUpdateInterval=parseInt(p.get("rssUpdateInterval"),10)||0,I.widgetSettings.rssEnableScroll=p.has("rssEnableScroll");else if(I.widgetType==="countdown")I.widgetSettings.countdownTitle=p.get("countdownTitle"),I.widgetSettings.countdownDate=new Date(p.get("countdownDate")).toISOString(),I.widgetSettings.countdownBehavior=p.get("countdownBehavior"),I.widgetSettings.countdownPlaySound=p.has("countdownPlaySound");else if(I.widgetType==="calendar")I.widgetSettings.holidayCountry=p.get("holidayCountry");else if(I.widgetType==="todo")I.widgetSettings.todoConfirmDelete=p.has("todoConfirmDelete");else if(I.widgetType==="currency")I.widgetSettings.currencyBase=p.get("currencyBase"),I.widgetSettings.currencyTargets=p.getAll("currencyTargets");else if(I.widgetType==="webhook")try{I.widgetSettings.webhookItems=JSON.parse(p.get("webhookItemsJSON"))}catch{}else if(I.widgetType==="solar")I.widgetSettings.solarCity=p.get("solarCity"),I.widgetSettings.solarUse24HourFormat=p.has("solarUse24HourFormat"),I.widgetSettings.solarCompactMode=p.has("solarCompactMode"),I.widgetSettings.solarDynamicPath=p.has("solarDynamicPath");else if(I.widgetType==="homey"){I.widgetSettings.homeySettings||(I.widgetSettings.homeySettings={}),I.widgetSettings.homeySettings.enableScroll=p.has("enableScroll"),I.widgetSettings.homeySettings.showOneRow=p.has("showOneRow");try{I.widgetSettings.homeySettings.selectedCapabilities=JSON.parse(p.get("selectedCapabilitiesJSON"))}catch(he){console.error("Failed to parse Homey capabilities",he)}try{I.widgetSettings.homeySettings.selectedFlows=JSON.parse(p.get("selectedFlowsJSON"))}catch(he){console.error("Failed to parse Homey flows",he)}}else if(I.widgetType==="radio"){try{I.widgetSettings.radioStations=JSON.parse(p.get("radioStationsJSON"))}catch{}I.widgetSettings.radioEnableSleepTimer=p.has("radioEnableSleepTimer")}else if(I.widgetType==="favorites")try{const he=JSON.parse(p.get("favoritesOrderJSON"));Array.isArray(he)&&(I.widgetSettings.favoritesOrder=he)}catch(he){console.error("Failed to parse favorites order",he)}else I.widgetType==="picture"?(I.widgetSettings.pictureSourceType=p.get("pictureSourceType"),I.widgetSettings.pictureUrl=p.get("pictureUrl"),I.widgetSettings.pictureBase64=p.get("pictureBase64"),I.widgetSettings.pictureHeight=parseInt(p.get("pictureHeight"),10)||200,I.widgetSettings.pictureFit=p.get("pictureFit"),I.widgetSettings.pictureBorderRadius=p.has("pictureBorderRadius"),I.widgetSettings.pictureUpdateInterval=parseInt(p.get("pictureUpdateInterval"),10)||0,I.widgetSettings.pictureClickUrl=p.get("pictureClickUrl"),I.widgetSettings.pictureEnableZoom=p.has("pictureEnableZoom")):I.widgetType==="iframe"?(I.widgetSettings.iframeUrl=p.get("iframeUrl"),I.widgetSettings.iframeHeight=parseInt(p.get("iframeHeight"),10)||400,I.widgetSettings.iframeViewMode=p.get("iframeViewMode"),I.widgetSettings.iframeUpdateInterval=parseInt(p.get("iframeUpdateInterval"),10)||0):I.widgetType==="homey_custom"?(I.widgetSettings.homeyCustomSettings||(I.widgetSettings.homeyCustomSettings={}),I.widgetSettings.homeyCustomSettings.showOneRow=p.has("homeyCustomShowOneRow"),I.widgetSettings.homeyCustomSettings.flowsInTwoColumns=p.has("homeyCustomFlowsInTwoColumns"),I.widgetSettings.homeyCustomSettings.largeCapabilityInTwoColumns=p.has("homeyCustomLargeCapabilityInTwoColumns")):I.widgetType==="electricity"&&(I.widgetSettings.electricitySettings||(I.widgetSettings.electricitySettings={}),I.widgetSettings.electricitySettings.area=p.get("area"),I.widgetSettings.electricitySettings.showHourly=p.has("showHourly"),I.widgetSettings.electricitySettings.showDayAvg=p.has("showDayAvg"),I.widgetSettings.electricitySettings.showMonthAvg=p.has("showMonthAvg"));m(Be);break}case"addLink":{const oe=Be.find(he=>he.id===h.id).columns.find(he=>he.id===s.data.columnId),I=oe==null?void 0:oe.groups.find(he=>he.id===s.data.groupId);I&&I.items.push({id:We(),type:"link",name:ye,url:fe.startsWith("https://")||fe.startsWith("http://")?fe:`https://${fe}`,comment:ge,isFavorite:De}),m(Be);break}case"editLink":{const oe=Be.find(Fe=>Fe.id===h.id).columns.find(Fe=>Fe.id===s.data.columnId),I=oe==null?void 0:oe.groups.find(Fe=>Fe.id===s.data.groupId),he=I==null?void 0:I.items.find(Fe=>Fe.id===s.data.link.id);he&&he.type==="link"&&(he.name=ye,he.url=fe,he.comment=ge,he.isFavorite=De),m(Be);break}case"addOrEditTextItem":{const oe=Be.find(he=>he.id===h.id).columns.find(he=>he.id===s.data.columnId),I=oe==null?void 0:oe.groups.find(he=>he.id===s.data.groupId);if(I){const he=p.get("textContent");if(s.data.item){const Fe=I.items.find(Le=>Le.id===s.data.item.id);Fe&&Fe.type==="text"&&(Fe.content=he)}else I.items.push({id:We(),type:"text",content:he});m(Be)}break}case"editHomeyCustomItemName":{const{columnId:oe,groupId:I,item:he}=s.data,Fe=Be.find(Le=>Le.id===h.id);if(Fe.layoutType==="layout"){if(Fe.items){const Le=Fe.items.find(Xe=>Xe.id===he.id);Le&&(Le.customName=Ue.trim()?Ue.trim():void 0,Le.isInverted=p.has("isInverted"),Le.type==="homey_capability"&&Le.capabilityId==="onoff"&&(Le.toggleStyle=p.get("toggleStyle")),Le.type==="homey_capability"&&["alarm_contact","window_open"].includes(Le.capabilityId)&&(Le.booleanIconStyle=p.get("booleanIconStyle")))}}else{const Le=(Ee=Fe.columns)==null?void 0:Ee.find(Ie=>Ie.id===oe),Xe=Le==null?void 0:Le.groups.find(Ie=>Ie.id===I);if(Xe){const Ie=Xe.items.find(it=>it.id===he.id);Ie&&(Ie.type==="homey_capability"||Ie.type==="homey_large_capability"||Ie.type==="homey_slider"||Ie.type==="homey_flow"||Ie.type==="button_holder")&&(Ie.customName=Ue.trim()?Ue.trim():void 0,(Ie.type==="homey_capability"||Ie.type==="homey_large_capability")&&(Ie.isInverted=p.has("isInverted")))}}m(Be);break}case"addFlowButton":case"editFlowButton":{const{columnId:oe,groupId:I,holderId:he,button:Fe}=s.data,Le=p.get("flowId"),[Xe,Ie]=Le.split("|"),it=p.get("symbol"),zt=Be.find(dt=>dt.id===h.id).columns.find(dt=>dt.id===oe),Tt=zt==null?void 0:zt.groups.find(dt=>dt.id===I),an=Tt==null?void 0:Tt.items.find(dt=>dt.id===he);if(an){if(s.type==="addFlowButton"){const dt={id:We(),flowId:Xe,symbol:it,flowName:Ie};an.buttons.push(dt)}else{const dt=an.buttons.find(jt=>jt.id===Fe.id);dt&&(dt.flowId=Xe,dt.symbol=it,dt.flowName=Ie)}m(Be)}break}case"editHomeyVariableSettings":{const{columnId:oe,groupId:I,item:he}=s.data,Fe=Be.find(Le=>Le.id===h.id);if(Fe.layoutType==="layout"){if(Fe.items){const Le=Fe.items.find(Xe=>Xe.id===he.id);if(Le&&Le.type==="homey_variable"){const Xe=p.get("customName");Le.customName=Xe.trim()?Xe.trim():void 0,Le.booleanDisplay=p.get("booleanDisplay"),Le.isInverted=p.has("isInverted"),Le.booleanDisplay==="custom"&&(Le.booleanTrueText=p.get("booleanTrueText"),Le.booleanFalseText=p.get("booleanFalseText"))}}}else{const Le=(Ae=Fe.columns)==null?void 0:Ae.find(Ie=>Ie.id===oe),Xe=Le==null?void 0:Le.groups.find(Ie=>Ie.id===I);if(Xe){const Ie=Xe.items.find(it=>it.id===he.id);if(Ie&&Ie.type==="homey_variable"){const it=p.get("customName");Ie.customName=it.trim()?it.trim():void 0,Ie.booleanDisplay=p.get("booleanDisplay"),Ie.isInverted=p.has("isInverted"),Ie.booleanDisplay==="custom"&&(Ie.booleanTrueText=p.get("booleanTrueText"),Ie.booleanFalseText=p.get("booleanFalseText"))}}}m(Be);break}}r()}},_=(le,p)=>{b(ye=>{const fe=JSON.parse(JSON.stringify(ye)),ge=fe.columns.find(De=>De.id===p),de=ge==null?void 0:ge.groups.find(De=>De.id===le);return de&&de.items.push({id:We(),type:"separator"}),fe}),r()},Q=(le,p)=>{b(ye=>{const fe=JSON.parse(JSON.stringify(ye)),ge=fe.columns.find(De=>De.id===p),de=ge==null?void 0:ge.groups.find(De=>De.id===le);if(de){const De={id:We(),type:"button_holder",buttons:[]};de.items.push(De)}return fe}),r()},W=(le,p)=>{b(ye=>{const fe=JSON.parse(JSON.stringify(ye)),ge=fe.columns.find(De=>De.id===p);if(!ge)return fe;let de;if(le==="weather")de={id:We(),name:"Weather",items:[],type:"widget",widgetType:"weather",widgetSettings:{city:"Stockholm",weatherShowForecast:!1,weatherShowTime:!1,weatherTimezone:Intl.DateTimeFormat().resolvedOptions().timeZone,weatherUpdateInterval:60}};else if(le==="clock")de={id:We(),name:"Clock",items:[],type:"widget",widgetType:"clock",widgetSettings:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,showSeconds:!0,showDate:!0}};else if(le==="timer")de={id:We(),name:"Timer / Stopwatch",items:[],type:"widget",widgetType:"timer",widgetSettings:{timerDuration:300,timerPlaySound:!0,isStopwatch:!1,timerOvertime:!1}};else if(le==="rss")de={id:We(),name:"RSS Feed",items:[],type:"widget",widgetType:"rss",widgetSettings:{rssUrl:"",rssItemCount:5,rssUpdateInterval:60,rssEnableScroll:!0}};else if(le==="todo")de={id:We(),name:"To-Do List",items:[],isCollapsed:!1,type:"widget",widgetType:"todo",widgetSettings:{todoConfirmDelete:!0}};else if(le==="calculator")de={id:We(),name:"Calculator",items:[],isCollapsed:!1,type:"widget",widgetType:"calculator",calculatorState:{currentValue:"0",previousValue:null,operator:null,isNewEntry:!0}};else if(le==="scratchpad")de={id:We(),name:"Notepad",items:[],type:"widget",widgetType:"scratchpad",widgetSettings:{scratchpadContent:""}};else if(le==="countdown")de={id:We(),name:"Countdown",items:[],type:"widget",widgetType:"countdown",widgetSettings:{countdownTitle:"My Event",countdownDate:new Date(Date.now()+10080*60*1e3).toISOString(),countdownBehavior:"discrete",countdownPlaySound:!1}};else if(le==="calendar")de={id:We(),name:"Calendar",items:[],isCollapsed:!1,type:"widget",widgetType:"calendar",widgetSettings:{holidayCountry:"SE"}};else if(le==="currency")de={id:We(),name:"Currency Converter",items:[],type:"widget",widgetType:"currency",widgetSettings:{currencyBase:"SEK",currencyTargets:["USD","EUR","NOK"]}};else if(le==="webhook")de={id:We(),name:"Webhook Buttons",items:[],type:"widget",widgetType:"webhook",widgetSettings:{webhookItems:[]}};else if(le==="unit_converter")de={id:We(),name:"Unit Converter",items:[],type:"widget",widgetType:"unit_converter"};else if(le==="network")de={id:We(),name:"Network Info",items:[],type:"widget",widgetType:"network"};else if(le==="solar")de={id:We(),name:"Sunrise / Sunset",items:[],type:"widget",widgetType:"solar",widgetSettings:{solarCity:"Stockholm",solarUse24HourFormat:!0,solarCompactMode:!1,solarDynamicPath:!0}};else if(le==="homey")de={id:We(),name:"Homey Pro Auto Zones",items:[],type:"widget",widgetType:"homey"};else if(le==="radio")de={id:We(),name:"Radio",items:[],type:"widget",widgetType:"radio",widgetSettings:{radioStations:mb}};else if(le==="favorites")de={id:We(),name:"Favorites",items:[],type:"widget",widgetType:"favorites",widgetSettings:{favoritesOrder:[]}};else if(le==="picture")de={id:We(),name:"Image",items:[],type:"widget",widgetType:"picture",widgetSettings:{pictureSourceType:"url",pictureHeight:200,pictureFit:"cover",pictureBorderRadius:!0}};else if(le==="iframe")de={id:We(),name:"Iframe",items:[],type:"widget",widgetType:"iframe",widgetSettings:{iframeUrl:"",iframeHeight:400,iframeViewMode:"desktop",iframeUpdateInterval:0}};else if(le==="homey_custom")de={id:We(),name:"Homey Pro Custom",items:[],type:"widget",widgetType:"homey_custom"};else if(le==="homey_status")de={id:We(),name:"Homey Pro Status",items:[],type:"widget",widgetType:"homey_status"};else if(le==="electricity")de={id:We(),name:"Electricity Prices SE",items:[],type:"widget",widgetType:"electricity",widgetSettings:{electricitySettings:{area:"SE3",showHourly:!0,showDayAvg:!0,showMonthAvg:!0}}};else return fe;return ge.groups.push(de),fe}),r()},ae=()=>{if(!s)return;const{type:le,data:p}=s;le==="deleteTodoItem"?x(w.filter(ye=>ye.id!==p.todoId)):b(ye=>{const fe=JSON.parse(JSON.stringify(ye));switch(le){case"deleteColumn":fe.columns=fe.columns.filter(oe=>oe.id!==p.id);break;case"deleteGroup":const ge=fe.columns.find(oe=>oe.id===p.columnId);ge&&(ge.groups=ge.groups.filter(oe=>oe.id!==p.group.id));break;case"deleteItem":if(ye.layoutType==="layout")fe.items||(fe.items=[]),fe.items=fe.items.filter(oe=>oe.id!==p.item.id);else{const oe=fe.columns.find(he=>he.id===p.columnId),I=oe==null?void 0:oe.groups.find(he=>he.id===p.groupId);I&&(I.items=I.items.filter(he=>he.id!==p.item.id))}break;case"deleteFlowButton":const{columnId:de,groupId:De,holderId:Ue,button:Be}=p,xe=fe.columns.find(oe=>oe.id===de),Ee=xe==null?void 0:xe.groups.find(oe=>oe.id===De),Ae=Ee==null?void 0:Ee.items.find(oe=>oe.id===Ue);Ae&&(Ae.buttons=Ae.buttons.filter(oe=>oe.id!==Be.id));break}return fe}),r()},te=()=>{var ye,fe,ge,de,De,Ue;if(!s)return"";const{type:le,data:p}=s;switch(le){case"addColumn":return"Add Column";case"editColumn":return"Edit Column";case"deleteColumn":return"Delete Column";case"addGroup":return"Add Group";case"editGroup":return"Edit Group";case"deleteGroup":return((ye=p==null?void 0:p.group)==null?void 0:ye.type)==="widget"?"Delete Widget":"Delete Group";case"addLink":return"Add Link";case"editLink":return"Edit Link";case"deleteItem":return"Delete Item";case"importConfirm":return"Confirm Import";case"resetConfirm":return"Reset Application";case"addWidget":return"Add to Column";case"editWidgetSettings":if(((ge=(fe=s.data)==null?void 0:fe.group)==null?void 0:ge.type)!=="widget")return"Group Settings";switch((De=(de=s.data)==null?void 0:de.group)==null?void 0:De.widgetType){case"radio":return"Radio Widget Settings";case"electricity":return"Electricity Widget Settings";default:return"Widget Settings"}case"addLinkOrSeparator":return"Add to Link Group";case"exportOptions":return"Export Data";case"addHomeyCustomItem":return"Add Item to Widget";case"selectHomeyItem":switch(p.itemType){case"large_capability":return"Select Homey Sensor";case"slider":return"Select Homey Slider";case"flow":return"Select Homey Flow";case"variable":return"Select Homey Variable";case"capability":return"Select Homey Capability";case"toggle":return"Select Toggle Device";default:return"Select Homey Item"}case"addOrEditTextItem":return(Ue=s.data)!=null&&Ue.item?"Edit Header":"Add Header";case"editHomeyCustomItemName":return"Edit Item Settings";case"addFlowButton":return"Add Flow Button";case"editFlowButton":return"Edit Flow Button";case"deleteFlowButton":return"Delete Button";case"moveFlowButton":return"Move Button";case"deleteTodoItem":return"Delete Task";case"dashboardSettings":return"Dashboard Settings";case"editHomeyVariableSettings":return"Edit Homey Variable Settings";case"selectLayoutItemType":return"Add to Layout";case"dashboardLayoutSettings":return"Layout Settings";default:return""}},me=()=>{var ye,fe,ge,de,De,Ue,Be,xe,Ee,Ae,oe,I,he,Fe,Le,Xe,Ie,it,zt,Tt,an,dt,jt,Kt,St,ta,hn,Vt,Nn,Sn,kn,qt,Tn,ln,Wt;if(!s)return null;const{type:le,data:p}=s;switch(le){case"addColumn":case"editColumn":return n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Name"}),n.jsx("input",{type:"text",name:"name",defaultValue:p==null?void 0:p.name,required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"width",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Column Width"}),n.jsx("input",{type:"range",name:"width",min:"1",max:"5",defaultValue:(p==null?void 0:p.width)||3,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[n.jsx("span",{children:"Narrow"}),n.jsx("span",{children:"Wide"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]});case"dashboardLayoutSettings":{const _e=p.dashboard,st=window.devicePixelRatio||1,pt=Math.round(ue*st),Pt=Math.round(Ce*st);return n.jsx("div",{className:"max-h-[70svh] overflow-y-auto -m-6 p-6",children:n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-6",children:[n.jsx("input",{type:"hidden",name:"bgType",value:Se}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Dashboard Name"}),n.jsx("input",{type:"text",name:"name",defaultValue:_e.name,required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"canvasWidth",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Canvas Width"}),n.jsx("input",{type:"number",name:"canvasWidth",value:ue,onChange:$t=>ce(parseInt($t.target.value,10)||0),min:"300",max:"8000",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"canvasHeight",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Canvas Height"}),n.jsx("input",{type:"number",name:"canvasHeight",value:Ce,onChange:$t=>Te(parseInt($t.target.value,10)||0),min:"300",max:"8000",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]})]}),n.jsxs("p",{className:`text-xs ${i.modalMutedText} mt-2`,children:["These are CSS units. On your display (",st.toFixed(2),"x scaling), this will render at approx. ",n.jsxs("strong",{children:[pt,"  ",Pt]})," actual pixels."]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("label",{htmlFor:"layoutScale",className:`block text-sm font-medium ${i.modalMutedText}`,children:"Component Scale (in Edit: 100%)"}),n.jsxs("span",{className:`text-sm font-mono font-semibold ${i.modalText}`,children:[Math.round(D*100),"%"]})]}),n.jsx("input",{type:"range",id:"layoutScale",name:"layoutScale",min:"0.5",max:"1.5",step:"0.05",defaultValue:D,onInput:$t=>U(parseFloat($t.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[n.jsx("span",{children:"Smaller"}),n.jsx("span",{children:"Larger"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("label",{htmlFor:"bgCapabilityOpacity",className:`block text-sm font-medium ${i.modalMutedText}`,children:"Capability Background Opacity"}),n.jsxs("span",{className:`text-sm font-mono font-semibold ${i.modalText}`,children:[Math.round(G*100),"%"]})]}),n.jsx("input",{type:"range",id:"bgCapabilityOpacity",name:"bgCapabilityOpacity",min:"0",max:"1",step:"0.05",value:G,onChange:$t=>be(parseFloat($t.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[n.jsx("span",{children:"Transparent"}),n.jsx("span",{children:"Solid"})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showCardTypes",className:"text-sm font-medium",children:"Show Component Type (Top)"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showCardTypes",name:"showCardTypes",defaultChecked:_e.showCardTypes??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"showCardNames",className:"text-sm font-medium",children:"Show Component Name (Bottom)"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showCardNames",name:"showCardNames",defaultChecked:_e.showCardNames??_e.showComponentLabels??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),n.jsx("p",{className:`text-xs ${i.modalMutedText} -mt-4`,children:"In Edit Mode, labels are always visible for easier configuration."}),n.jsxs("div",{className:`p-4 rounded-lg border ${i.inputBg} ${i.dashedBorder} space-y-3`,children:[n.jsx("label",{className:`block text-sm font-medium ${i.modalMutedText}`,children:"Background Image"}),n.jsxs("div",{className:"flex bg-slate-700 p-1 rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>z("url"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${Se==="url"?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:"URL"}),n.jsx("button",{type:"button",onClick:()=>z("upload"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${Se==="upload"?"bg-indigo-600 text-white shadow":"text-slate-300 hover:text-white"}`,children:"Upload"})]}),Se==="url"?n.jsx("input",{type:"text",name:"bgUrl",defaultValue:_e.backgroundImage&&!_e.backgroundImage.startsWith("data:")?_e.backgroundImage:"",placeholder:"https://...",className:`w-full p-2 rounded-md border text-sm ${i.inputBg} ${i.inputFocusRing}`}):n.jsxs("div",{children:[se?n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-24 relative rounded overflow-hidden border border-slate-600 bg-black",children:n.jsx("img",{src:se,alt:"Preview",className:"w-full h-full object-cover opacity-70"})}),n.jsxs("button",{type:"button",onClick:()=>{we(null)},className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-red-400 hover:bg-red-900/20 rounded transition-colors",children:[n.jsx(mn,{className:"w-4 h-4"})," Remove"]})]}):n.jsx("input",{type:"file",accept:"image/*",onChange:H,className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700"}),C&&n.jsx("p",{className:"text-xs text-red-400 mt-2",children:C})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Background Color (Fallback)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",defaultValue:_e.customBackgroundColor||"#000000",onChange:$t=>{const _n=document.getElementById("bgColorText");_n&&(_n.value=$t.target.value)},className:"h-10 w-12 bg-transparent border-0 p-0 cursor-pointer rounded"}),n.jsx("input",{id:"bgColorText",type:"text",name:"bgColor",defaultValue:_e.customBackgroundColor||"",placeholder:"#...",className:`flex-1 p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]})})}case"addGroup":case"editGroup":return n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Name"}),n.jsx("input",{type:"text",name:"name",defaultValue:p!=null&&p.group?p.group.name:"",required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]});case"addLink":case"editLink":return n.jsx("div",{className:"max-h-[70svh] overflow-y-auto -m-6 p-6",children:n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Name"}),n.jsx("input",{type:"text",name:"name",defaultValue:(ye=p==null?void 0:p.link)==null?void 0:ye.name,required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"url",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"URL"}),n.jsx("input",{type:"text",name:"url",value:Z,onChange:_e=>T(_e.target.value),required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"comment",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Comment / Tooltip (optional)"}),n.jsx("input",{type:"text",name:"comment",defaultValue:(fe=p==null?void 0:p.link)==null?void 0:fe.comment,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"isFavorite",className:"text-sm font-medium",children:"Add to Favorites"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"isFavorite",name:"isFavorite",defaultChecked:(ge=p==null?void 0:p.link)==null?void 0:ge.isFavorite,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]})});case"deleteColumn":case"deleteGroup":case"deleteItem":case"deleteTodoItem":case"deleteFlowButton":{let _e="this item";switch(le){case"deleteColumn":_e=`'${p.name}'`;break;case"deleteGroup":_e=`'${p.group.name}'`;break;case"deleteItem":switch(p.item.type){case"link":_e=`'${p.item.name}'`;break;case"text":_e="this header";break;case"separator":_e="this separator";break;case"homey_capability":_e="this Homey capability";break;case"homey_large_capability":_e="this Homey Large capability";break;case"homey_flow":_e="this Homey flow";break;case"button_holder":_e="this button holder and all its buttons";break;default:_e="this item"}break;case"deleteTodoItem":{const st=w.find(pt=>pt.id===p.todoId);_e=st?`'${st.text}'`:"this task";break}case"deleteFlowButton":_e=`the '${p.button.symbol}' button`;break}return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:i.textMuted,children:["Are you sure you want to delete ",_e,"? ",n.jsx("br",{}),"This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{onClick:ae,className:`${i.buttonDanger} px-4 py-2 rounded-lg`,children:"Delete"})]})]})}case"resetConfirm":return n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-red-400 font-bold",children:"Warning: This will delete ALL your data including dashboards, links, and settings."}),n.jsx("p",{className:i.textMuted,children:"Make sure you have exported a backup if you want to save your current configuration."}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[n.jsx("button",{onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{onClick:ee,className:`${i.buttonDanger} px-4 py-2 rounded-lg`,children:"Reset Everything"})]})]});case"importConfirm":return n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:i.modalMutedText,children:"Are you sure you want to import this file? This will overwrite all your current settings, columns, and links."}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{onClick:()=>J(p),className:`${i.buttonDanger} px-4 py-2 rounded-lg`,children:"Yes, Overwrite"})]})]});case"addWidget":{const _e=(de=h.columns)==null?void 0:de.some(ot=>ot.groups.some(Mt=>Mt.widgetType==="todo")),st=(De=h.columns)==null?void 0:De.some(ot=>ot.groups.some(Mt=>Mt.widgetType==="calculator")),pt=(Ue=h.columns)==null?void 0:Ue.some(ot=>ot.groups.some(Mt=>Mt.widgetType==="calendar")),Pt=(Be=h.columns)==null?void 0:Be.some(ot=>ot.groups.some(Mt=>Mt.widgetType==="radio")),$t=(xe=h.columns)==null?void 0:xe.some(ot=>ot.groups.some(Mt=>Mt.widgetType==="favorites")),_n=(Ee=h.columns)==null?void 0:Ee.some(ot=>ot.groups.some(Mt=>Mt.widgetType==="network")),na=n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:()=>{r(),c("addGroup",p)},className:`col-span-2 w-full text-left p-2.5 rounded-lg transition-colors flex items-center gap-3 ${i.buttonSecondary} text-sm`,children:[n.jsx(oh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Link Group"})]}),n.jsxs("button",{onClick:()=>W("weather",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(lu,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Weather"})]}),n.jsxs("button",{onClick:()=>W("clock",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Uh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Clock"})]}),n.jsxs("button",{onClick:()=>W("timer",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Ih,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Timer / Stopwatch"})]}),n.jsxs("button",{onClick:()=>W("rss",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Fh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"RSS Feed"})]}),n.jsxs("button",{onClick:()=>W("currency",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Yh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Currency"})]}),n.jsxs("button",{onClick:()=>W("webhook",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(rr,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Webhook"})]}),n.jsxs("button",{onClick:()=>W("scratchpad",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Jc,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Notepad"})]}),n.jsxs("button",{onClick:()=>W("countdown",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(ru,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Countdown"})]}),n.jsxs("button",{onClick:()=>W("unit_converter",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Gh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Unit Converter"})]}),n.jsxs("button",{onClick:()=>W("solar",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(nr,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Sunrise / Sunset"})]}),n.jsxs("button",{onClick:()=>W("picture",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(iu,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Image"})]}),n.jsxs("button",{onClick:()=>W("iframe",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(ou,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Iframe (Limited)"})]}),n.jsxs("button",{onClick:()=>W("electricity",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(rr,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Electricity Prices SE"})]})]}),Yt=n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[!pt&&n.jsxs("button",{onClick:()=>W("calendar",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Lh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Calendar"})]}),!_e&&n.jsxs("button",{onClick:()=>W("todo",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(zh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"To-Do List"})]}),!st&&n.jsxs("button",{onClick:()=>W("calculator",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Vh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Calculator"})]}),!_n&&n.jsxs("button",{onClick:()=>W("network",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Zh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Network Info"})]}),!Pt&&n.jsxs("button",{onClick:()=>W("radio",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Qh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Radio Player"})]}),!$t&&n.jsxs("button",{onClick:()=>W("favorites",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(os,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Favorites"})]})]}),Gt=n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{onClick:()=>W("homey",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(ir,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Homey Pro Auto Zones"})]}),n.jsxs("button",{onClick:()=>W("homey_custom",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(ir,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Homey Pro Custom"})]}),n.jsxs("button",{onClick:()=>W("homey_status",p.columnId),className:`w-full flex items-center gap-2 p-2.5 text-sm rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx(Jh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Homey Pro Status"})]})]});return n.jsxs("div",{onPointerDownCapture:ot=>ot.stopPropagation(),onTouchStartCapture:ot=>ot.stopPropagation(),children:[n.jsx("p",{className:`${i.modalMutedText} mb-4`,children:"Select an item to add to this column:"}),n.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:`text-xs uppercase tracking-wider font-bold ${i.modalMutedText} mb-2`,children:"Multi Instance Widgets"}),na]}),n.jsx("hr",{className:"border-slate-700"}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-xs uppercase tracking-wider font-bold ${i.modalMutedText} mb-2`,children:"Single-Instance Widgets"}),Yt]}),n.jsx("hr",{className:"border-slate-700"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs uppercase tracking-wider font-bold text-yellow-500/80 mb-2",children:"HOMEY PRO Widgets"}),Gt]})]})]})}case"editWidgetSettings":return n.jsx("div",{className:"max-h-[70svh] overflow-y-auto -m-6 p-6",children:n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[p.group.widgetType!=="calculator"&&p.group.widgetType!=="scratchpad"&&p.group.widgetType!=="unit_converter"&&p.group.widgetType!=="network"&&p.group.widgetType!=="homey_status"&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"name",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:["Name ",n.jsx("span",{className:"text-xs font-normal opacity-70",children:"(max 30 chars)"})]}),n.jsx("input",{type:"text",name:"name",defaultValue:p.group.name,required:!0,maxLength:30,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsx(Qx,{currentColor:p.group.colorVariant||"default",themeClasses:i}),p.group.type!=="widget"&&n.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"compactMode",className:"text-sm font-medium",children:"Compact Mode"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"compactMode",name:"compactMode",defaultChecked:(Ae=p.group.widgetSettings)==null?void 0:Ae.compactMode,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"displayAsPopup",className:"text-sm font-medium",children:"Display as Pop-Up"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"displayAsPopup",name:"displayAsPopup",defaultChecked:(oe=p.group.widgetSettings)==null?void 0:oe.displayAsPopup,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500 -mt-2",children:"Instead of unfolding, the group will open in a centered window."})]}),p.group.widgetType==="weather"&&n.jsx(fb,{group:p.group,themeClasses:i}),p.group.widgetType==="clock"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"timezone",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Timezone"}),n.jsx("select",{name:"timezone",defaultValue:((I=p.group.widgetSettings)==null?void 0:I.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing} max-h-60`,children:Nh.map(_e=>n.jsx("option",{value:_e.code,children:_e.name},_e.code))})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"showSeconds",className:"text-sm font-medium",children:"Show Seconds"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showSeconds",name:"showSeconds",defaultChecked:((he=p.group.widgetSettings)==null?void 0:he.showSeconds)??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"showDate",className:"text-sm font-medium",children:"Show Date"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"showDate",name:"showDate",defaultChecked:((Fe=p.group.widgetSettings)==null?void 0:Fe.showDate)??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),p.group.widgetType==="timer"&&n.jsx(ub,{group:p.group,themeClasses:i}),p.group.widgetType==="rss"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"rssUrl",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"RSS Feed URL"}),n.jsx("input",{type:"url",name:"rssUrl",defaultValue:(Le=p.group.widgetSettings)==null?void 0:Le.rssUrl,placeholder:"https://example.com/feed.xml",required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"rssItemCount",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Number of Items to show"}),n.jsx("input",{type:"number",name:"rssItemCount",defaultValue:((Xe=p.group.widgetSettings)==null?void 0:Xe.rssItemCount)||5,min:"1",max:"20",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"rssUpdateInterval",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Update Interval (minutes)"}),n.jsx("input",{type:"number",name:"rssUpdateInterval",defaultValue:((Ie=p.group.widgetSettings)==null?void 0:Ie.rssUpdateInterval)||60,min:"0",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0 to disable auto-updates."})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-slate-700",children:[n.jsx("label",{htmlFor:"rssEnableScroll",className:"text-sm font-medium",children:"Enable Vertical Scroll"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"rssEnableScroll",name:"rssEnableScroll",defaultChecked:((it=p.group.widgetSettings)==null?void 0:it.rssEnableScroll)??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsx("p",{className:"text-xs text-slate-500 -mt-2",children:"If disabled, the widget will grow to show all content."})]}),p.group.widgetType==="countdown"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"countdownTitle",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Title"}),n.jsx("input",{type:"text",name:"countdownTitle",defaultValue:(zt=p.group.widgetSettings)==null?void 0:zt.countdownTitle,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"countdownDate",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Target Date & Time"}),n.jsx("input",{type:"datetime-local",name:"countdownDate",defaultValue:(an=(Tt=p.group.widgetSettings)==null?void 0:Tt.countdownDate)==null?void 0:an.slice(0,16),required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"countdownBehavior",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Completion Effect"}),n.jsxs("select",{name:"countdownBehavior",defaultValue:((dt=p.group.widgetSettings)==null?void 0:dt.countdownBehavior)||"discrete",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`,children:[n.jsx("option",{value:"discrete",children:"Text Only (Discrete)"}),n.jsx("option",{value:"confetti",children:"Confetti Explosion "}),n.jsx("option",{value:"fullscreen",children:"Fullscreen Alert "}),n.jsx("option",{value:"intense",children:"Flashing Red (Intense) "})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"countdownPlaySound",className:"text-sm font-medium",children:"Play Alarm Sound on Finish"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"countdownPlaySound",name:"countdownPlaySound",defaultChecked:(jt=p.group.widgetSettings)==null?void 0:jt.countdownPlaySound,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),p.group.widgetType==="calendar"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"holidayCountry",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Country for Holidays"}),n.jsx("select",{name:"holidayCountry",defaultValue:((Kt=p.group.widgetSettings)==null?void 0:Kt.holidayCountry)||"SE",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`,children:Nh.map(_e=>n.jsx("option",{value:_e.code,children:_e.name},_e.code))})]}),p.group.widgetType==="todo"&&n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"todoConfirmDelete",className:"text-sm font-medium",children:"Confirm before deleting tasks"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"todoConfirmDelete",name:"todoConfirmDelete",defaultChecked:((St=p.group.widgetSettings)==null?void 0:St.todoConfirmDelete)??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),p.group.widgetType==="currency"&&n.jsx(Xx,{group:p.group,themeClasses:i}),p.group.widgetType==="webhook"&&n.jsx(Kx,{group:p.group,themeClasses:i}),p.group.widgetType==="solar"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"solarCity",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"City"}),n.jsx("input",{type:"text",name:"solarCity",defaultValue:(ta=p.group.widgetSettings)==null?void 0:ta.solarCity,placeholder:"e.g. London",required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"solarUse24HourFormat",className:"text-sm font-medium",children:"24-hour Time Format"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"solarUse24HourFormat",name:"solarUse24HourFormat",defaultChecked:(hn=p.group.widgetSettings)==null?void 0:hn.solarUse24HourFormat,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"solarCompactMode",className:"text-sm font-medium",children:"Compact Mode"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"solarCompactMode",name:"solarCompactMode",defaultChecked:(Vt=p.group.widgetSettings)==null?void 0:Vt.solarCompactMode,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsx("label",{htmlFor:"solarDynamicPath",className:"text-sm font-medium",children:"Dynamic Sun Path Height"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",id:"solarDynamicPath",name:"solarDynamicPath",defaultChecked:((Nn=p.group.widgetSettings)==null?void 0:Nn.solarDynamicPath)??!0,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),p.group.widgetType==="homey"&&n.jsx(Wx,{group:p.group,themeClasses:i,globalIp:(Sn=N.homey)==null?void 0:Sn.localIp,globalToken:(kn=N.homey)==null?void 0:kn.apiToken}),p.group.widgetType==="radio"&&n.jsx(tb,{group:p.group,themeClasses:i}),p.group.widgetType==="favorites"&&n.jsx(nb,{group:p.group,dashboards:f,themeClasses:i}),p.group.widgetType==="picture"&&n.jsx(lb,{group:p.group,themeClasses:i}),p.group.widgetType==="iframe"&&n.jsx(sb,{group:p.group,themeClasses:i}),p.group.widgetType==="homey_custom"&&n.jsx(ib,{group:p.group,themeClasses:i}),p.group.widgetType==="electricity"&&n.jsx(cb,{group:p.group,themeClasses:i}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]})});case"addLinkOrSeparator":return n.jsxs("div",{children:[n.jsx("p",{className:`${i.modalMutedText} text-sm mb-4`,children:"Select an item to add to the group:"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("button",{onClick:()=>{r(),c("addLink",{groupId:p.groupId,columnId:p.columnId})},className:`w-full flex items-center justify-center gap-3 p-3 rounded-lg transition-colors font-semibold ${i.buttonSecondary} hover:brightness-110`,children:[n.jsx("div",{className:i.iconMuted,children:n.jsx(oh,{className:"w-5 h-5"})}),n.jsx("span",{children:"Add Link"})]}),n.jsxs("button",{onClick:()=>_(p.groupId,p.columnId),className:`w-full flex items-center justify-center gap-3 p-3 rounded-lg transition-colors font-semibold ${i.buttonSecondary} hover:brightness-110`,children:[n.jsx("div",{className:i.iconMuted,children:n.jsx(ch,{className:"w-5 h-5"})}),n.jsx("span",{children:"Add Separator"})]})]})]});case"exportOptions":return n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"filename",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Filename"}),n.jsx("input",{type:"text",name:"filename",defaultValue:`startpanel-backup-${new Date().toISOString().slice(0,10)}`,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-md text-sm text-yellow-200 flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 pt-0.5",children:n.jsx(jl,{className:"w-5 h-5 text-yellow-300"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold",children:"Important: About Your Backup File"}),n.jsx("p",{className:"mt-1 text-xs text-yellow-200/90",children:"This is an unencrypted text file containing all your settings, including potentially sensitive information like your Homey Personal Access Token. Please treat this file with care and store it in a secure, private location."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Download"})]})]});case"addHomeyCustomItem":return n.jsxs("div",{children:[n.jsx("p",{className:`${i.modalMutedText} mb-4`,children:"Select an item type to add:"}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{...p,itemType:"capability"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(Xh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Capability (Sensor/Toggle)"})]}),n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{...p,itemType:"large_capability"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(cu,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Large Capability (Sensor)"})]}),n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{...p,itemType:"slider"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(Xg,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Slider"})]}),n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{...p,itemType:"flow"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(Bi,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Flow"})]}),n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{...p,itemType:"variable"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary} disabled:opacity-50 disabled:cursor-not-allowed`,children:[n.jsx(uh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Variable"})]}),n.jsxs("button",{onClick:()=>Q(p.groupId,p.columnId),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(Kh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Button Holder"})]}),n.jsxs("button",{onClick:()=>{r(),c("addOrEditTextItem",{...p})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(Jc,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Text / Header"})]}),n.jsxs("button",{onClick:()=>_(p.groupId,p.columnId),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(ch,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Separator"})]})]})]});case"selectLayoutItemType":return n.jsxs("div",{children:[n.jsx("p",{className:`${i.modalMutedText} mb-4`,children:"Select an item to add to your layout:"}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{itemType:"capability"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(ex,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Capabilities"})]}),n.jsxs("button",{onClick:()=>{r(),c("selectHomeyItem",{itemType:"variable"})},className:`w-full flex items-center gap-3 p-3 rounded-lg text-left text-sm transition-colors ${i.buttonSecondary}`,children:[n.jsx(uh,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Variable"})]})]})]});case"selectHomeyItem":return n.jsx("div",{className:"max-h-[70svh] overflow-y-auto -m-6 p-6",children:n.jsx(rb,{themeClasses:i,globalIp:(qt=N.homey)==null?void 0:qt.localIp,globalToken:(Tn=N.homey)==null?void 0:Tn.apiToken,itemType:p.itemType,onSelect:_e=>O({..._e,...p})})});case"addOrEditTextItem":return n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"textContent",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Header Text"}),n.jsx("input",{type:"text",name:"textContent",defaultValue:((ln=p.item)==null?void 0:ln.content)||"",autoFocus:!0,required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]});case"editHomeyCustomItemName":{const _e=!p.groupId&&!p.columnId,st=p.item.capabilityId==="onoff",pt=_e&&p.item.type==="homey_capability"&&["alarm_contact","window_open"].includes(p.item.capabilityId),Pt=p.item.type==="homey_capability"||p.item.type==="homey_large_capability";return n.jsxs("form",{ref:B,onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-slate-400 mb-2",children:["Editing: ",n.jsx("span",{className:"font-semibold text-white",children:p.item.customName||p.staticData.name})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customName",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Custom Name (Optional)"}),n.jsx("input",{type:"text",name:"customName",defaultValue:p.item.customName||"",placeholder:"Leave empty to use default name",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),_e&&st&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"toggleStyle",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Display Style"}),n.jsxs("select",{name:"toggleStyle",defaultValue:p.item.toggleStyle||"lamp",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`,children:[n.jsx("option",{value:"lamp",children:"Lamp (Discreet/Yellow)"}),n.jsx("option",{value:"power",children:"Power Button (Discreet/Green)"})]})]}),pt&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"booleanIconStyle",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Display Style"}),n.jsxs("select",{name:"booleanIconStyle",defaultValue:p.item.booleanIconStyle||"text",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`,children:[n.jsx("option",{value:"text",children:"Text Only"}),n.jsx("option",{value:"door",children:"Door Icon"}),n.jsx("option",{value:"window",children:"Window Icon"})]})]}),Pt&&n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{htmlFor:"isInverted",className:"text-sm font-medium",children:"Define 'False' state as Alarm"}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Default: 'True' state (e.g., Open, On, Leak) is the alarm. When checked, the 'False' state (e.g., Closed, Off, Dry) will be treated as the alarm and shown in red.",n.jsx("br",{}),"Note: Not all units will invert with this setting"]})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[n.jsx("input",{type:"checkbox",id:"isInverted",name:"isInverted",defaultChecked:p.item.isInverted,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-slate-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]})}case"addFlowButton":case"editFlowButton":return n.jsxs("form",{onSubmit:$,ref:B,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"flowId",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Select Action"}),n.jsxs("select",{id:"flowId",name:"flowId",defaultValue:p.button?`${p.button.flowId}|${p.button.flowName||""}`:void 0,required:!0,className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`,children:[n.jsx("option",{value:"---SPACER---|No Action (Spacer)",children:"--- No Action (Spacer) ---"}),Object.values(A).filter(_e=>_e.triggerable).sort((_e,st)=>_e.name.localeCompare(st.name)).map(_e=>n.jsx("option",{value:`${_e.id}|${_e.name}`,children:_e.name},_e.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"symbol",className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Button Symbol (optional for spacer)"}),n.jsx("input",{type:"text",id:"symbol",name:"symbol",defaultValue:((Wt=p.button)==null?void 0:Wt.symbol)||"",maxLength:3,placeholder:"e.g. Vol, ",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Up to 3 characters or an emoji."}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'In Windows press: "WIN - ."'})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} font-semibold py-2 px-4 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} font-semibold py-2 px-4 rounded-lg`,children:"Save"})]})]});case"editHomeyVariableSettings":{const _e=V[p.item.variableId];return n.jsx("div",{className:"max-h-[70svh] overflow-y-auto -m-6 p-6",children:n.jsxs("form",{ref:B,onSubmit:$,children:[n.jsx(ob,{item:p.item,variable:_e,themeClasses:i}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[n.jsx("button",{type:"button",onClick:r,className:`${i.buttonSecondary} px-4 py-2 rounded-lg`,children:"Cancel"}),n.jsx("button",{type:"submit",className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Save"})]})]})})}case"dashboardSettings":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Name"}),n.jsx("input",{type:"text",value:h.name,onChange:_e=>b(st=>({...st,name:_e.target.value})),className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Background Image URL"}),n.jsx("input",{type:"text",value:h.backgroundImage||"",onChange:_e=>b(st=>({...st,backgroundImage:_e.target.value})),placeholder:"https://...",className:`w-full p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium ${i.modalMutedText} mb-1`,children:"Background Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:h.customBackgroundColor||"#000000",onChange:_e=>b(st=>({...st,customBackgroundColor:_e.target.value})),className:"h-10 w-12 bg-transparent border-0 p-0 cursor-pointer rounded"}),n.jsx("input",{type:"text",value:h.customBackgroundColor||"",onChange:_e=>b(st=>({...st,customBackgroundColor:_e.target.value})),placeholder:"#...",className:`flex-1 p-2 rounded-md border ${i.inputBg} ${i.inputFocusRing}`})]})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{onClick:r,className:`${i.buttonPrimary} px-4 py-2 rounded-lg`,children:"Done"})})]});default:return null}};return n.jsx(du,{isOpen:!!s,onClose:r,title:te(),themeClasses:i,children:me()})},pb={google:{name:"Google",url:"https://www.google.com/search?q=",home:"https://www.google.com"},duckduckgo:{name:"DuckDuckGo",url:"https://duckduckgo.com/?q=",home:"https://duckduckgo.com"},bing:{name:"Bing",url:"https://www.bing.com/search?q=",home:"https://www.bing.com"},brave:{name:"Brave Search",url:"https://search.brave.com/search?q=",home:"https://search.brave.com"},ecosia:{name:"Ecosia",url:"https://www.ecosia.org/search?q=",home:"https://www.ecosia.org/"}},gb=({isEditMode:s,pageTitle:r,setPageTitle:c,themeClasses:i,settings:f,searchQuery:m,setSearchQuery:h,handleSearchSubmit:y,isFirefox:w,dashboards:x,activeDashboard:N,isDashboardDropdownOpen:j,setIsDashboardDropdownOpen:S,setActiveDashboardId:A,dashboardDropdownRef:V,onRequestExport:J,handleToggleEditMode:ee,isBackupOverdue:P,setIsSettingsModalOpen:M})=>{var Z;return n.jsxs("header",{className:"flex-shrink-0 grid grid-cols-2 md:grid-cols-[auto_1fr_auto] grid-rows-[auto_auto] items-end gap-y-4 gap-x-2 mb-6 pt-4 px-2 sm:pt-6 sm:px-4 lg:pt-8 lg:px-6",children:[n.jsx("div",{className:"justify-self-start w-full min-w-0 col-span-1 md:col-auto",children:s?n.jsx("input",{type:"text",value:r,onChange:T=>c(T.target.value),maxLength:30,className:`text-3xl font-bold bg-transparent border-b border-slate-600 focus:border-indigo-500 outline-none pl-2 w-full ${i.header}`,placeholder:"Page Title"}):n.jsx("h1",{className:`text-3xl font-bold ${i.header} pl-2 truncate`,children:r})}),f.showSearch?n.jsx("div",{className:`w-full max-w-3xl justify-self-center h-10 flex items-center relative col-span-2 md:col-auto order-last md:order-none ${w?"md:-top-1":"md:top-2"}`,children:n.jsx("form",{onSubmit:y,className:"w-full",children:n.jsxs("div",{className:"flex w-full",children:[n.jsxs("div",{className:"relative flex-grow",children:[n.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:n.jsx(qh,{className:`h-5 w-5 ${i.iconMuted}`,"aria-hidden":"true"})}),n.jsx("input",{type:"search",name:"search",id:"search",value:m,onChange:T=>h(T.target.value),placeholder:`Search with ${((Z=pb[f.searchEngine])==null?void 0:Z.name)||"Google"}...`,className:`block w-full rounded-l-md rounded-r-none border-0 py-2 pl-10 pr-3 ${i.inputBg} ${i.inputFocusRing} placeholder:text-slate-400 sm:text-sm sm:leading-6 disabled:opacity-50 disabled:cursor-not-allowed`,disabled:s})]}),n.jsx("button",{type:"submit",className:`${i.buttonSecondary} rounded-l-none rounded-r-md px-4 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed`,disabled:s,children:"Go"})]})})}):n.jsx("div",{className:"hidden md:block"}),n.jsxs("div",{className:"justify-self-end flex items-center gap-3 col-span-1 md:col-auto",children:[x.length>1&&f.dashboardView==="dropdown"&&n.jsxs("div",{className:"relative",ref:V,children:[n.jsxs("button",{onClick:()=>S(T=>!T),className:`flex items-center gap-2 font-semibold py-2 px-4 rounded-lg transition-colors ${i.buttonSecondary}`,children:[n.jsx("span",{className:"truncate max-w-[150px] text-base font-semibold",children:N.name}),n.jsx(cr,{className:`w-5 h-5 transition-transform ${j?"rotate-180":""}`})]}),j&&n.jsx("div",{className:`absolute z-20 top-full mt-2 w-48 rounded-md shadow-lg border ${i.modalBg} ${i.dashedBorder}`,children:n.jsx("ul",{className:"py-1",children:x.map(T=>n.jsx("li",{children:n.jsx("button",{onClick:()=>{A(T.id),S(!1)},className:`w-full text-left px-4 py-2 text-sm font-medium ${T.id===N.id?i.header:i.modalMutedText} ${i.linkHoverBg}`,children:T.name})},T.id))})})]}),s&&n.jsxs("button",{onClick:J,className:`${i.buttonSecondary} flex items-center gap-2 font-semibold py-2 px-4 rounded-lg transition-colors`,children:[n.jsx(_i,{className:"w-5 h-5"}),n.jsx("span",{children:"Backup"})]}),n.jsxs("button",{onClick:ee,className:`${s?i.buttonPrimary:i.buttonSecondary} flex items-center gap-2 font-semibold py-2 px-4 rounded-lg transition-colors`,children:[n.jsx(lr,{className:"w-5 h-5"}),n.jsx("span",{children:s?"Done":"Edit"})]}),!s&&n.jsxs("div",{className:"flex items-center gap-2",children:[P&&n.jsx("button",{onClick:J,className:"text-yellow-500 hover:text-yellow-400 transition-colors animate-pulse",title:"Backup Overdue! Click to export data.",children:n.jsx(jl,{className:"w-6 h-6"})}),n.jsx("button",{onClick:()=>M(!0),className:`${i.buttonSecondary} p-2 rounded-lg transition-colors`,"aria-label":"Settings",children:n.jsx(is,{className:"w-6 h-6"})})]})]}),x.length>1&&f.dashboardView==="tabs"&&n.jsx("div",{className:"col-span-2 md:col-span-3 md:row-start-2 -mb-6 pb-2 overflow-x-auto px-2 sm:px-4 lg:px-6",children:n.jsx("div",{className:"flex items-center border-b-2 border-slate-700 space-x-2",children:x.map(T=>n.jsx("button",{onClick:()=>A(T.id),className:`py-2 px-4 font-semibold text-sm whitespace-nowrap transition-colors rounded-t-md ${T.id===N.id?`${i.buttonPrimary} border-b-2 border-transparent`:`${i.textMuted} ${i.linkHoverBg}`}`,children:T.name},T.id))})})]})},Sh={alarm_contact:{true:"Open",false:"Closed"},lock:{true:"Locked",false:"Unlocked"},alarm_motion:{true:"Motion",false:"Clear"},window_open:{true:"Open",false:"Closed"},alarm_water:{true:"Leak!",false:"Dry"},alarm_smoke:{true:"Smoke!",false:"Clear"},alarm_co:{true:"CO!",false:"Clear"},alarm_tamper:{true:"Tampered!",false:"OK"},alarm_battery:{true:"Low",false:"OK"}},xb=new Set(["alarm_water","alarm_smoke","alarm_co","alarm_tamper","alarm_battery"]),bb=s=>s<=0?"0s":s<10?"10s":s<100?"5s":s<500?"3s":s<2e3?"1.5s":"0.7s",yb=({item:s,themeClasses:r,isEditMode:c,onPointerDown:i,draggedItem:f,openModal:m,homeyDevices:h,homeyVariables:y,homeyGlobalSettings:w,onHomeyToggle:x,onHomeyOptimisticUpdate:N,showCardTypes:j=!0,showCardNames:S=!0,layoutScale:A,bgCapabilityOpacity:V})=>{var D,U,G,be;const J=v.useRef(null),{id:ee,x:P,y:M,w:Z,h:T}=s,[B,C]=v.useState({name:"..."}),L=((U=(D=r.groupBg)==null?void 0:D.split("/"))==null?void 0:U[0])??"";v.useEffect(()=>{const{localIp:H,apiToken:b}=w||{};if(!H||!b)return;const O=H.trim().startsWith("http")?H.trim():`http://${H.trim()}`,$={Authorization:`Bearer ${b.replace(/^Bearer\s+/i,"").trim()}`};if(s.type==="homey_capability"||s.type==="homey_large_capability")Promise.all([fetch(`${O}/api/manager/devices/device/${s.deviceId}`,{headers:$}),fetch(`${O}/api/manager/zones/zone`,{headers:$})]).then(async([_,Q])=>{var me;if(!_.ok)throw new Error("Failed to fetch static device data");const W=await _.json(),ae=await Q.json(),te=W.capabilitiesObj[s.capabilityId];C({name:W.name,capabilityTitle:s.capabilityId==="onoff"?"Toggle":(te==null?void 0:te.title)||"N/A",zone:(me=ae[W.zone])==null?void 0:me.name})}).catch(_=>console.error("Failed to fetch static item data",_));else if(s.type==="homey_variable"){const _=y[s.variableId];_&&C({name:_.name})}},[s,w,y]);const se=H=>{H.stopPropagation(),i(H,{type:"layoutItem",item:s},J.current)},we=(f==null?void 0:f.type)==="layoutItem"&&f.item.id===ee,Se=c?1:A||1;let z="",ue=null,ce="";if(s.type==="homey_variable"){const H=y[s.variableId],b=H==null?void 0:H.value,O=H==null?void 0:H.type,$=(te,me=40)=>te.length>me?te.slice(0,me-3)+"...":te;z=O?O.charAt(0).toUpperCase()+O.slice(1):"Variable";let _=b??"-",Q,W=!1,ae=!1;if(O==="boolean"&&typeof b=="boolean"){const{booleanDisplay:te,booleanTrueText:me,booleanFalseText:le}=s,p=!!b,fe=s.isInverted??!1?!p:p;switch(W=fe===!0,ae=fe===!1,te){case"onOff":_=b?"On":"Off";break;case"yesNo":_=b?"Yes":"No";break;case"openClosed":_=b?"Open":"Closed";break;case"lockedUnlocked":_=b?"Locked":"Unlocked";break;case"custom":_=b?me||"true":le||"false";break;default:_=b?"true":"false";break}}typeof _=="string"?Q=$(_):Q=String(_),ue=n.jsxs("div",{className:"flex items-center justify-center",title:typeof _=="string"?_:void 0,children:[W&&n.jsx("span",{className:"inline-block w-2.5 h-2.5 mr-2 rounded-full bg-green-500"}),n.jsx("span",{className:`font-bold break-words ${r.header} ${ae?"text-red-500":""}`,style:{fontSize:"1.5rem",lineHeight:"1.1"},children:Q})]}),ce=s.customName||B.name}else if(s.type==="homey_capability"||s.type==="homey_large_capability"){const H=(G=h[s.deviceId])==null?void 0:G.capabilitiesObj[s.capabilityId],b=H==null?void 0:H.value,O=H==null?void 0:H.units,$=s.capabilityId==="onoff",_=s.booleanIconStyle,Q=s.capabilityId==="measure_power";if(z=B.capabilityTitle||($?"Toggle":"Sensor"),z==="Frggmttnad"&&(z="Frgmttnad"),$)(s.toggleStyle||"lamp")==="power"?ue=n.jsx("button",{onClick:()=>x(s.deviceId,s.capabilityId,!!b),disabled:c,className:"flex flex-col justify-center items-center w-full h-full",children:n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all duration-200 ${b?"border-green-400 bg-green-500 text-white":"border-slate-600 bg-slate-700 text-slate-300"} `,children:n.jsx(Vg,{className:"w-7 h-7"})})}):ue=n.jsx("button",{onClick:()=>x(s.deviceId,s.capabilityId,!!b),disabled:c,className:"flex flex-col justify-center items-center w-full h-full",children:n.jsx("div",{className:`
                                w-12 h-12 rounded-full
                                flex items-center justify-center
                                transition-all duration-200
                                border-2
                                ${b?"bg-yellow-400 border-yellow-200 shadow-[0_0_15px_rgba(250,204,21,0.6)]":"bg-slate-700 border-slate-600 shadow-md"}
                            `,children:n.jsx(Xh,{className:`
                                    w-7 h-7 transition-colors
                                    ${b?"text-yellow-900":"text-slate-300"}
                                `})})});else if((_==="door"||_==="window")&&typeof b=="boolean"){const W=!!b,te=s.isInverted??!1?!W:W,me=te?"text-red-500":"text-slate-400",le=!te,p=_==="window"?Pg:Kg,ye=_==="window"?Wg:Jg;ue=n.jsx("div",{className:"flex flex-col justify-center items-center w-full h-full",children:n.jsxs("div",{className:"flex items-center justify-center",children:[le&&n.jsx("span",{className:"inline-block w-2.5 h-2.5 mr-1 rounded-full bg-green-500 shadow-sm"}),n.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:W?n.jsx(p,{className:`w-12 h-12 ${me}`}):n.jsx(ye,{className:`w-12 h-12 ${me}`})})]})})}else if(xb.has(s.capabilityId)&&b===!0)ue=n.jsxs("div",{className:"flex flex-col justify-center items-center w-full h-full text-red-500",children:[n.jsx(jl,{className:"w-10 h-10"}),n.jsx("span",{className:"font-bold mt-1 text-base",children:((be=Sh[s.capabilityId])==null?void 0:be.true)||"Alert!"})]});else if(Q&&typeof b=="number"){const W=de=>de==null?"-":typeof de=="number"?de>=1e3?String(Math.round(de)):String(Math.round(de*10)/10):String(de),ae=bb(b),te=b<=.01,me=s.isInverted??!1;let le="",p=!1,ye="",fe=!1,ge="";me?te?ge="text-red-500":(p=!0,le="text-slate-400",fe=!0,ye="bg-green-500"):te?(fe=!0,ye="bg-green-500"):(p=!0,le="text-red-500"),ue=n.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[p&&n.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none ${le}`,style:{opacity:.6},children:n.jsx("svg",{viewBox:"0 0 100 100",className:"w-[140%] h-[140%] animate-spin",style:{animationDuration:ae},children:n.jsx("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"currentColor",strokeWidth:"9",strokeDasharray:"18 18",strokeLinecap:"round"})})}),n.jsxs("div",{className:"relative z-10 flex items-baseline justify-center bg-transparent",children:[fe&&n.jsx("span",{className:`inline-block w-2.5 h-2.5 mr-2 rounded-full ${ye} self-center shadow-sm`}),n.jsx("span",{className:`text-3xl font-bold font-mono tracking-tighter leading-none ${ge}`,children:W(b)}),O&&n.jsx("span",{className:`text-xl font-mono tracking-tighter leading-none ml-1 ${r.textMuted}`,children:O})]})]})}else{const W=ge=>{if(ge==null)return"-";if(typeof ge=="boolean"){const de=Sh[s.capabilityId];return de?ge?de.true:de.false:ge?"ON":"OFF"}return typeof ge=="number"?O==="%"&&ge>=0&&ge<=1?String(Math.round(ge*100)):String(Math.round(ge*10)/10):String(ge)},ae=!!b,te=s.isInverted??!1,p=typeof b=="boolean"&&(te?!ae:ae)===!0,ye=p?"text-red-500":"",fe=typeof b=="boolean"&&!p;ue=n.jsxs("div",{className:"flex items-baseline justify-center",children:[fe&&n.jsx("span",{className:"inline-block w-2.5 h-2.5 mr-2 rounded-full bg-green-500 self-center"}),n.jsx("span",{className:`text-3xl font-bold font-mono tracking-tighter leading-none ${ye}`,children:W(b)}),typeof b=="number"&&O&&n.jsx("span",{className:`text-xl font-mono tracking-tighter leading-none ml-1 ${r.textMuted}`,children:O})]})}ce||(ce=s.customName||B.name)}const Ce=j||c,Te=S||c;return n.jsx("div",{ref:J,style:{position:"absolute",left:`${P*20}px`,top:`${M*20}px`,width:`${Z*20}px`,height:`${T*20}px`,transform:`scale(${Se})`,transformOrigin:"top left",touchAction:c?"none":"auto"},className:`transition-opacity ${we?"opacity-30":""}`,children:n.jsxs("div",{className:`relative w-full h-full rounded-lg flex flex-col items-center justify-between p-2 text-center
                ${c?"cursor-grab ring-1 ring-slate-500/50":""}`,children:[n.jsx("div",{className:`absolute inset-0 rounded-lg pointer-events-none ${L}`,style:{opacity:V}}),n.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col items-center justify-between",children:[n.jsx("div",{className:`w-full text-xs uppercase tracking-wide font-semibold truncate ${r.textMuted} ${Ce?"opacity-100":"opacity-0 h-0 overflow-hidden"}`,children:z}),n.jsx("div",{className:"flex-grow flex items-center justify-center w-full min-h-0",children:ue}),n.jsx("div",{className:`w-full text-sm font-semibold truncate px-1
                            ${Te?"opacity-100":"opacity-0 h-0 overflow-hidden"}`,children:ce})]}),c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-0 left-0 z-20 p-1.5 cursor-grab",onMouseDown:se,onTouchStart:se,children:n.jsx(cs,{className:"w-5 h-5 text-slate-400 drop-shadow-md"})}),n.jsxs("div",{className:"absolute top-1 right-1 z-20 flex items-center gap-1",children:[n.jsx("button",{onClick:()=>{s.type==="homey_variable"?m("editHomeyVariableSettings",{item:s,staticData:B}):m("editHomeyCustomItemName",{item:s,staticData:B})},className:`p-1 ${r.iconMuted} hover:text-white rounded-full bg-black/40 hover:bg-slate-600 backdrop-blur-sm`,children:n.jsx(is,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>m("deleteItem",{item:s}),className:`p-1 ${r.iconMuted} hover:text-red-400 rounded-full bg-black/40 hover:bg-slate-600 backdrop-blur-sm`,children:n.jsx(mn,{className:"w-4 h-4"})})]})]})]})})},vb=or.forwardRef(({dashboard:s,isEditMode:r,themeClasses:c,openModal:i,onPointerDown:f,draggedItem:m,homeyDevices:h,homeyVariables:y,homeyGlobalSettings:w,onHomeyToggle:x,onHomeyOptimisticUpdate:N},j)=>{const{backgroundImage:S,customBackgroundColor:A,canvasWidth:V=1920,canvasHeight:J=1080,items:ee=[],showCardTypes:P=!0,showCardNames:M=!0,showComponentLabels:Z,layoutScale:T,bgCapabilityOpacity:B}=s,C=M??Z??!0,L=S?`url('${S}')`:"none",se="radial-gradient(rgba(148, 163, 184, 0.2) 1px, transparent 1px)",we=r?S?`${se}, ${L}`:se:L,Se=r?S?"20px 20px, cover":"20px 20px":S?"cover":"auto",z=r?S?"0 0, center":"0 0":"center",ue={width:`${V}px`,height:`${J}px`,backgroundImage:we,backgroundSize:Se,backgroundPosition:z,backgroundColor:S?"transparent":A||"rgba(0,0,0,0.1)"};return n.jsxs("div",{className:"w-full h-full overflow-auto",children:[n.jsxs("div",{ref:j,className:`relative m-auto rounded-lg transition-colors ${r?"border-2 border-dashed":"border-2 border-transparent"}`,style:{...ue,borderColor:r?c.ring.replace("ring-",""):"transparent"},children:[ee.length===0&&!r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"flex flex-col items-center max-w-2xl p-4",children:[n.jsxs("div",{className:`text-center ${S?"bg-slate-900/90 backdrop-blur-md p-8 rounded-2xl border border-slate-700 shadow-2xl":""}`,children:[n.jsx(Kh,{className:`w-16 h-16 mx-auto mb-4 ${S?"text-slate-400":"opacity-30"}`}),n.jsx("h2",{className:`text-2xl font-bold ${c.header} mb-2`,children:"Layout Dashboard"}),n.jsxs("p",{className:`text-lg ${S?"text-slate-300":c.textSubtle}`,children:["This dashboard is empty. Enter ",n.jsx("span",{className:"font-bold text-indigo-400",children:"Edit Mode"})," to add items."]})]}),!S&&n.jsxs("div",{className:"mt-8 pointer-events-auto bg-slate-900/80 backdrop-blur-sm border border-slate-700 rounded-xl p-6 text-left shadow-2xl w-full",children:[n.jsx("h3",{className:"font-bold text-lg mb-4 text-indigo-300 flex items-center gap-2",children:"Create your floor plan image"}),n.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"To use this dashboard effectively, you need a background image (floor plan). Here are some tools to help you create one:"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 text-sm",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-slate-200 mb-2 border-b border-slate-700 pb-1",children:"Install (Desktop)"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs("a",{href:"http://www.sweethome3d.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-indigo-400 transition-colors",children:["Sweet Home 3D ",n.jsx("span",{className:"text-xs opacity-50 ml-1",children:"(Free)"})," ",n.jsx(wl,{className:"w-3 h-3 opacity-50"})]})}),n.jsx("li",{children:n.jsxs("a",{href:"https://www.freecad.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-indigo-400 transition-colors",children:["FreeCAD ",n.jsx("span",{className:"text-xs opacity-50 ml-1",children:"(Free)"})," ",n.jsx(wl,{className:"w-3 h-3 opacity-50"})]})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-slate-200 mb-2 border-b border-slate-700 pb-1",children:"Online Tools"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs("a",{href:"https://www.roomsketcher.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-indigo-400 transition-colors",children:["RoomSketcher ",n.jsx(wl,{className:"w-3 h-3 opacity-50"})]})}),n.jsx("li",{children:n.jsxs("a",{href:"https://floorplancreator.net/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-indigo-400 transition-colors",children:["Floorplan Creator ",n.jsx(wl,{className:"w-3 h-3 opacity-50"})]})}),n.jsx("li",{children:n.jsxs("a",{href:"https://remplanner.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-indigo-400 transition-colors",children:["RemPlanner ",n.jsx(wl,{className:"w-3 h-3 opacity-50"})]})})]})]})]}),n.jsx("p",{className:"mt-4 text-xs text-slate-500 italic border-t border-slate-800 pt-2",children:"Once created, upload the image via the Settings (Cogwheel) icon in Edit Mode."})]})]})}),ee.map(ce=>n.jsx(yb,{item:ce,isEditMode:r,themeClasses:c,onPointerDown:f,draggedItem:m,openModal:i,homeyDevices:h,homeyVariables:y,homeyGlobalSettings:w,onHomeyToggle:x,onHomeyOptimisticUpdate:N,showCardTypes:P,showCardNames:C,layoutScale:T,bgCapabilityOpacity:B},ce.id))]}),r&&n.jsxs("div",{className:"fixed bottom-8 right-8 z-40 flex items-center gap-3",children:[n.jsx("button",{onClick:()=>i("dashboardLayoutSettings",{dashboard:s}),className:`w-12 h-12 rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110 ${c.buttonSecondary}`,title:"Layout Settings",children:n.jsx(is,{className:"w-6 h-6"})}),n.jsx("button",{onClick:()=>i("selectLayoutItemType"),className:`w-16 h-16 rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110 ${c.buttonPrimary}`,title:"Add Item",children:n.jsx(Ta,{className:"w-8 h-8"})})]})]})});function Na(s,r){const[c,i]=v.useState(()=>{if(typeof window>"u")return r;try{const m=window.localStorage.getItem(s),h=m?JSON.parse(m):r;return typeof r=="object"&&r!==null&&!Array.isArray(r)&&typeof h=="object"&&h!==null&&!Array.isArray(h)?{...r,...h}:h}catch(m){return console.error(`Error reading localStorage key "${s}":`,m),r}});return[c,m=>{try{const h=m instanceof Function?m(c):m;i(h),typeof window<"u"&&window.localStorage.setItem(s,JSON.stringify(h))}catch(h){console.error(`Error setting localStorage key "${s}":`,h)}}]}const wb="https://api.github.com/repos/Nicce70/StartPanel/releases/latest",Yc="startpanel_lastVersionCheck",kh="startpanel_dismissedVersion",jb=1440*60*1e3,Nb=s=>{const[r,c]=v.useState(null);return v.useEffect(()=>{if(window.location.hostname==="nicce70.github.io")return;const m=setTimeout(async()=>{const h=localStorage.getItem(Yc);if(!(h&&Date.now()-parseInt(h,10)<jb))try{const y=await fetch(wb);if(!y.ok)throw new Error(`GitHub API responded with status ${y.status}`);const w=await y.json();localStorage.setItem(Yc,Date.now().toString());const x=w.tag_name.replace("v","");if(x>s){const N=localStorage.getItem(kh);x!==N&&c({version:w.tag_name,notes:w.body})}}catch(y){console.error("Failed to check for new version:",y),localStorage.setItem(Yc,Date.now().toString())}},2e3);return()=>clearTimeout(m)},[s]),{newVersionInfo:r,dismissVersion:()=>{r&&(localStorage.setItem(kh,r.version.replace("v","")),c(null))}}},Sb=({theme:s})=>{const r=`
    /* For Webkit-based browsers (Chrome, Safari) */
    ::-webkit-scrollbar {
      width: 12px;
      height: 12px;
    }

    ::-webkit-scrollbar-track {
      background: ${s.scrollbarTrack};
    }

    ::-webkit-scrollbar-thumb {
      background-color: ${s.scrollbarThumb};
      border-radius: 6px;
      border: 3px solid ${s.scrollbarTrack};
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: ${s.scrollbarThumbHover};
    }
  `;return n.jsx("style",{children:r})},Th="6.0.43",kb="calculator-widget-id",ea=Object.create(null);ea.open="0";ea.close="1";ea.ping="2";ea.pong="3";ea.message="4";ea.upgrade="5";ea.noop="6";const Ni=Object.create(null);Object.keys(ea).forEach(s=>{Ni[ea[s]]=s});const Kc={type:"error",data:"parser error"},n0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",a0=typeof ArrayBuffer=="function",l0=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,fu=({type:s,data:r},c,i)=>n0&&r instanceof Blob?c?i(r):_h(r,i):a0&&(r instanceof ArrayBuffer||l0(r))?c?i(r):_h(new Blob([r]),i):i(ea[s]+(r||"")),_h=(s,r)=>{const c=new FileReader;return c.onload=function(){const i=c.result.split(",")[1];r("b"+(i||""))},c.readAsDataURL(s)};function Bh(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Gc;function Tb(s,r){if(n0&&s.data instanceof Blob)return s.data.arrayBuffer().then(Bh).then(r);if(a0&&(s.data instanceof ArrayBuffer||l0(s.data)))return r(Bh(s.data));fu(s,!1,c=>{Gc||(Gc=new TextEncoder),r(Gc.encode(c))})}const Eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Eh.length;s++)tr[Eh.charCodeAt(s)]=s;const _b=s=>{let r=s.length*.75,c=s.length,i,f=0,m,h,y,w;s[s.length-1]==="="&&(r--,s[s.length-2]==="="&&r--);const x=new ArrayBuffer(r),N=new Uint8Array(x);for(i=0;i<c;i+=4)m=tr[s.charCodeAt(i)],h=tr[s.charCodeAt(i+1)],y=tr[s.charCodeAt(i+2)],w=tr[s.charCodeAt(i+3)],N[f++]=m<<2|h>>4,N[f++]=(h&15)<<4|y>>2,N[f++]=(y&3)<<6|w&63;return x},Bb=typeof ArrayBuffer=="function",mu=(s,r)=>{if(typeof s!="string")return{type:"message",data:s0(s,r)};const c=s.charAt(0);return c==="b"?{type:"message",data:Eb(s.substring(1),r)}:Ni[c]?s.length>1?{type:Ni[c],data:s.substring(1)}:{type:Ni[c]}:Kc},Eb=(s,r)=>{if(Bb){const c=_b(s);return s0(c,r)}else return{base64:!0,data:s}},s0=(s,r)=>{switch(r){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},r0="",Ab=(s,r)=>{const c=s.length,i=new Array(c);let f=0;s.forEach((m,h)=>{fu(m,!1,y=>{i[h]=y,++f===c&&r(i.join(r0))})})},$b=(s,r)=>{const c=s.split(r0),i=[];for(let f=0;f<c.length;f++){const m=mu(c[f],r);if(i.push(m),m.type==="error")break}return i};function Mb(){return new TransformStream({transform(s,r){Tb(s,c=>{const i=c.length;let f;if(i<126)f=new Uint8Array(1),new DataView(f.buffer).setUint8(0,i);else if(i<65536){f=new Uint8Array(3);const m=new DataView(f.buffer);m.setUint8(0,126),m.setUint16(1,i)}else{f=new Uint8Array(9);const m=new DataView(f.buffer);m.setUint8(0,127),m.setBigUint64(1,BigInt(i))}s.data&&typeof s.data!="string"&&(f[0]|=128),r.enqueue(f),r.enqueue(c)})}})}let Zc;function vi(s){return s.reduce((r,c)=>r+c.length,0)}function wi(s,r){if(s[0].length===r)return s.shift();const c=new Uint8Array(r);let i=0;for(let f=0;f<r;f++)c[f]=s[0][i++],i===s[0].length&&(s.shift(),i=0);return s.length&&i<s[0].length&&(s[0]=s[0].slice(i)),c}function Db(s,r){Zc||(Zc=new TextDecoder);const c=[];let i=0,f=-1,m=!1;return new TransformStream({transform(h,y){for(c.push(h);;){if(i===0){if(vi(c)<1)break;const w=wi(c,1);m=(w[0]&128)===128,f=w[0]&127,f<126?i=3:f===126?i=1:i=2}else if(i===1){if(vi(c)<2)break;const w=wi(c,2);f=new DataView(w.buffer,w.byteOffset,w.length).getUint16(0),i=3}else if(i===2){if(vi(c)<8)break;const w=wi(c,8),x=new DataView(w.buffer,w.byteOffset,w.length),N=x.getUint32(0);if(N>Math.pow(2,21)-1){y.enqueue(Kc);break}f=N*Math.pow(2,32)+x.getUint32(4),i=3}else{if(vi(c)<f)break;const w=wi(c,f);y.enqueue(mu(m?w:Zc.decode(w),r)),i=0}if(f===0||f>s){y.enqueue(Kc);break}}}})}const i0=4;function Lt(s){if(s)return Ob(s)}function Ob(s){for(var r in Lt.prototype)s[r]=Lt.prototype[r];return s}Lt.prototype.on=Lt.prototype.addEventListener=function(s,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(r),this};Lt.prototype.once=function(s,r){function c(){this.off(s,c),r.apply(this,arguments)}return c.fn=r,this.on(s,c),this};Lt.prototype.off=Lt.prototype.removeListener=Lt.prototype.removeAllListeners=Lt.prototype.removeEventListener=function(s,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var c=this._callbacks["$"+s];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var i,f=0;f<c.length;f++)if(i=c[f],i===r||i.fn===r){c.splice(f,1);break}return c.length===0&&delete this._callbacks["$"+s],this};Lt.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),c=this._callbacks["$"+s],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(c){c=c.slice(0);for(var i=0,f=c.length;i<f;++i)c[i].apply(this,r)}return this};Lt.prototype.emitReserved=Lt.prototype.emit;Lt.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Lt.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Ei=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,c)=>c(r,0),Hn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cb="arraybuffer";function o0(s,...r){return r.reduce((c,i)=>(s.hasOwnProperty(i)&&(c[i]=s[i]),c),{})}const Rb=Hn.setTimeout,Hb=Hn.clearTimeout;function Ai(s,r){r.useNativeTimers?(s.setTimeoutFn=Rb.bind(Hn),s.clearTimeoutFn=Hb.bind(Hn)):(s.setTimeoutFn=Hn.setTimeout.bind(Hn),s.clearTimeoutFn=Hn.clearTimeout.bind(Hn))}const Lb=1.33;function zb(s){return typeof s=="string"?Ub(s):Math.ceil((s.byteLength||s.size)*Lb)}function Ub(s){let r=0,c=0;for(let i=0,f=s.length;i<f;i++)r=s.charCodeAt(i),r<128?c+=1:r<2048?c+=2:r<55296||r>=57344?c+=3:(i++,c+=4);return c}function c0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ib(s){let r="";for(let c in s)s.hasOwnProperty(c)&&(r.length&&(r+="&"),r+=encodeURIComponent(c)+"="+encodeURIComponent(s[c]));return r}function Fb(s){let r={},c=s.split("&");for(let i=0,f=c.length;i<f;i++){let m=c[i].split("=");r[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}return r}class Vb extends Error{constructor(r,c,i){super(r),this.description=c,this.context=i,this.type="TransportError"}}class hu extends Lt{constructor(r){super(),this.writable=!1,Ai(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,c,i){return super.emitReserved("error",new Vb(r,c,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const c=mu(r,this.socket.binaryType);this.onPacket(c)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,c={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(c)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const c=Ib(r);return c.length?"?"+c:""}}class qb extends hu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const c=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||c()})),this.writable||(i++,this.once("drain",function(){--i||c()}))}else c()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const c=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};$b(r,this.socket.binaryType).forEach(c),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Ab(r,c=>{this.doWrite(c,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",c=this.query||{};return this.opts.timestampRequests!==!1&&(c[this.opts.timestampParam]=c0()),!this.supportsBinary&&!c.sid&&(c.b64=1),this.createUri(r,c)}}let u0=!1;try{u0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Yb=u0;function Gb(){}class Zb extends qb{constructor(r){if(super(r),typeof location<"u"){const c=location.protocol==="https:";let i=location.port;i||(i=c?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||i!==r.port}}doWrite(r,c){const i=this.request({method:"POST",data:r});i.on("success",c),i.on("error",(f,m)=>{this.onError("xhr post error",f,m)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(c,i)=>{this.onError("xhr poll error",c,i)}),this.pollXhr=r}}class Pn extends Lt{constructor(r,c,i){super(),this.createRequest=r,Ai(this,i),this._opts=i,this._method=i.method||"GET",this._uri=c,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var r;const c=o0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");c.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(c);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let f in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(f)&&i.setRequestHeader(f,this._opts.extraHeaders[f])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var f;i.readyState===3&&((f=this._opts.cookieJar)===null||f===void 0||f.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(f){this.setTimeoutFn(()=>{this._onError(f)},0);return}typeof document<"u"&&(this._index=Pn.requestsCount++,Pn.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Gb,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Pn.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Pn.requestsCount=0;Pn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ah);else if(typeof addEventListener=="function"){const s="onpagehide"in Hn?"pagehide":"unload";addEventListener(s,Ah,!1)}}function Ah(){for(let s in Pn.requests)Pn.requests.hasOwnProperty(s)&&Pn.requests[s].abort()}const Qb=(function(){const s=d0({xdomain:!1});return s&&s.responseType!==null})();class Xb extends Zb{constructor(r){super(r);const c=r&&r.forceBase64;this.supportsBinary=Qb&&!c}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Pn(d0,this.uri(),r)}}function d0(s){const r=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Yb))return new XMLHttpRequest}catch{}if(!r)try{return new Hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const f0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Jb extends hu{get name(){return"websocket"}doOpen(){const r=this.uri(),c=this.opts.protocols,i=f0?{}:o0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,c,i)}catch(f){return this.emitReserved("error",f)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let c=0;c<r.length;c++){const i=r[c],f=c===r.length-1;fu(i,this.supportsBinary,m=>{try{this.doWrite(i,m)}catch{}f&&Ei(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",c=this.query||{};return this.opts.timestampRequests&&(c[this.opts.timestampParam]=c0()),this.supportsBinary||(c.b64=1),this.createUri(r,c)}}const Qc=Hn.WebSocket||Hn.MozWebSocket;class Kb extends Jb{createSocket(r,c,i){return f0?new Qc(r,c,i):c?new Qc(r,c):new Qc(r)}doWrite(r,c){this.ws.send(c)}}class Wb extends hu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const c=Db(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=r.readable.pipeThrough(c).getReader(),f=Mb();f.readable.pipeTo(r.writable),this._writer=f.writable.getWriter();const m=()=>{i.read().then(({done:y,value:w})=>{y||(this.onPacket(w),m())}).catch(y=>{})};m();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let c=0;c<r.length;c++){const i=r[c],f=c===r.length-1;this._writer.write(i).then(()=>{f&&Ei(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const Pb={websocket:Kb,webtransport:Wb,polling:Xb},ey=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ty=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wc(s){if(s.length>8e3)throw"URI too long";const r=s,c=s.indexOf("["),i=s.indexOf("]");c!=-1&&i!=-1&&(s=s.substring(0,c)+s.substring(c,i).replace(/:/g,";")+s.substring(i,s.length));let f=ey.exec(s||""),m={},h=14;for(;h--;)m[ty[h]]=f[h]||"";return c!=-1&&i!=-1&&(m.source=r,m.host=m.host.substring(1,m.host.length-1).replace(/;/g,":"),m.authority=m.authority.replace("[","").replace("]","").replace(/;/g,":"),m.ipv6uri=!0),m.pathNames=ny(m,m.path),m.queryKey=ay(m,m.query),m}function ny(s,r){const c=/\/{2,9}/g,i=r.replace(c,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&i.splice(0,1),r.slice(-1)=="/"&&i.splice(i.length-1,1),i}function ay(s,r){const c={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,f,m){f&&(c[f]=m)}),c}const Pc=typeof addEventListener=="function"&&typeof removeEventListener=="function",Si=[];Pc&&addEventListener("offline",()=>{Si.forEach(s=>s())},!1);class Pa extends Lt{constructor(r,c){if(super(),this.binaryType=Cb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(c=r,r=null),r){const i=Wc(r);c.hostname=i.host,c.secure=i.protocol==="https"||i.protocol==="wss",c.port=i.port,i.query&&(c.query=i.query)}else c.host&&(c.hostname=Wc(c.host).host);Ai(this,c),this.secure=c.secure!=null?c.secure:typeof location<"u"&&location.protocol==="https:",c.hostname&&!c.port&&(c.port=this.secure?"443":"80"),this.hostname=c.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=c.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},c.transports.forEach(i=>{const f=i.prototype.name;this.transports.push(f),this._transportsByName[f]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},c),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fb(this.opts.query)),Pc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Si.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const c=Object.assign({},this.opts.query);c.EIO=i0,c.transport=r,this.id&&(c.sid=this.id);const i=Object.assign({},this.opts,{query:c,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Pa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const c=this.createTransport(r);c.open(),this.setTransport(c)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",c=>this._onClose("transport close",c))}onOpen(){this.readyState="open",Pa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const c=new Error("server error");c.code=r.data,this._onError(c);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let c=1;for(let i=0;i<this.writeBuffer.length;i++){const f=this.writeBuffer[i].data;if(f&&(c+=zb(f)),i>0&&c>this._maxPayload)return this.writeBuffer.slice(0,i);c+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Ei(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,c,i){return this._sendPacket("message",r,c,i),this}send(r,c,i){return this._sendPacket("message",r,c,i),this}_sendPacket(r,c,i,f){if(typeof c=="function"&&(f=c,c=void 0),typeof i=="function"&&(f=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const m={type:r,data:c,options:i};this.emitReserved("packetCreate",m),this.writeBuffer.push(m),f&&this.once("flush",f),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},c=()=>{this.off("upgrade",c),this.off("upgradeError",c),r()},i=()=>{this.once("upgrade",c),this.once("upgradeError",c)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():r()}):this.upgrading?i():r()),this}_onError(r){if(Pa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,c){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Si.indexOf(this._offlineEventListener);i!==-1&&Si.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,c),this.writeBuffer=[],this._prevBufferLen=0}}}Pa.protocol=i0;class ly extends Pa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let c=this.createTransport(r),i=!1;Pa.priorWebsocketSuccess=!1;const f=()=>{i||(c.send([{type:"ping",data:"probe"}]),c.once("packet",j=>{if(!i)if(j.type==="pong"&&j.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",c),!c)return;Pa.priorWebsocketSuccess=c.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(N(),this.setTransport(c),c.send([{type:"upgrade"}]),this.emitReserved("upgrade",c),c=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=c.name,this.emitReserved("upgradeError",S)}}))};function m(){i||(i=!0,N(),c.close(),c=null)}const h=j=>{const S=new Error("probe error: "+j);S.transport=c.name,m(),this.emitReserved("upgradeError",S)};function y(){h("transport closed")}function w(){h("socket closed")}function x(j){c&&j.name!==c.name&&m()}const N=()=>{c.removeListener("open",f),c.removeListener("error",h),c.removeListener("close",y),this.off("close",w),this.off("upgrading",x)};c.once("open",f),c.once("error",h),c.once("close",y),this.once("close",w),this.once("upgrading",x),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{i||c.open()},200):c.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const c=[];for(let i=0;i<r.length;i++)~this.transports.indexOf(r[i])&&c.push(r[i]);return c}}let sy=class extends ly{constructor(r,c={}){const i=typeof r=="object"?r:c;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(f=>Pb[f]).filter(f=>!!f)),super(r,i)}};function ry(s,r="",c){let i=s;c=c||typeof location<"u"&&location,s==null&&(s=c.protocol+"//"+c.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=c.protocol+s:s=c.host+s),/^(https?|wss?):\/\//.test(s)||(typeof c<"u"?s=c.protocol+"//"+s:s="https://"+s),i=Wc(s)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const m=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+m+":"+i.port+r,i.href=i.protocol+"://"+m+(c&&c.port===i.port?"":":"+i.port),i}const iy=typeof ArrayBuffer=="function",oy=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,m0=Object.prototype.toString,cy=typeof Blob=="function"||typeof Blob<"u"&&m0.call(Blob)==="[object BlobConstructor]",uy=typeof File=="function"||typeof File<"u"&&m0.call(File)==="[object FileConstructor]";function pu(s){return iy&&(s instanceof ArrayBuffer||oy(s))||cy&&s instanceof Blob||uy&&s instanceof File}function ki(s,r){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let c=0,i=s.length;c<i;c++)if(ki(s[c]))return!0;return!1}if(pu(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return ki(s.toJSON(),!0);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)&&ki(s[c]))return!0;return!1}function dy(s){const r=[],c=s.data,i=s;return i.data=eu(c,r),i.attachments=r.length,{packet:i,buffers:r}}function eu(s,r){if(!s)return s;if(pu(s)){const c={_placeholder:!0,num:r.length};return r.push(s),c}else if(Array.isArray(s)){const c=new Array(s.length);for(let i=0;i<s.length;i++)c[i]=eu(s[i],r);return c}else if(typeof s=="object"&&!(s instanceof Date)){const c={};for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&(c[i]=eu(s[i],r));return c}return s}function fy(s,r){return s.data=tu(s.data,r),delete s.attachments,s}function tu(s,r){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<r.length)return r[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let c=0;c<s.length;c++)s[c]=tu(s[c],r);else if(typeof s=="object")for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&(s[c]=tu(s[c],r));return s}const my=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var et;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(et||(et={}));class hy{constructor(r){this.replacer=r}encode(r){return(r.type===et.EVENT||r.type===et.ACK)&&ki(r)?this.encodeAsBinary({type:r.type===et.EVENT?et.BINARY_EVENT:et.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let c=""+r.type;return(r.type===et.BINARY_EVENT||r.type===et.BINARY_ACK)&&(c+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(c+=r.nsp+","),r.id!=null&&(c+=r.id),r.data!=null&&(c+=JSON.stringify(r.data,this.replacer)),c}encodeAsBinary(r){const c=dy(r),i=this.encodeAsString(c.packet),f=c.buffers;return f.unshift(i),f}}class gu extends Lt{constructor(r){super(),this.reviver=r}add(r){let c;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");c=this.decodeString(r);const i=c.type===et.BINARY_EVENT;i||c.type===et.BINARY_ACK?(c.type=i?et.EVENT:et.ACK,this.reconstructor=new py(c),c.attachments===0&&super.emitReserved("decoded",c)):super.emitReserved("decoded",c)}else if(pu(r)||r.base64)if(this.reconstructor)c=this.reconstructor.takeBinaryData(r),c&&(this.reconstructor=null,super.emitReserved("decoded",c));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let c=0;const i={type:Number(r.charAt(0))};if(et[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===et.BINARY_EVENT||i.type===et.BINARY_ACK){const m=c+1;for(;r.charAt(++c)!=="-"&&c!=r.length;);const h=r.substring(m,c);if(h!=Number(h)||r.charAt(c)!=="-")throw new Error("Illegal attachments");i.attachments=Number(h)}if(r.charAt(c+1)==="/"){const m=c+1;for(;++c&&!(r.charAt(c)===","||c===r.length););i.nsp=r.substring(m,c)}else i.nsp="/";const f=r.charAt(c+1);if(f!==""&&Number(f)==f){const m=c+1;for(;++c;){const h=r.charAt(c);if(h==null||Number(h)!=h){--c;break}if(c===r.length)break}i.id=Number(r.substring(m,c+1))}if(r.charAt(++c)){const m=this.tryParse(r.substr(c));if(gu.isPayloadValid(i.type,m))i.data=m;else throw new Error("invalid payload")}return i}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,c){switch(r){case et.CONNECT:return $h(c);case et.DISCONNECT:return c===void 0;case et.CONNECT_ERROR:return typeof c=="string"||$h(c);case et.EVENT:case et.BINARY_EVENT:return Array.isArray(c)&&(typeof c[0]=="number"||typeof c[0]=="string"&&my.indexOf(c[0])===-1);case et.ACK:case et.BINARY_ACK:return Array.isArray(c)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class py{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const c=fy(this.reconPack,this.buffers);return this.finishedReconstruction(),c}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $h(s){return Object.prototype.toString.call(s)==="[object Object]"}const gy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:gu,Encoder:hy,get PacketType(){return et}},Symbol.toStringTag,{value:"Module"}));function Gn(s,r,c){return s.on(r,c),function(){s.off(r,c)}}const xy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class h0 extends Lt{constructor(r,c,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=c,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Gn(r,"open",this.onopen.bind(this)),Gn(r,"packet",this.onpacket.bind(this)),Gn(r,"error",this.onerror.bind(this)),Gn(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...c){var i,f,m;if(xy.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(c.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(c),this;const h={type:et.EVENT,data:c};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof c[c.length-1]=="function"){const N=this.ids++,j=c.pop();this._registerAckCallback(N,j),h.id=N}const y=(f=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||f===void 0?void 0:f.writable,w=this.connected&&!(!((m=this.io.engine)===null||m===void 0)&&m._hasPingExpired());return this.flags.volatile&&!y||(w?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(r,c){var i;const f=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(f===void 0){this.acks[r]=c;return}const m=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let y=0;y<this.sendBuffer.length;y++)this.sendBuffer[y].id===r&&this.sendBuffer.splice(y,1);c.call(this,new Error("operation has timed out"))},f),h=(...y)=>{this.io.clearTimeoutFn(m),c.apply(this,y)};h.withError=!0,this.acks[r]=h}emitWithAck(r,...c){return new Promise((i,f)=>{const m=(h,y)=>h?f(h):i(y);m.withError=!0,c.push(m),this.emit(r,...c)})}_addToQueue(r){let c;typeof r[r.length-1]=="function"&&(c=r.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((f,...m)=>(this._queue[0],f!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),c&&c(f)):(this._queue.shift(),c&&c(null,...m)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const c=this._queue[0];c.pending&&!r||(c.pending=!0,c.tryCount++,this.flags=c.flags,this.emit.apply(this,c.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:et.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,c){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,c),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(i=>String(i.id)===r)){const i=this.acks[r];delete this.acks[r],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case et.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case et.EVENT:case et.BINARY_EVENT:this.onevent(r);break;case et.ACK:case et.BINARY_ACK:this.onack(r);break;case et.DISCONNECT:this.ondisconnect();break;case et.CONNECT_ERROR:this.destroy();const i=new Error(r.data.message);i.data=r.data.data,this.emitReserved("connect_error",i);break}}onevent(r){const c=r.data||[];r.id!=null&&c.push(this.ack(r.id)),this.connected?this.emitEvent(c):this.receiveBuffer.push(Object.freeze(c))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const c=this._anyListeners.slice();for(const i of c)i.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const c=this;let i=!1;return function(...f){i||(i=!0,c.packet({type:et.ACK,id:r,data:f}))}}onack(r){const c=this.acks[r.id];typeof c=="function"&&(delete this.acks[r.id],c.withError&&r.data.unshift(null),c.apply(this,r.data))}onconnect(r,c){this.id=r,this.recovered=c&&this._pid===c,this._pid=c,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:et.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const c=this._anyListeners;for(let i=0;i<c.length;i++)if(r===c[i])return c.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const c=this._anyOutgoingListeners;for(let i=0;i<c.length;i++)if(r===c[i])return c.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const c=this._anyOutgoingListeners.slice();for(const i of c)i.apply(this,r.data)}}}function us(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}us.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),c=Math.floor(r*this.jitter*s);s=(Math.floor(r*10)&1)==0?s-c:s+c}return Math.min(s,this.max)|0};us.prototype.reset=function(){this.attempts=0};us.prototype.setMin=function(s){this.ms=s};us.prototype.setMax=function(s){this.max=s};us.prototype.setJitter=function(s){this.jitter=s};class nu extends Lt{constructor(r,c){var i;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(c=r,r=void 0),c=c||{},c.path=c.path||"/socket.io",this.opts=c,Ai(this,c),this.reconnection(c.reconnection!==!1),this.reconnectionAttempts(c.reconnectionAttempts||1/0),this.reconnectionDelay(c.reconnectionDelay||1e3),this.reconnectionDelayMax(c.reconnectionDelayMax||5e3),this.randomizationFactor((i=c.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new us({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(c.timeout==null?2e4:c.timeout),this._readyState="closed",this.uri=r;const f=c.parser||gy;this.encoder=new f.Encoder,this.decoder=new f.Decoder,this._autoConnect=c.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var c;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(c=this.backoff)===null||c===void 0||c.setMin(r),this)}randomizationFactor(r){var c;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(c=this.backoff)===null||c===void 0||c.setJitter(r),this)}reconnectionDelayMax(r){var c;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(c=this.backoff)===null||c===void 0||c.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new sy(this.uri,this.opts);const c=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const f=Gn(c,"open",function(){i.onopen(),r&&r()}),m=y=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",y),r?r(y):this.maybeReconnectOnOpen()},h=Gn(c,"error",m);if(this._timeout!==!1){const y=this._timeout,w=this.setTimeoutFn(()=>{f(),m(new Error("timeout")),c.close()},y);this.opts.autoUnref&&w.unref(),this.subs.push(()=>{this.clearTimeoutFn(w)})}return this.subs.push(f),this.subs.push(h),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Gn(r,"ping",this.onping.bind(this)),Gn(r,"data",this.ondata.bind(this)),Gn(r,"error",this.onerror.bind(this)),Gn(r,"close",this.onclose.bind(this)),Gn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(c){this.onclose("parse error",c)}}ondecoded(r){Ei(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,c){let i=this.nsps[r];return i?this._autoConnect&&!i.active&&i.connect():(i=new h0(this,r,c),this.nsps[r]=i),i}_destroy(r){const c=Object.keys(this.nsps);for(const i of c)if(this.nsps[i].active)return;this._close()}_packet(r){const c=this.encoder.encode(r);for(let i=0;i<c.length;i++)this.engine.write(c[i],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,c){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,c),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const c=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(f=>{f?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",f)):r.onreconnect()}))},c);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const er={};function Ti(s,r){typeof s=="object"&&(r=s,s=void 0),r=r||{};const c=ry(s,r.path||"/socket.io"),i=c.source,f=c.id,m=c.path,h=er[f]&&m in er[f].nsps,y=r.forceNew||r["force new connection"]||r.multiplex===!1||h;let w;return y?w=new nu(i,r):(er[f]||(er[f]=new nu(i,r)),w=er[f]),c.query&&!r.query&&(r.query=c.queryKey),w.socket(c.path,r)}Object.assign(Ti,{Manager:nu,Socket:h0,io:Ti,connect:Ti});const Yn=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s==="x"?r:r&3|8).toString(16)}),p0={id:Yn(),name:"Home",layoutType:"columns",columns:[{id:Yn(),name:"Entertainment",width:3,groups:[{id:Yn(),name:"Music",items:[{id:Yn(),type:"link",name:"Spotify",url:"https://spotify.com",comment:"Spotify"},{id:Yn(),type:"link",name:"YouTube Music",url:"https://music.youtube.com/"}],type:"links"}]},{id:Yn(),name:"Social",width:3,groups:[{id:Yn(),name:"General",items:[{id:Yn(),type:"link",name:"Reddit",url:"https://reddit.com"},{id:Yn(),type:"link",name:"Bluesky",url:"https://bsky.social/about"}],type:"links"}]}]},Mh=(s,r)=>Array.isArray(s)&&s.length>0&&(s[0].columns||s[0].layoutType==="layout")?s.map(c=>({id:c.id||Yn(),name:c.name||"Dashboard",backgroundImage:c.backgroundImage,customBackgroundColor:c.customBackgroundColor,layoutType:c.layoutType||"columns",columns:c.layoutType!=="layout"?Array.isArray(c.columns)?c.columns:[]:void 0,items:c.layoutType==="layout"?c.items||[]:void 0,canvasWidth:c.layoutType==="layout"?c.canvasWidth||1920:void 0,canvasHeight:c.layoutType==="layout"?c.canvasHeight||1080:void 0,showCardTypes:c.showCardTypes,showCardNames:c.showCardNames,showComponentLabels:c.showComponentLabels,layoutScale:c.layoutScale,bgCapabilityOpacity:typeof c.bgCapabilityOpacity=="number"?c.bgCapabilityOpacity:.7})):Array.isArray(r)&&r.length>0?(console.log("Migrating old 'columns' data to new dashboard structure."),[{id:Yn(),name:"Home",layoutType:"columns",columns:r.map(c=>{if(!c||typeof c!="object"||!c.id)return null;const i=Array.isArray(c.groups)?c.groups.map(f=>{if(!f||typeof c!="object"||!f.id)return null;let m=f.items;Array.isArray(f.links)&&!m&&(m=f.links.map(y=>({...y,type:"link"}))),Array.isArray(m)?m=m.filter(y=>y&&typeof y=="object"&&y.id&&y.type):m=[];const h={...f,items:m};return delete h.links,h}).filter(Boolean):[];return{...c,groups:i}}).filter(Boolean)}]):(console.warn("No valid data found in localStorage, resetting to default dashboard."),[p0]),ar={columnGap:4,groupGap:4,columnWidth:4,showColumnTitles:!0,theme:"default",customThemeColors:{background:"#0f172a",panel:"#1e293b",primary:"#6366f1",secondary:"#475569",text:"#f1f5f9"},scale:6,openLinksInNewTab:!0,showSearch:!1,searchEngine:"google",centerContent:!1,hideColumnBackground:!1,showGroupToggles:!0,backupReminderInterval:7,showQuotes:!1,quoteCategory:"inspirational",quoteFrequency:"daily",homey:{localIp:"",apiToken:"",pollingInterval:10},dashboardView:"tabs",showBottomPanel:!1},by=s=>{const r={...ar},c=Object.keys(ar);return s&&typeof s=="object"&&!Array.isArray(s)&&c.forEach(i=>{Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}),r},Dh={1:"10px",2:"10.5px",3:"11px",4:"11.5px",5:"12px",6:"12.5px",7:"13px",8:"13.5px",9:"14px",10:"14.5px",11:"15px"},Oh={google:{name:"Google",url:"https://www.google.com/search?q=",home:"https://www.google.com"},duckduckgo:{name:"DuckDuckGo",url:"https://duckduckgo.com/?q=",home:"https://duckduckgo.com"},bing:{name:"Bing",url:"https://www.bing.com/search?q=",home:"https://www.bing.com"},brave:{name:"Brave Search",url:"https://search.brave.com/search?q=",home:"https://search.brave.com"},ecosia:{name:"Ecosia",url:"https://www.ecosia.org/search?q=",home:"https://www.ecosia.org/"}},Xc={1:15,2:18,3:20,4:24,5:28},Ch={1:.8,2:.85,3:.9,4:1,5:1.1,6:1.2,7:1.3,8:1.4,9:1.5},yy=({children:s,x:r,y:c})=>s?n.jsx("div",{className:"fixed top-0 left-0 pointer-events-none z-50 opacity-80",style:{transform:`translate(${r}px, ${c}px)`},children:s}):null,vy=()=>n.jsx("style",{children:`
        body.dragging, body.dragging * {
            cursor: grabbing !important;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
    `});function wy(){const[s,r]=Na("startpanel-dashboards",[]),[c]=Na("startpanel-columns",[]),[i,f]=Na("startpanel-active-dashboard-id",""),[m,h]=Na("startpanel-settings",ar),[y,w]=Na("startpanel-title","StartPanel"),[x,N]=Na("startpanel-todos",[]),[j,S]=Na("startpanel-last-backup",""),[A,V]=Na("startpanel-install-date",""),[J,ee]=Na("startpanel-last-edit-date",""),[P,M]=v.useState(null),Z=v.useMemo(()=>Mh(s,c),[s,c]),T=v.useMemo(()=>by(m),[m]),B=v.useMemo(()=>Z.find(K=>K.id===i)||Z[0],[Z,i]),[C,L]=v.useState(null),[se,we]=v.useState(!1),[Se,z]=v.useState(null),[ue,ce]=v.useState({x:0,y:0}),[Ce,Te]=v.useState({x:0,y:0}),[D,U]=v.useState(null),G=v.useRef(null),be=v.useRef(null),H=v.useRef(!1),[b,O]=v.useState(!1),[$,_]=v.useState(null),[Q,W]=v.useState(!1),[ae,te]=v.useState(ji.default),[me,le]=v.useState(null),[p,ye]=v.useState(""),[fe,ge]=v.useState(!1),de=v.useRef(!0),{newVersionInfo:De,dismissVersion:Ue}=Nb(Th),[Be,xe]=v.useState(!1),Ee=v.useRef(new Set),Ae=v.useRef(null),oe=v.useRef(null),[I,he]=v.useState(!1),Fe=v.useMemo(()=>navigator.userAgent.toLowerCase().includes("firefox"),[]),[Le,Xe]=v.useState(window.innerWidth),Ie=$||Q||P;v.useEffect(()=>{if(de.current){de.current=!1;return}ee(new Date().toISOString())},[Z,T]);const it=v.useMemo(()=>{const K=T.backupReminderInterval;if(!K||K===0)return!1;const ve=j||A;if(!ve)return!1;const je=Date.now(),pe=new Date(ve).getTime();return(je-pe)/(1e3*60*60*24)<=K||!J?!1:new Date(J).getTime()>pe},[j,A,T.backupReminderInterval,J]);v.useEffect(()=>{De&&xe(!0)},[De]),v.useEffect(()=>{var K;JSON.stringify(s)!==JSON.stringify(Z)&&(r(Z),localStorage.removeItem("startpanel-columns")),(!i||!Z.some(ve=>ve.id===i))&&f(((K=Z[0])==null?void 0:K.id)||"")},[Z,s,r,i,f]),v.useEffect(()=>{const K=()=>Xe(window.innerWidth);return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),v.useMemo(()=>{if(!B||B.layoutType==="layout"||!B.columns)return null;const K=parseFloat(Dh[T.scale]||"12.5px"),ve=B.columns.reduce((Ne,He)=>{const $e=He.width||3,tt=Xc[$e],rt=Ch[T.columnWidth],Ve=tt*rt;return Ne+Ve*K},0),je=B.columns.length>0?B.columns.length-1:0,pe=T.columnGap*.25,ke=je*pe*K;return ve+ke},[B,T.scale,T.columnWidth,T.columnGap]);const[zt,Tt]=v.useState({}),[an,dt]=v.useState({}),[jt,Kt]=v.useState({}),[St,ta]=v.useState({}),[hn,Vt]=v.useState("disconnected"),[Nn,Sn]=v.useState([]),[kn,qt]=v.useState(null),[Tn,ln]=v.useState(0),Wt=v.useRef(null),_e=v.useRef(null),st=v.useMemo(()=>{var K;return B.layoutType==="layout"?!0:(K=B.columns)==null?void 0:K.some(ve=>ve.groups.some(je=>{var pe;return(pe=je.widgetType)==null?void 0:pe.startsWith("homey")}))},[B]),pt=v.useCallback(K=>{const ve=new Date().toLocaleTimeString();Sn(je=>[`[${ve}] ${K}`,...je].slice(0,50))},[]),Pt=v.useCallback((K,ve,je)=>{Tt(pe=>{if(pe[K]&&pe[K].capabilitiesObj[ve]){const ke={...pe};return ke[K]={...ke[K],capabilitiesObj:{...ke[K].capabilitiesObj,[ve]:{...ke[K].capabilitiesObj[ve],value:je}}},ke}return pe})},[]);v.useEffect(()=>{if(!st){Wt.current&&Wt.current.disconnect(),_e.current&&clearInterval(_e.current);return}const{localIp:K,apiToken:ve,pollingInterval:je=10}=T.homey||{};if(!K||!ve){Vt("disconnected"),pt("Error: Homey IP/Token not set.");return}const pe=K.trim().startsWith("http")?K.trim():`http://${K.trim()}`,ke=ve.replace(/^Bearer\s+/i,"").trim(),Ne={Authorization:`Bearer ${ke}`};Wt.current&&Wt.current.disconnect();try{const rt=Ti(`${pe}/api/`,{transports:["websocket"],reconnection:!0,reconnectionDelay:5e3});Wt.current=rt,rt.on("connect",()=>pt("WS: Connecting...")),rt.on("authenticated",()=>{Vt("websocket"),pt("WS: Authenticated & Connected."),qt(new Date)}),rt.on("capability",Ve=>{hn!=="websocket"&&Vt("websocket"),qt(new Date),Pt(Ve.deviceId,Ve.capabilityId,Ve.value)}),rt.on("disconnect",Ve=>{Vt("polling"),pt(`WS: Disconnected (${Ve}). Falling back to polling.`)}),rt.on("connect_error",Ve=>{hn!=="polling"&&(Vt("polling"),pt(`WS: Connect Error (${Ve.message}).`))}),rt.emit("authenticate",{token:ke})}catch(rt){pt(`WS: Init failed. ${rt instanceof Error?rt.message:"Unknown"}`),Vt("polling")}const He=async()=>{var rt;if((rt=Wt.current)!=null&&rt.connected){hn!=="websocket"&&Vt("websocket");return}hn!=="polling"&&Vt("polling"),pt("Polling: Fetching data...");try{const[Ve,yt,gt,en]=await Promise.all([fetch(`${pe}/api/manager/devices/device`,{headers:Ne}),fetch(`${pe}/api/manager/zones/zone`,{headers:Ne}),fetch(`${pe}/api/manager/flow/flow`,{headers:Ne}),fetch(`${pe}/api/manager/logic/variable`,{headers:Ne})]);if(!Ve.ok||!yt.ok||!gt.ok||!en.ok)throw new Error("One or more API calls failed.");const[la,sa,sn,kl]=await Promise.all([Ve.json(),yt.json(),gt.json(),en.json()]);Tt(la),dt(sa),Kt(sn),ta(kl),qt(new Date),pt("Polling: Success.")}catch(Ve){pt(`Polling: Failed. ${Ve instanceof Error?Ve.message:"Unknown"}.`),Vt("disconnected")}};_e.current&&clearInterval(_e.current),He();let $e=0;ln(je);const tt=()=>{$e=($e+1)%je,ln(je-$e),$e===0&&He()};return _e.current=window.setInterval(tt,1e3),()=>{Wt.current&&Wt.current.disconnect(),_e.current&&clearInterval(_e.current)}},[st,T.homey,pt,Pt]);const $t=async(K,ve,je)=>{const{localIp:pe,apiToken:ke}=T.homey||{};if(!(!pe||!ke)){Pt(K,ve,!je);try{const Ne=`${pe.trim().startsWith("http")?pe.trim():`http://${pe.trim()}`}/api/manager/devices/device/${K}/capability/${ve}`,He={Authorization:`Bearer ${ke.replace(/^Bearer\s+/i,"").trim()}`,"Content-Type":"application/json"};await fetch(Ne,{method:"PUT",body:JSON.stringify({value:!je}),headers:He})}catch(Ne){console.error("Homey command failed",Ne)}}},_n=async(K,ve,je)=>{const{localIp:pe,apiToken:ke}=T.homey||{};if(!(!pe||!ke))try{const Ne=`${pe.trim().startsWith("http")?pe.trim():`http://${pe.trim()}`}/api/manager/devices/device/${K}/capability/${ve}`,He={Authorization:`Bearer ${ke.replace(/^Bearer\s+/i,"").trim()}`,"Content-Type":"application/json"};await fetch(Ne,{method:"PUT",body:JSON.stringify({value:je}),headers:He})}catch(Ne){console.error("Homey set value command failed",Ne)}},na=async K=>{const{localIp:ve,apiToken:je}=T.homey||{};if(!(!ve||!je))try{const pe=`${ve.trim().startsWith("http")?ve.trim():`http://${ve.trim()}`}/api/manager/flow/flow/${K}/trigger`,ke={Authorization:`Bearer ${je.replace(/^Bearer\s+/i,"").trim()}`,"Content-Type":"application/json"};await fetch(pe,{method:"POST",headers:ke,body:"{}"})}catch(pe){console.error("Homey flow trigger failed:",pe)}};v.useEffect(()=>{JSON.stringify(m)!==JSON.stringify(T)&&h(T)},[m,T,h]),v.useEffect(()=>{A||V(new Date().toISOString())},[A,V]),v.useEffect(()=>{document.title=`${(B==null?void 0:B.name)||""} - ${y}`},[y,B]),v.useEffect(()=>{document.documentElement.style.fontSize=Dh[T.scale]||"16px"},[T.scale]),v.useEffect(()=>{let K;T.theme==="custom"&&T.customThemeColors?K=Rx(T.customThemeColors):K=ji[T.theme]||ji.default,te(K),document.body.className=K.body;const ve=B==null?void 0:B.backgroundImage,je=B==null?void 0:B.customBackgroundColor;document.body.style.backgroundImage="",document.body.style.backgroundColor="",document.body.style.backgroundSize="",document.body.style.backgroundPosition="",document.body.style.backgroundAttachment="",(B==null?void 0:B.layoutType)!=="layout"&&(ve?(document.body.style.backgroundImage=`url('${ve}')`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed"):je&&(document.body.style.backgroundColor=je))},[T.theme,T.customThemeColors,B]),v.useEffect(()=>{if(($==null?void 0:$.type)==="moveFlowButton"){const{direction:K,button:ve,holderId:je,groupId:pe,columnId:ke}=$.data;r(Ne=>{const He=JSON.parse(JSON.stringify(Ne)),$e=He.find(yt=>yt.id===i),tt=$e==null?void 0:$e.columns.find(yt=>yt.id===ke),rt=tt==null?void 0:tt.groups.find(yt=>yt.id===pe),Ve=rt==null?void 0:rt.items.find(yt=>yt.id===je);if(Ve){const yt=Ve.buttons.findIndex(gt=>gt.id===ve.id);if(yt>-1){const gt=K==="left"?yt-1:yt+1;if(gt>=0&&gt<Ve.buttons.length){const en=Ve.buttons[yt];Ve.buttons[yt]=Ve.buttons[gt],Ve.buttons[gt]=en}}}return He}),bt()}},[$,i,r]);const Yt=K=>{r(ve=>ve.map(je=>je.id===i?K(je):je))},Gt=v.useCallback(()=>{if(H.current&&G.current&&(clearTimeout(G.current),G.current=null),H.current=!1,be.current=null,se){if((C==null?void 0:C.type)==="layoutItem"){const K=oe.current;if(K){const ve=K.getBoundingClientRect(),je=ue.x-Ce.x,pe=ue.y-Ce.y,ke=B.canvasWidth||1920,Ne=B.canvasHeight||1080,He=ke/ve.width,$e=Ne/ve.height,tt=je-ve.left,rt=pe-ve.top,Ve=Math.round(tt*He/20),yt=Math.round(rt*$e/20),gt=ke/20,en=Ne/20,la=Math.max(0,Math.min(Ve,gt-1)),sa=Math.max(0,Math.min(yt,en-1));Yt(sn=>{if(sn.layoutType!=="layout"||!sn.items)return sn;const kl=sn.items.map(Tl=>Tl.id===C.item.id?{...Tl,x:la,y:sa}:Tl);return{...sn,items:kl}})}}else D&&Un(D);we(!1),L(null),z(null),U(null),document.body.classList.remove("dragging")}window.removeEventListener("mousemove",ot),window.removeEventListener("mouseup",Gt),window.removeEventListener("touchmove",ot),window.removeEventListener("touchend",Gt),window.removeEventListener("touchcancel",Gt)},[se,D,C,ue,Ce,B,Yt]),ot=v.useCallback(K=>{if(H.current){const{clientX:pe,clientY:ke}="touches"in K?K.touches[0]:K,Ne=be.current;if(Ne){const He=Math.abs(pe-Ne.x),$e=Math.abs(ke-Ne.y);(He>5||$e>5)&&(H.current=!1,G.current&&clearTimeout(G.current))}return}if(!se)return;"touches"in K&&K.preventDefault();const{clientX:ve,clientY:je}="touches"in K?K.touches[0]:K;if(ce({x:ve,y:je}),B.layoutType==="columns"){let pe=document.elementFromPoint(ve,je),ke=pe==null?void 0:pe.closest("[data-droppable]");if(ke){const{droppable:Ne,columnId:He,groupId:$e,itemId:tt}=ke.dataset;Ne&&U({columnId:He,groupId:$e,itemId:tt})}else U(null)}},[se,B.layoutType]);v.useEffect(()=>(se&&(window.addEventListener("mousemove",ot),window.addEventListener("mouseup",Gt),window.addEventListener("touchmove",ot,{passive:!1}),window.addEventListener("touchend",Gt),window.addEventListener("touchcancel",Gt)),()=>{window.removeEventListener("mousemove",ot),window.removeEventListener("mouseup",Gt),window.removeEventListener("touchmove",ot)}),[se,ot,Gt]);const Mt=(K,ve,je)=>{if(!b||!je||Ie)return;const pe="touches"in K,{clientX:ke,clientY:Ne}=pe?K.touches[0]:K;be.current={x:ke,y:Ne},L(ve);const He=()=>{H.current=!1,navigator.vibrate&&navigator.vibrate(50);const $e=je.getBoundingClientRect(),tt=ke-$e.left,rt=Ne-$e.top;Te({x:tt,y:rt}),ce({x:ke,y:Ne});const Ve=je.cloneNode(!0);Ve.style.width=`${$e.width}px`,Ve.style.height=`${$e.height}px`,Ve.style.position="absolute",Ve.style.top="0px",Ve.style.left="0px",Ve.style.right="auto",Ve.style.bottom="auto",Ve.style.transform="none",Ve.style.margin="0",Ve.style.zIndex="1000",Ve.id="drag-ghost",z(n.jsx("div",{className:"opacity-80",dangerouslySetInnerHTML:{__html:Ve.outerHTML}})),we(!0),document.body.classList.add("dragging")};pe?(H.current=!0,G.current=window.setTimeout(He,200)):He()},Dt=(K,ve)=>_({type:K,data:ve}),bt=()=>{_(null),($==null?void 0:$.type)==="importConfirm"&&le(null)},Ut=(K,ve)=>{M({group:K,columnId:ve})},Ln=()=>{M(null)},_a=K=>{Yt(ve=>{var je;return{...ve,columns:(je=ve.columns)==null?void 0:je.map(pe=>({...pe,groups:pe.groups.map(ke=>ke.id===kb?{...ke,calculatorState:K}:ke)}))}})},Nl=(K,ve)=>{Yt(je=>{var pe;return{...je,columns:(pe=je.columns)==null?void 0:pe.map(ke=>({...ke,groups:ke.groups.map(Ne=>Ne.id===K?{...Ne,widgetSettings:{...Ne.widgetSettings,scratchpadContent:ve}}:Ne)}))}})},Sl=K=>{r(ve=>ve.map(je=>{var pe;return{...je,columns:(pe=je.columns)==null?void 0:pe.map(ke=>({...ke,groups:ke.groups.map(Ne=>({...Ne,items:Ne.items.map(He=>He.type==="link"&&He.id===K?{...He,isFavorite:!1}:He)}))}))}}))},tl=K=>{h(K)},Zn=K=>{r(K)},Ba=()=>{if(b)Ee.current.size>0&&Yt(K=>{if(K.layoutType==="layout")return K;const ve=JSON.parse(JSON.stringify(K));return ve.columns.forEach(je=>{je.groups.forEach(pe=>{Ee.current.has(pe.id)&&(pe.isCollapsed=!0)})}),ve}),Ee.current.clear(),O(!1);else{const K=new Set;Yt(ve=>{if(ve.layoutType==="layout")return ve;const je=JSON.parse(JSON.stringify(ve));let pe=!1;return je.columns.forEach(ke=>{ke.groups.forEach(Ne=>{Ne.isCollapsed&&(K.add(Ne.id),Ne.isCollapsed=!1,pe=!0)})}),Ee.current=K,pe?je:ve}),O(!0)}},zn=K=>{Dt("deleteTodoItem",{todoId:K})},Un=K=>{!C||!B||B.layoutType==="layout"||Yt(ve=>{const je=JSON.parse(JSON.stringify(ve));let pe=je.columns;if(C.type==="column"){const ke=pe.findIndex(He=>He.id===C.column.id),Ne=pe.findIndex(He=>He.id===K.columnId);if(ke!==-1&&Ne!==-1&&ke!==Ne){const[He]=pe.splice(ke,1);pe.splice(Ne,0,He)}}else if(C.type==="group"){const ke=pe.find(He=>He.id===C.sourceColumnId),Ne=pe.find(He=>He.id===K.columnId);if(ke&&Ne){const He=ke.groups.findIndex($e=>$e.id===C.group.id);if(He!==-1){const[$e]=ke.groups.splice(He,1);if(K.groupId){const tt=Ne.groups.findIndex(rt=>rt.id===K.groupId);tt!==-1?Ne.groups.splice(tt,0,$e):Ne.groups.push($e)}else Ne.groups.push($e)}}}else if(C.type==="groupItem"){const ke=pe.find(tt=>tt.id===C.sourceColumnId),Ne=ke==null?void 0:ke.groups.find(tt=>tt.id===C.sourceGroupId),He=pe.find(tt=>tt.id===K.columnId),$e=He==null?void 0:He.groups.find(tt=>tt.id===K.groupId);if(Ne&&$e){const tt=C.item.type,rt=!$e.widgetType||$e.type==="links",Ve=$e.widgetType==="homey_custom";let yt=!1;if(tt==="separator"?yt=!0:rt?yt=["link"].includes(tt):Ve&&(yt=["homey_capability","homey_large_capability","homey_slider","homey_flow","text","button_holder"].includes(tt)),Ne.id!==$e.id&&!yt)return ve;const gt=Ne.items.findIndex(en=>en.id===C.item.id);if(gt!==-1){const[en]=Ne.items.splice(gt,1);if(K.itemId){const la=$e.items.findIndex(sa=>sa.id===K.itemId);la!==-1?$e.items.splice(la,0,en):$e.items.push(en)}else $e.items.push(en)}}}return{...je,columns:pe}})},Qn=(K,ve)=>{Yt(je=>{var pe;return{...je,columns:(pe=je.columns)==null?void 0:pe.map(ke=>ke.id===K?{...ke,groups:ke.groups.map(Ne=>Ne.id===ve?{...Ne,isCollapsed:!Ne.isCollapsed}:Ne)}:ke)}})},pn=()=>{Dt("exportOptions")},kt=K=>{const je="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({version:2,dashboards:Z,settings:T,pageTitle:y,todos:x})),pe=document.createElement("a");pe.setAttribute("href",je),pe.setAttribute("download",K.endsWith(".json")?K:`${K}.json`),document.body.appendChild(pe),pe.click(),pe.remove(),S(new Date().toISOString()),bt(),W(!1)},nl=K=>{var pe;const ve=(pe=K.target.files)==null?void 0:pe[0];if(!ve)return;const je=new FileReader;je.onload=ke=>{var Ne;try{const He=(Ne=ke.target)==null?void 0:Ne.result,$e=JSON.parse(He);$e&&($e.columns||$e.settings||$e.dashboards)?(le($e),Dt("importConfirm",$e)):alert("Invalid backup file format.")}catch(He){console.error("Error parsing backup file:",He),alert("Error reading backup file.")}},je.readAsText(ve),K.target.value=""},al=K=>{var ve,je;if(K){if(K.dashboards)r(K.dashboards),f(((ve=K.dashboards[0])==null?void 0:ve.id)||"");else if(K.columns){const pe=Mh(null,K.columns);r(pe),f(((je=pe[0])==null?void 0:je.id)||"")}K.settings&&h({...ar,...K.settings}),K.pageTitle&&w(K.pageTitle),K.todos&&N(K.todos),bt(),W(!1),le(null)}},Bn=()=>{const K=p0;r([K]),f(K.id),h(ar),w("StartPanel"),N([]),S(""),V(new Date().toISOString()),ee(""),bt(),W(!1)},In=K=>{K.preventDefault();const ve=Oh[T.searchEngine]||Oh.google;let je;p.trim()?je=`${ve.url}${encodeURIComponent(p)}`:je=ve.home,T.openLinksInNewTab?window.open(je,"_blank","noopener,noreferrer"):window.location.href=je,p.trim()&&ye("")};if(v.useEffect(()=>{const K=ve=>{Ae.current&&!Ae.current.contains(ve.target)&&he(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),!B)return n.jsx("div",{className:`h-screen w-screen flex items-center justify-center ${ae.body}`,children:n.jsx("p",{children:"Loading dashboards..."})});const aa=B.columns||[],Ea=(K=3)=>{const ve=Xc[K]||Xc[3],je=Ch[T.columnWidth],pe=ve*je;return{width:`${pe}rem`,minWidth:`${pe}rem`,maxWidth:`${pe}rem`}};return n.jsxs(n.Fragment,{children:[n.jsx(Sb,{theme:ae}),se&&n.jsx(vy,{}),n.jsx(yy,{x:ue.x-Ce.x,y:ue.y-Ce.y,children:Se}),De&&Be&&n.jsx(Zx,{latestVersion:De.version,releaseNotes:De.notes,onUpdate:()=>window.open("https://github.com/Nicce70/StartPanel","_blank"),onDismiss:()=>{Ue(),xe(!1)},themeClasses:ae}),n.jsxs("div",{className:`h-screen flex flex-col font-sans transition-colors duration-300 ${Ie?"pointer-events-none":""}`,children:[n.jsx(gb,{isEditMode:b,pageTitle:y,setPageTitle:w,themeClasses:ae,settings:T,searchQuery:p,setSearchQuery:ye,handleSearchSubmit:In,isFirefox:Fe,dashboards:Z,activeDashboard:B,isDashboardDropdownOpen:I,setIsDashboardDropdownOpen:he,setActiveDashboardId:f,dashboardDropdownRef:Ae,onRequestExport:pn,handleToggleEditMode:Ba,isBackupOverdue:it,setIsSettingsModalOpen:W}),n.jsx("div",{className:"flex-grow overflow-auto min-h-0",children:n.jsx("div",{className:"px-2 sm:px-4 lg:px-6 h-full",children:B.layoutType==="layout"?n.jsx(vb,{ref:oe,dashboard:B,isEditMode:b,themeClasses:ae,openModal:Dt,onPointerDown:Mt,draggedItem:C,homeyDevices:zt,homeyVariables:St,homeyGlobalSettings:T.homey,onHomeyToggle:$t,onHomeyOptimisticUpdate:Pt}):aa.length===0&&!b?n.jsx("div",{className:"h-full w-full flex items-center justify-center",children:n.jsxs("div",{className:`text-center ${ae.textSubtle} p-8`,children:[n.jsx(cu,{className:"w-16 h-16 mx-auto opacity-30"}),n.jsx("h2",{className:`mt-4 text-2xl font-semibold ${ae.header}`,children:"This dashboard is empty"}),n.jsx("p",{className:"mt-2 text-lg",children:"Click the 'Edit' button to add your first column."})]})}):n.jsxs("div",{className:`flex items-start gap-${T.columnGap} ${T.centerContent&&!b?"w-full justify-center":""}`,children:[aa.map(K=>n.jsx(Cx,{column:K,allColumns:aa,isEditMode:b,onPointerDown:Mt,draggedItem:C,dropTarget:D,openModal:Dt,openLinkGroupPopup:Ut,groupGap:T.groupGap,showColumnTitles:T.showColumnTitles,onToggleGroupCollapsed:Qn,themeClasses:ae,openLinksInNewTab:T.openLinksInNewTab,widthStyle:Ea(K.width),isDeletable:aa.length>1,todos:x,setTodos:N,onCalculatorStateChange:_a,onScratchpadChange:Nl,showGroupToggles:T.showGroupToggles,hideBackground:T.hideColumnBackground,homeyGlobalSettings:T.homey,onRequestDeleteTodo:zn,homeyDevices:zt,homeyZones:an,homeyFlows:jt,homeyVariables:St,homeyConnectionState:hn,homeyLastUpdate:kn,homeyCountdown:Tn,homeyLog:Nn,onHomeyToggle:$t,onHomeyTriggerFlow:na,onHomeyOptimisticUpdate:Pt,onHomeySetValue:_n,onRemoveFavorite:Sl},K.id)),b&&n.jsx("div",{className:"flex-shrink-0",style:Ea(3),children:n.jsxs("button",{onClick:()=>Dt("addColumn"),className:`w-full flex items-center justify-center gap-2 p-4 border-2 border-dashed rounded-lg transition-colors ${ae.dashedBorder} ${ae.textSubtle} hover:border-slate-500 hover:text-slate-300`,children:[n.jsx(Ta,{className:"w-6 h-6"}),n.jsx("span",{className:"font-semibold",children:"Add Column"})]})})]})})}),T.showBottomPanel&&n.jsx(Yx,{dashboards:Z,activeDashboardId:i,setActiveDashboardId:f,themeClasses:ae,isEditMode:b})]}),Q&&n.jsx(Ix,{isOpen:Q,onClose:()=>W(!1),settings:T,onSettingsChange:tl,pageTitle:y,onPageTitleChange:w,themeClasses:ae,onExport:pn,onImport:nl,onReset:()=>Dt("resetConfirm"),dashboards:Z,onDashboardsChange:Zn,activeDashboardId:i,setActiveDashboardId:f,appVersion:Th}),n.jsx(hb,{modalState:$,onClose:bt,openModal:Dt,themeClasses:ae,dashboards:Z,onDashboardsChange:r,activeDashboard:B,setActiveDashboardId:f,todos:x,setTodos:N,settings:T,setSettings:h,setPageTitle:w,homeyFlows:jt,homeyVariables:St,onApplyImport:al,onResetToDefaults:Bn,onExport:kt,setImportData:le}),P&&n.jsx(Fx,{group:P.group,onClose:Ln,themeClasses:ae,openLinksInNewTab:T.openLinksInNewTab}),T.showQuotes&&!b&&n.jsx(qx,{settings:T,themeClasses:ae}),n.jsx(Vx,{themeClasses:ae}),n.jsx(Gx,{isVisible:it&&!fe,onBackupNow:()=>{ge(!0),pn()},onDismiss:()=>ge(!0),themeClasses:ae})]})}const g0=document.getElementById("root");if(!g0)throw new Error("Could not find root element to mount to");const jy=Mg.createRoot(g0);jy.render(n.jsx(or.StrictMode,{children:n.jsx(wy,{})}));
